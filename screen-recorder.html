<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CT8E5N460D"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-CT8E5N460D');</script>
  <title>Screen Recorder - Free Online Screen Recording Tool | No Ads, No Signup</title>
  <meta name="description" content="Free online screen recorder with browser MediaRecorder API. Record screen with optional microphone audio and export HD MP4 in browser. âœ… No ads âœ… No signup âœ… No limits.">
  <meta name="keywords" content="screen recorder online, record screen, hd mp4 screen recorder, browser screen recording, no ads, no signup, no login, no watermark, free unlimited, browser-based, no installation, local processing">
  <meta name="author" content="UseMagicTools">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="googlebot" content="index, follow">
  <meta name="bingbot" content="index, follow">
  <meta name="revisit-after" content="7 days">
  <meta name="rating" content="general">
  <meta name="distribution" content="global">
  <meta name="language" content="en">
  <link rel="canonical" href="https://www.usemagictools.com/screen-recorder.html">
  <link rel="alternate" hreflang="en" href="https://www.usemagictools.com/screen-recorder.html">
  <link rel="alternate" hreflang="zh-CN" href="https://www.usemagictools.com/screen-recorder.html">
  <link rel="alternate" hreflang="fr" href="https://www.usemagictools.com/screen-recorder.html">
  <link rel="alternate" hreflang="es" href="https://www.usemagictools.com/screen-recorder.html">
  <link rel="alternate" hreflang="x-default" href="https://www.usemagictools.com/screen-recorder.html">

  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.usemagictools.com/screen-recorder.html">
  <meta property="og:title" content="Screen Recorder - Free Online Screen Recording Tool | No Ads, No Signup">
  <meta property="og:description" content="Record browser tab, window, or full screen with optional microphone audio.">
  <meta property="og:image" content="https://www.usemagictools.com/screenshots/screen-recorder-v1.webp">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="en_US">
  <meta property="og:locale:alternate" content="zh_CN">
  <meta property="og:site_name" content="Web Toolbox">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@usemagictools">
  <meta name="twitter:creator" content="@usemagictools">
  <meta name="twitter:title" content="Screen Recorder - Free Online Screen Recording Tool | No Ads, No Signup">
  <meta name="twitter:description" content="Capture screen in browser and download recording instantly.">
  <meta name="twitter:image" content="https://www.usemagictools.com/screenshots/screen-recorder-v1.webp">

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"Screen Recorder",
    "alternateName":["åœ¨çº¿å½•å±","Browser Screen Recorder","Screen Recording Tool"],
    "url":"https://www.usemagictools.com/screen-recorder.html",
    "description":"Free online screen recorder with optional microphone and instant download.",
    "inLanguage":["en","zh-CN","fr","es"],
    "applicationCategory":"UtilitiesApplication",
    "operatingSystem":"Web Browser",
    "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},
    "author":{"@type":"Person","name":"UseMagicTools"},
    "publisher":{"@type":"Organization","name":"Web Toolbox","url":"https://www.usemagictools.com/"},
    "featureList":["Record full screen or browser tab","Optional microphone audio","Live preview and timer","Export recording as HD MP4","No ads","No signup required","No watermark","100% browser-based","Unlimited usage"],
    "screenshot":"https://www.usemagictools.com/screenshots/screen-recorder-v1.webp"
  }
  </script>
  <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://www.usemagictools.com/"
        },
        {
            "@type": "ListItem",
            "position": 2,
            "name": "Screen Recorder",
            "item": "https://www.usemagictools.com/screen-recorder.html"
        }
    ]
}
    </script>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"HowTo",
    "name":"How to Record Screen Online",
    "totalTime":"PT1M",
    "step":[
      {"@type":"HowToStep","position":1,"name":"Choose options","text":"Enable microphone if needed and click Start Recording."},
      {"@type":"HowToStep","position":2,"name":"Select screen source","text":"Pick browser tab, window, or full screen in sharing dialog."},
      {"@type":"HowToStep","position":3,"name":"Stop and download","text":"Stop recording and download HD MP4 file instantly."}
    ]
  }
  </script>
  <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {
            "@type": "Question",
            "name": "What is an online screen recorder and how does it work?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "An online screen recorder captures your screen using browser APIs like getDisplayMedia and MediaRecorder. It records video locally and exports the file without desktop installation. Modern browsers support native MP4 recording for instant downloads."
            }
        },
        {
            "@type": "Question",
            "name": "Can I record screen with microphone audio?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes. Enable the microphone option before starting your recording to capture voice narration alongside the screen content. The browser merges your microphone audio stream with the screen capture for a synchronized recording. This is perfect for creating tutorials, demos, and presentations. The tool is completely free, requires no signup, and records directly in your browser."
            }
        },
        {
            "@type": "Question",
            "name": "What format is used for download?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Modern browsers record screen captures in WebM or MP4 format using the native MediaRecorder API, producing HD quality video with no additional conversion or transcoding needed. The recording downloads instantly to your device after you stop capturing. File format depends on your browser's supported codecs. This free tool requires no signup, no ads, and no software installation."
            }
        },
        {
            "@type": "Question",
            "name": "Is recording private and local in browser?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes. Screen recording begins only after you explicitly grant permission through the browser's built-in security prompt. The entire recording process runs locally in your browser with no mandatory account creation or login flow. Your screen content and audio are never streamed to or stored on any external server. This free tool ensures complete privacy for all recordings."
            }
        },
        {
            "@type": "Question",
            "name": "Is this tool really free with no ads?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser â€” your data is never uploaded to any server."
            }
        }
    ]
}
</script>

  <style>
    :root{--bg:#020617;--card:#0f172a;--muted:#94a3b8;--text:#e2e8f0;--border:rgba(148,163,184,.15);--primary:#3b82f6;--primary2:#2563eb;--red:#ef4444;--green:#10b981;--radius:16px}
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:"Inter","SF Pro Text",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:var(--bg);color:var(--text);min-height:100vh;padding:24px 16px 60px;overflow-x:hidden}

    /* æµ®åŠ¨èƒŒæ™¯å…‰çƒ */
    .orb{position:fixed;border-radius:50%;filter:blur(90px);pointer-events:none;z-index:0;animation:bgFloat 22s ease-in-out infinite}
    .orb-1{width:420px;height:420px;top:-120px;left:-80px;background:rgba(59,130,246,.22)}
    .orb-2{width:360px;height:360px;bottom:-80px;right:-60px;background:rgba(139,92,246,.18);animation-delay:-8s}
    .orb-3{width:280px;height:280px;top:45%;left:55%;background:rgba(16,185,129,.14);animation-delay:-15s}
    @keyframes bgFloat{0%,100%{transform:translate(0,0) scale(1)}33%{transform:translate(30px,-25px) scale(1.06)}66%{transform:translate(-25px,18px) scale(.94)}}

    .anim{opacity:0;animation:fadeInUp .55s ease forwards}
    .anim-d1{animation-delay:.05s}.anim-d2{animation-delay:.12s}.anim-d3{animation-delay:.2s}.anim-d4{animation-delay:.28s}.anim-d5{animation-delay:.36s}.anim-d6{animation-delay:.44s}.anim-d7{animation-delay:.52s}.anim-d8{animation-delay:.6s}

    .container{max-width: 1200px;margin:0 auto;padding:40px;position:relative;z-index:1}

    /* æ ‡é¢˜ */
    h1{text-align:center;font-size:2.2rem;font-weight:700;letter-spacing:-.03em;margin-bottom:8px;background:linear-gradient(135deg,#e2e8f0,#94a3b8);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .subtitle{text-align:center;color:var(--muted);margin-bottom:20px;font-size:15px}

    /* æ­¥éª¤æŒ‡ç¤ºå™¨ */
    .steps{display:flex;align-items:center;justify-content:center;gap:0;margin-bottom:22px}
    .step{display:flex;align-items:center;gap:7px;padding:6px 12px;font-size:13px;color:var(--muted);font-weight:500;transition:color .3s}
    .step-num{width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;border:2px solid var(--border);background:transparent;transition:all .3s}
    .step.active{color:var(--primary)}.step.active .step-num{border-color:var(--primary);background:var(--primary);color:#fff}
    .step.done{color:var(--green)}.step.done .step-num{border-color:var(--green);background:var(--green);color:#fff}
    .step-line{width:36px;height:2px;background:var(--border);transition:background .3s}
    .step-line.active{background:var(--green)}

    /* æ¯›ç»ç’ƒä¸»å¡ç‰‡ */
    .glass-card{background:rgba(15,23,42,.55);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid var(--border);border-radius:var(--radius);transition:border-color .4s,box-shadow .4s;overflow:hidden}

    /* çŠ¶æ€è¾¹æ¡† */
    .tool-card[data-state="recording"],.tool-card[data-state="paused"]{border-color:rgba(239,68,68,.5);box-shadow:0 0 40px rgba(239,68,68,.15)}
    .tool-card[data-state="done"]{border-color:rgba(16,185,129,.4);box-shadow:0 0 40px rgba(16,185,129,.12)}

    /* ===== é…ç½®æ  ===== */
    .config-bar{display:none;align-items:center;justify-content:center;gap:20px;flex-wrap:wrap;padding:18px 20px;border-bottom:1px solid var(--border)}
    .toggle-label{display:flex;align-items:center;gap:10px;cursor:pointer;font-size:14px;color:var(--muted);user-select:none}
    .toggle-input{display:none}
    .toggle-switch{position:relative;width:44px;height:24px;background:rgba(100,116,139,.25);border-radius:12px;transition:.3s;flex-shrink:0}
    .toggle-switch::after{content:'';position:absolute;top:3px;left:3px;width:18px;height:18px;background:#64748b;border-radius:50%;transition:.3s}
    .toggle-input:checked+.toggle-switch{background:rgba(59,130,246,.5)}
    .toggle-input:checked+.toggle-switch::after{transform:translateX(20px);background:#60a5fa}
    .quality-opt{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--muted)}
    .quality-select{background:rgba(2,6,23,.6);border:1px solid var(--border);color:var(--text);border-radius:8px;padding:6px 10px;font-size:13px;cursor:pointer}

    /* æ°´å°é€‰é¡¹é¢æ¿ */
    .wm-options{display:none;align-items:center;justify-content:center;gap:16px;flex-wrap:wrap;padding:14px 20px;border-bottom:1px solid var(--border);background:rgba(2,6,23,.3)}
    .wm-field{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--muted)}
    .wm-field label{white-space:nowrap;font-weight:500}
    .wm-field input[type="text"]{background:rgba(2,6,23,.6);border:1px solid var(--border);color:var(--text);border-radius:8px;padding:6px 10px;font-size:13px;min-width:160px;outline:none;transition:border-color .2s}
    .wm-field input[type="text"]:focus{border-color:var(--primary)}
    .wm-field input[type="text"]::placeholder{color:var(--muted);opacity:.6}
    .wm-color-input{-webkit-appearance:none;appearance:none;width:36px;height:30px;border:1px solid var(--border);border-radius:8px;background:transparent;cursor:pointer;padding:2px}
    .wm-color-input::-webkit-color-swatch-wrapper{padding:0}.wm-color-input::-webkit-color-swatch{border:none;border-radius:5px}

    /* ===== å¼€å§‹åŒºåŸŸ ===== */
    .start-section{display:none;flex-direction:column;align-items:center;padding:0 20px 20px}
    .placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;border:2px dashed rgba(148,163,184,.15);border-radius:14px;margin:0 0 18px;width:100%;color:var(--muted);gap:10px}
    .placeholder-icon{font-size:52px;opacity:.4}
    .placeholder p{font-size:15px}
    .start-btn{display:flex;align-items:center;justify-content:center;gap:10px;padding:15px 44px;border:none;border-radius:14px;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;font-size:17px;font-weight:600;cursor:pointer;transition:all .25s;box-shadow:0 4px 24px rgba(239,68,68,.3)}
    .start-btn:hover{transform:translateY(-2px);box-shadow:0 8px 32px rgba(239,68,68,.45)}
    .start-btn:disabled{opacity:.4;cursor:not-allowed;transform:none;box-shadow:none}
    .start-btn .rec-circle{width:14px;height:14px;border-radius:50%;background:#fff;flex-shrink:0}

    /* ===== å½•åˆ¶å¤´éƒ¨ ===== */
    .rec-header{display:none;text-align:center;padding:20px 20px 10px}
    .rec-badge{display:inline-flex;align-items:center;gap:8px;padding:5px 16px;border-radius:999px;background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.3);color:#fca5a5;font-size:13px;font-weight:600;margin-bottom:6px}
    .rec-dot{width:10px;height:10px;border-radius:50%;background:#ef4444;animation:recPulse 1.2s ease-out infinite}
    @keyframes recPulse{0%{box-shadow:0 0 0 0 rgba(239,68,68,.7)}70%{box-shadow:0 0 0 10px rgba(239,68,68,0)}100%{box-shadow:0 0 0 0 rgba(239,68,68,0)}}
    .rec-timer{font-family:"JetBrains Mono","SF Mono",Consolas,monospace;font-size:52px;font-weight:700;color:#fff;letter-spacing:3px;line-height:1.15;text-shadow:0 0 40px rgba(239,68,68,.3)}
    [data-state="paused"] .rec-timer{color:#fbbf24;text-shadow:0 0 40px rgba(251,191,36,.25)}
    [data-state="paused"] .rec-badge{background:rgba(234,179,8,.1);border-color:rgba(234,179,8,.3);color:#fde68a}
    [data-state="paused"] .rec-dot{background:#eab308;animation:none}

    /* ===== å½•åˆ¶æ§åˆ¶ ===== */
    .rec-controls{display:none;justify-content:center;gap:10px;padding:8px 20px 16px}
    .ctrl-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 22px;border:1px solid var(--border);border-radius:10px;background:rgba(15,23,42,.7);color:var(--text);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}
    .ctrl-btn:hover{border-color:#64748b;background:rgba(30,41,59,.7)}
    .ctrl-btn:disabled{opacity:.35;cursor:not-allowed}
    .ctrl-btn.stop-btn{border-color:rgba(239,68,68,.4);color:#fca5a5}
    .ctrl-btn.stop-btn:hover{background:rgba(127,29,29,.25);border-color:rgba(239,68,68,.6)}

    /* ===== è§†é¢‘åŒºåŸŸ ===== */
    .video-wrap{padding:0 16px 12px;display:none}
    .video-wrap video{width:100%;border-radius:12px;background:#020617;display:block}

    /* ===== å®Œæˆæ  ===== */
    .done-bar{display:none;align-items:center;justify-content:space-between;gap:14px;flex-wrap:wrap;padding:16px 20px;border-top:1px solid var(--border)}
    .file-info{display:flex;align-items:center;gap:10px;color:var(--muted);font-size:14px}
    .file-icon{font-size:20px}
    .file-meta{line-height:1.4}
    .file-name{font-weight:600;color:var(--text)}
    .file-size{font-size:12px;color:var(--muted)}
    .done-actions{display:flex;gap:10px;align-items:center}
    .new-btn{padding:10px 18px;border:1px solid var(--border);border-radius:10px;background:transparent;color:var(--muted);font-size:14px;cursor:pointer;transition:all .2s}
    .new-btn:hover{border-color:#64748b;color:var(--text)}
    .download-btn{display:flex;align-items:center;gap:8px;padding:11px 26px;border:none;border-radius:12px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-size:15px;font-weight:600;cursor:pointer;transition:all .25s;animation:glowPulse 2.2s ease-in-out infinite}
    .download-btn:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(16,185,129,.5)}
    @keyframes glowPulse{0%,100%{box-shadow:0 0 14px rgba(16,185,129,.25)}50%{box-shadow:0 0 32px rgba(16,185,129,.5)}}

    /* çŠ¶æ€è¡Œ */
    .status-line{padding:10px 20px;font-size:13px;color:#93c5fd;min-height:38px}

    /* ===== CSS çŠ¶æ€åˆ‡æ¢ï¼ˆåŸºäº data-stateï¼‰ ===== */
    [data-state="idle"] .config-bar{display:flex}
    [data-state="idle"] .start-section{display:flex}
    [data-state="idle"] .wm-options.active{display:flex}

    [data-state="recording"] .rec-header,[data-state="paused"] .rec-header{display:block}
    [data-state="recording"] .rec-controls,[data-state="paused"] .rec-controls{display:flex}
    [data-state="recording"] .video-wrap,[data-state="paused"] .video-wrap,[data-state="done"] .video-wrap{display:block}
    [data-state="recording"] #pauseBtn{display:inline-flex}
    [data-state="recording"] #resumeBtn{display:none}
    [data-state="paused"] #pauseBtn{display:none}
    [data-state="paused"] #resumeBtn{display:inline-flex}

    [data-state="done"] .done-bar{display:flex}

    /* ===== ä¿¡ä»»æ¡ + åŠŸèƒ½åŒº + FAQ + ç›¸å…³å·¥å…· ===== */
    .features-section,.faq-section,.related-tools{margin-top:30px}
    .features-section h2,.faq-section h2,.related-tools h3{margin:0 0 16px;font-size:1.2rem}
    .features-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
    .related-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
    .feature,.related-card{border:1px solid var(--border);border-radius:12px;padding:14px;background:rgba(2,6,23,.45);transition:border-color .2s,transform .2s}.feature:hover,.related-card:hover{border-color:rgba(148,163,184,.3);transform:translateY(-2px)}.feature h4,.related-card h4{margin:8px 0 6px;font-size:14px}.feature p,.related-card p{color:var(--muted);font-size:13px;line-height:1.6}
    .related-card{text-decoration:none;color:inherit;display:block}
    .faq-item{border:1px solid var(--border);border-radius:12px;margin-bottom:8px;overflow:hidden;background:rgba(2,6,23,.4);transition:border-color .2s}.faq-item:hover{border-color:rgba(148,163,184,.25)}.faq-question{width:100%;text-align:left;background:transparent;border:0;color:var(--text);padding:14px 16px;cursor:pointer;font-size:14px;font-weight:500;display:flex;justify-content:space-between;align-items:center}.faq-question::after{content:'+';font-size:18px;color:var(--muted);transition:transform .2s}.faq-item.active .faq-question::after{transform:rotate(45deg)}.faq-answer{display:none;padding:0 16px 14px;color:var(--muted);font-size:13px;line-height:1.65}.faq-item.active .faq-answer{display:block}

    @media(max-width:960px){.features-grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:480px){.features-grid{grid-template-columns:1fr}.container{padding:20px}}
    @media(max-width:640px){h1{font-size:1.7rem}.features-grid,.steps{gap:0}.step span:not(.step-num){display:none}.config-bar{gap:14px}.wm-options{gap:10px;padding:12px 16px}.wm-field{flex-wrap:wrap}.wm-field input[type="text"]{min-width:120px;flex:1}.done-bar{flex-direction:column;align-items:stretch}.done-actions{justify-content:stretch}.done-actions .download-btn,.done-actions .new-btn{flex:1;justify-content:center}.rec-timer{font-size:40px}}
  </style>
    <link rel="stylesheet" href="common/common.css">
</head>
<body>
<!-- èƒŒæ™¯å…‰çƒ -->
<div class="orb orb-1"></div>
<div class="orb orb-2"></div>
<div class="orb orb-3"></div>

<div class="container">
  <h1 class="anim anim-d2" data-i18n="title">Screen Recorder</h1>
  <p class="subtitle anim anim-d2" data-i18n="subtitle">Record screen online with optional microphone audio</p>

  <!-- æ­¥éª¤æŒ‡ç¤ºå™¨ -->
  <div class="steps anim anim-d3">
    <div class="step active" id="step1"><span class="step-num">1</span><span data-i18n="step1">Setup</span></div>
    <div class="step-line" id="line1"></div>
    <div class="step" id="step2"><span class="step-num">2</span><span data-i18n="step2">Record</span></div>
    <div class="step-line" id="line2"></div>
    <div class="step" id="step3"><span class="step-num">3</span><span data-i18n="step3">Save</span></div>
  </div>

  <!-- ä¸»å¡ç‰‡ -->
  <section class="glass-card tool-card anim anim-d4" id="toolCard" data-state="idle">
    <input type="hidden" id="formatSel" value="mp4">

    <!-- é…ç½®æ ï¼ˆç©ºé—²æ€ï¼‰ -->
    <div class="config-bar" id="configBar">
      <label class="toggle-label">
        <input type="checkbox" id="micChk" class="toggle-input">
        <span class="toggle-switch"></span>
        <span data-i18n="mic">Include Microphone</span>
      </label>
      <div class="quality-opt">
        <span data-i18n="quality">Quality</span>
        <select id="qualitySel" class="quality-select">
          <option value="source" data-i18n="qualitySource">Source</option>
          <option value="hd1080" data-i18n="quality1080">1080p</option>
          <option value="hd720" data-i18n="quality720">720p</option>
        </select>
      </div>
      <label class="toggle-label">
        <input type="checkbox" id="wmChk" class="toggle-input">
        <span class="toggle-switch"></span>
        <span data-i18n="watermark">Watermark</span>
      </label>
    </div>

    <!-- æ°´å°è®¾ç½® -->
    <div class="wm-options" id="wmOptions">
      <div class="wm-field">
        <label data-i18n="wm_text">Text</label>
        <input type="text" id="wmText" maxlength="80" placeholder="Enter watermark text..." data-i18n-placeholder="wm_placeholder">
      </div>
      <div class="wm-field">
        <label data-i18n="wm_position">Position</label>
        <select id="wmPos" class="quality-select">
          <option value="bottom-right" data-i18n="wm_br">Bottom Right</option>
          <option value="bottom-left" data-i18n="wm_bl">Bottom Left</option>
          <option value="top-left" data-i18n="wm_tl">Top Left</option>
          <option value="top-right" data-i18n="wm_tr">Top Right</option>
          <option value="center" data-i18n="wm_center">Center</option>
        </select>
      </div>
      <div class="wm-field">
        <label data-i18n="wm_size">Size</label>
        <select id="wmSize" class="quality-select">
          <option value="small" data-i18n="wm_small">Small</option>
          <option value="medium" data-i18n="wm_medium">Medium</option>
          <option value="large" selected data-i18n="wm_large">Large</option>
        </select>
      </div>
      <div class="wm-field">
        <label data-i18n="wm_color">Color</label>
        <input type="color" id="wmColor" value="#ffffff" class="wm-color-input">
      </div>
      <div class="wm-field">
        <label data-i18n="wm_opacity">Opacity</label>
        <select id="wmOpacity" class="quality-select">
          <option value="0.1">10%</option>
          <option value="0.2">20%</option>
          <option value="0.3">30%</option>
          <option value="0.4">40%</option>
          <option value="0.5" selected>50%</option>
          <option value="0.6">60%</option>
          <option value="0.7">70%</option>
          <option value="0.8">80%</option>
          <option value="0.9">90%</option>
          <option value="1.0">100%</option>
        </select>
      </div>
    </div>

    <!-- å¼€å§‹åŒºåŸŸï¼ˆç©ºé—²æ€ï¼‰ -->
    <div class="start-section" id="startSection">
      <div class="placeholder">
        <div class="placeholder-icon">ğŸ–¥ï¸</div>
        <p data-i18n="placeholderText">Your screen preview will appear here</p>
      </div>
      <button class="start-btn" id="startBtn">
        <span class="rec-circle"></span>
        <span data-i18n="start">Start Recording</span>
      </button>
    </div>

    <!-- å½•åˆ¶å¤´éƒ¨ï¼ˆå½•åˆ¶/æš‚åœæ€ï¼‰ -->
    <div class="rec-header" id="recHeader">
      <div class="rec-badge"><span class="rec-dot"></span><span id="recBadgeText" data-i18n="recordingAlert">REC</span></div>
      <div class="rec-timer" id="timer">00:00</div>
    </div>

    <!-- è§†é¢‘ -->
    <div class="video-wrap"><video id="preview" controls autoplay muted playsinline></video></div>

    <!-- å½•åˆ¶æ§åˆ¶ï¼ˆå½•åˆ¶/æš‚åœæ€ï¼‰ -->
    <div class="rec-controls" id="recControls">
      <button class="ctrl-btn" id="pauseBtn" data-i18n="pause">â¸ Pause</button>
      <button class="ctrl-btn" id="resumeBtn" data-i18n="resume">â–¶ Resume</button>
      <button class="ctrl-btn stop-btn" id="stopBtn" data-i18n="stop">â¹ Stop</button>
    </div>

    <!-- å®Œæˆæ ï¼ˆå®Œæˆæ€ï¼‰ -->
    <div class="done-bar" id="doneBar">
      <div class="file-info">
        <span class="file-icon">ğŸ¬</span>
        <div class="file-meta">
          <div class="file-name" id="fileName">recording.mp4</div>
          <div class="file-size" id="fileSize"></div>
        </div>
      </div>
      <div class="done-actions">
        <button class="new-btn" id="newBtn" data-i18n="newRecording">Record Again</button>
        <button class="download-btn" id="downloadBtn">â¬‡ <span data-i18n="downloadMp4">Download MP4</span></button>
      </div>
    </div>

    <div class="status-line" id="status"></div>
  </section>

  <div class="trust-bar anim anim-d5"><span class="trust-item" data-i18n="trust_users">ğŸŒ Used by 50,000+ users</span><span class="trust-item" data-i18n="trust_rating">â­ 4.9/5 rating</span><span class="trust-item" data-i18n="trust_privacy">ğŸ”’ 100% Private</span><span class="trust-item" data-i18n="trust_free">ğŸš« No Ads, No Signup</span></div>

  <section class="features-section anim anim-d6"><h2 data-i18n="features_title">Screen Recorder Features</h2><div class="features-grid">
    <article class="feature"><div>ğŸ”’</div><h4 data-i18n="f1_t">100% Free & Private</h4><p data-i18n="f1_d">No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.</p></article>
    <article class="feature"><div>ğŸ–¥ï¸</div><h4 data-i18n="f2_t">Browser Screen Capture</h4><p data-i18n="f2_d">Record browser tab, application window, or full screen directly online.</p></article>
    <article class="feature"><div>ğŸ™ï¸</div><h4 data-i18n="f3_t">Microphone Audio Option</h4><p data-i18n="f3_d">Enable voice recording to create tutorials, demos, and walkthrough videos.</p></article>
    <article class="feature"><div>ğŸ¬</div><h4 data-i18n="f4_t">HD MP4 Export</h4><p data-i18n="f4_d">Record and download high-quality MP4 directly in your browser â€” no conversion needed.</p></article>
  </div></section>

  <section class="faq-section anim anim-d7"><h2 data-i18n="faq_title">Frequently Asked Questions</h2>
    <div class="faq-item"><button class="faq-question" data-i18n="faq1_q">What is an online screen recorder and how does it work?</button><div class="faq-answer" data-i18n="faq1_a">An online screen recorder captures your screen using browser APIs like getDisplayMedia and MediaRecorder. It records video locally and exports the file without any desktop installation. Modern browsers can record directly in MP4 format, so you get instant downloads with no conversion wait time.</div></div>
    <div class="faq-item"><button class="faq-question" data-i18n="faq2_q">Can I record screen with microphone audio?</button><div class="faq-answer" data-i18n="faq2_a">Yes. Enable the microphone option before recording to merge your voice input with the screen capture stream. This is perfect for creating tutorials, product demos, and walkthrough videos with live narration.</div></div>
    <div class="faq-item"><button class="faq-question" data-i18n="faq3_q">What format is used for download?</button><div class="faq-answer" data-i18n="faq3_a">Modern browsers support native MP4 recording, so no extra conversion or transcoding engine is needed â€” your recording downloads instantly after you stop.</div></div>
    <div class="faq-item"><button class="faq-question" data-i18n="faq4_q">Is recording private and local in browser?</button><div class="faq-answer" data-i18n="faq4_a">Yes. Screen recording starts only after your explicit permission and runs entirely in the browser context. No data is uploaded to any server.</div></div>
    <div class="faq-item"><button class="faq-question" data-i18n="faq_free_q">Is this tool really free with no ads?</button><div class="faq-answer" data-i18n="faq_free_a">Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser â€” your data is never uploaded to any server.</div></div>
  </section>

  <section class="related-tools anim anim-d8"><h3 data-i18n="related_title">Related Tools</h3><div class="related-grid">
    <a class="related-card" href="audio-cutter.html"><div>ğŸ§</div><h4 data-i18n="r1_t">Audio Cutter</h4><p data-i18n="r1_d">Trim narration audio from recorded videos.</p></a>
    <a class="related-card" href="timestamp-converter.html"><div>ğŸ•’</div><h4 data-i18n="r2_t">Timestamp Converter</h4><p data-i18n="r2_d">Convert timeline points while editing recordings.</p></a>
    <a class="related-card" href="image-to-pdf.html"><div>ğŸ—‚ï¸</div><h4 data-i18n="r3_t">Image to PDF</h4><p data-i18n="r3_d">Turn captured screenshots into shareable PDFs.</p></a>
    <a class="related-card" href="pdf-compress.html"><div>ğŸ“¦</div><h4 data-i18n="r4_t">PDF Compress</h4><p data-i18n="r4_d">Compress docs created from recording snapshots.</p></a>
  </div></section>
</div>

<script>
(function(){
  'use strict';
var i18n={
    en:{back:'Back to Toolbox',tool_name:'Screen Recorder',title:'Screen Recorder',subtitle:'Record screen online with optional microphone audio',step1:'Setup',step2:'Record',step3:'Save',mic:'Include Microphone',start:'Start Recording',pause:'â¸ Pause',resume:'â–¶ Resume',stop:'â¹ Stop',quality:'Quality',quality1080:'1080p',quality720:'720p',qualitySource:'Source',downloadMp4:'Download MP4',newRecording:'Record Again',placeholderText:'Your screen preview will appear here',recordingAlert:'REC',alreadyRecording:'Recording is already in progress',needStart:'Start recording first',starting:'Requesting screen permission...',recording:'Recording...',paused:'Paused',stopped:'Stopped',downloadReady:'Recording ready â€” click Download to save.',downloading:'Download started',mp4Unsupported:'MP4 not supported in this browser. Using WebM.',browserUnsupported:'Your browser does not support screen recording',error:'Error',trust_users:'ğŸŒ Used by 50,000+ users',trust_rating:'â­ 4.9/5 rating',trust_privacy:'ğŸ”’ 100% Private',trust_free:'ğŸš« No Ads, No Signup',features_title:'Screen Recorder Features',f1_t:'100% Free & Private',f1_d:'No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.',f2_t:'Browser Screen Capture',f2_d:'Record browser tab, application window, or full screen directly online.',f3_t:'Microphone Audio Option',f3_d:'Enable voice recording to create tutorials, demos, and walkthrough videos.',f4_t:'HD MP4 Export',f4_d:'Record and download high-quality MP4 directly in your browser â€” no conversion needed.',faq_title:'Frequently Asked Questions',faq1_q:'What is an online screen recorder and how does it work?',faq1_a:'An online screen recorder captures your screen using browser APIs like getDisplayMedia and MediaRecorder. It records video locally and exports the file without any desktop installation. Modern browsers (Chrome, Edge, Safari) can record directly in MP4 format, so you get instant downloads with no conversion wait time.',faq2_q:'Can I record screen with microphone audio?',faq2_a:'Yes. Enable the microphone option before recording to merge your voice input with the screen capture stream. This is perfect for creating tutorials, product demos, and walkthrough videos with live narration.',faq3_q:'What format is used for download?',faq3_a:'Modern browsers support native MP4 recording, so no extra conversion or transcoding engine is needed â€” your recording downloads instantly after you stop.',faq4_q:'Is recording private and local in browser?',faq4_a:'Yes. Screen recording starts only after your explicit permission and runs entirely in the browser context. No data is uploaded to any server. There is no mandatory account flow, no tracking, and no third-party processing involved.',faq_free_q:'Is this tool really free with no ads?',faq_free_a:'Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser â€” your data is never uploaded to any server.',related_title:'Related Tools',r1_t:'Audio Cutter',r1_d:'Trim narration audio from recorded videos.',r2_t:'Timestamp Converter',r2_d:'Convert timeline points while editing recordings.',r3_t:'Image to PDF',r3_d:'Turn captured screenshots into shareable PDFs.',r4_t:'PDF Compress',r4_d:'Compress docs created from recording snapshots.',watermark:'Watermark',wm_text:'Text',wm_position:'Position',wm_opacity:'Opacity',wm_placeholder:'Enter watermark text...',wm_br:'Bottom Right',wm_bl:'Bottom Left',wm_tl:'Top Left',wm_tr:'Top Right',wm_center:'Center',wm_size:'Size',wm_small:'Small',wm_medium:'Medium',wm_large:'Large',wm_color:'Color'},
    'zh-CN':{back:'è¿”å›å·¥å…·ç®±',tool_name:'åœ¨çº¿å½•å±',title:'åœ¨çº¿å½•å±å·¥å…·',subtitle:'æµè§ˆå™¨å½•åˆ¶å±å¹•ï¼Œå¯é€‰éº¦å…‹é£éŸ³é¢‘',step1:'è®¾ç½®',step2:'å½•åˆ¶',step3:'ä¿å­˜',mic:'åŒ…å«éº¦å…‹é£',start:'å¼€å§‹å½•åˆ¶',pause:'â¸ æš‚åœ',resume:'â–¶ ç»§ç»­',stop:'â¹ åœæ­¢',quality:'æ¸…æ™°åº¦',quality1080:'1080p',quality720:'720p',qualitySource:'åŸå§‹åˆ†è¾¨ç‡',downloadMp4:'ä¸‹è½½ MP4',newRecording:'é‡æ–°å½•åˆ¶',placeholderText:'å½•åˆ¶å†…å®¹å°†åœ¨æ­¤æ˜¾ç¤º',recordingAlert:'REC',alreadyRecording:'å·²ç»åœ¨å½•åˆ¶ä¸­',needStart:'è¯·å…ˆå¼€å§‹å½•åˆ¶',starting:'æ­£åœ¨è¯·æ±‚å±å¹•æƒé™...',recording:'å½•åˆ¶ä¸­...',paused:'å·²æš‚åœ',stopped:'å·²åœæ­¢',downloadReady:'å½•åˆ¶å®Œæˆï¼Œç‚¹å‡»ä¸‹è½½æŒ‰é’®ä¿å­˜æ–‡ä»¶ã€‚',downloading:'å·²å¼€å§‹ä¸‹è½½',mp4Unsupported:'å½“å‰æµè§ˆå™¨ä¸æ”¯æŒ MP4 å½•åˆ¶ï¼Œå°†ä½¿ç”¨ WebM æ ¼å¼ã€‚',browserUnsupported:'å½“å‰æµè§ˆå™¨ä¸æ”¯æŒå½•å±åŠŸèƒ½',error:'é”™è¯¯',trust_users:'ğŸŒ è¶…è¿‡ 50,000 ç”¨æˆ·ä½¿ç”¨',trust_rating:'â­ 4.9/5 å¥½è¯„',trust_privacy:'ğŸ”’ 100% éšç§å®‰å…¨',trust_free:'ğŸš« æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œ',features_title:'å½•å±åŠŸèƒ½ç‰¹ç‚¹',f1_t:'100% å…è´¹ä¸”å®‰å…¨',f1_d:'æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— æ°´å°ã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œæ•°æ®ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚',f2_t:'æµè§ˆå™¨å±å¹•é‡‡é›†',f2_d:'å¯å½•åˆ¶æ ‡ç­¾é¡µã€çª—å£æˆ–å…¨å±å†…å®¹ã€‚',f3_t:'éº¦å…‹é£éŸ³é¢‘å¯é€‰',f3_d:'æ”¯æŒåŒæ­¥å½•åˆ¶è®²è§£å£°éŸ³ï¼Œé€‚åˆæ•™ç¨‹å’Œæ¼”ç¤ºã€‚',f4_t:'é«˜æ¸… MP4 å¯¼å‡º',f4_d:'æµè§ˆå™¨åŸç”Ÿå½•åˆ¶ MP4ï¼Œæ— éœ€è½¬ç å³å¯ç›´æ¥ä¸‹è½½ã€‚',faq_title:'å¸¸è§é—®é¢˜',faq1_q:'ä»€ä¹ˆæ˜¯åœ¨çº¿å½•å±å·¥å…·ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ',faq1_a:'åœ¨çº¿å½•å±å·¥å…·åŸºäº getDisplayMedia å’Œ MediaRecorder ç­‰æµè§ˆå™¨ API é‡‡é›†ç”»é¢ã€‚å½•åˆ¶è¿‡ç¨‹åœ¨æœ¬åœ°å®Œæˆï¼Œæ— éœ€å®‰è£…æ¡Œé¢å®¢æˆ·ç«¯ã€‚ç°ä»£æµè§ˆå™¨æ”¯æŒç›´æ¥å½•åˆ¶ MP4 æ ¼å¼ï¼Œå½•å®Œå³å¯ä¸‹è½½ï¼Œæ— éœ€ç­‰å¾…è½¬ç ã€‚',faq2_q:'å¯ä»¥åŒæ—¶å½•åˆ¶éº¦å…‹é£å—ï¼Ÿ',faq2_a:'å¯ä»¥ã€‚å¼€å§‹å‰å‹¾é€‰éº¦å…‹é£é€‰é¡¹ï¼Œå³å¯æŠŠè¯­éŸ³ä¸å±å¹•æµåˆå¹¶å½•åˆ¶ã€‚éå¸¸é€‚åˆåˆ¶ä½œæ•™ç¨‹ã€äº§å“æ¼”ç¤ºå’Œæ“ä½œè¯´æ˜è§†é¢‘ã€‚',faq3_q:'ä¸‹è½½æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Ÿ',faq3_a:'ç°ä»£æµè§ˆå™¨åŸç”Ÿæ”¯æŒ MP4 å½•åˆ¶ï¼Œæ— éœ€é¢å¤–è½¬ç å¼•æ“ï¼Œå½•åˆ¶å®Œå³å¯ç›´æ¥ä¸‹è½½ã€‚',faq4_q:'å½•å±è¿‡ç¨‹æ˜¯æœ¬åœ°å’Œéšç§å®‰å…¨å—ï¼Ÿ',faq4_a:'æ˜¯çš„ã€‚ä»…åœ¨ä½ æˆæƒåæ‰ä¼šå¼€å§‹é‡‡é›†ï¼Œä¸”å½•åˆ¶åœ¨æµè§ˆå™¨ä¸Šä¸‹æ–‡æ‰§è¡Œï¼Œæ— å¼ºåˆ¶è´¦å·æµç¨‹ã€‚ä¸ä¼šæœ‰ä»»ä½•æ•°æ®ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚',faq_free_q:'è¿™ä¸ªå·¥å…·çœŸçš„å…è´¹ä¸”æ— å¹¿å‘Šå—ï¼Ÿ',faq_free_a:'æ˜¯çš„ï¼Œ100% å…è´¹ï¼Œæ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— æ°´å°ã€æ— é™åˆ¶ã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œä½ çš„æ•°æ®ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚',related_title:'ç›¸å…³å·¥å…·',r1_t:'éŸ³é¢‘å‰ªè¾‘',r1_d:'å‰ªè¾‘å½•å±è§£è¯´éŸ³é¢‘ã€‚',r2_t:'æ—¶é—´æˆ³è½¬æ¢',r2_d:'ç¼–è¾‘è§†é¢‘æ—¶æ¢ç®—æ—¶é—´ç‚¹ã€‚',r3_t:'å›¾ç‰‡è½¬ PDF',r3_d:'æŠŠæˆªå›¾æ•´ç†æˆ PDF æ–‡æ¡£ã€‚',r4_t:'PDF å‹ç¼©',r4_d:'å‹ç¼©æˆªå›¾æ–‡æ¡£ä½“ç§¯ã€‚',watermark:'æ°´å°',wm_text:'æ–‡æœ¬',wm_position:'ä½ç½®',wm_opacity:'é€æ˜åº¦',wm_placeholder:'è¾“å…¥æ°´å°æ–‡æœ¬...',wm_br:'å³ä¸‹',wm_bl:'å·¦ä¸‹',wm_tl:'å·¦ä¸Š',wm_tr:'å³ä¸Š',wm_center:'å±…ä¸­',wm_size:'å¤§å°',wm_small:'å°',wm_medium:'ä¸­',wm_large:'å¤§',wm_color:'é¢œè‰²'},
    fr:{back:'Retour a la boite a outils',tool_name:'Enregistreur d\'ecran',title:'Enregistreur d\'ecran',subtitle:'Enregistrer ecran en ligne avec micro optionnel',step1:'Config',step2:'Enregistrer',step3:'Sauver',mic:'Inclure microphone',start:'Demarrer l\'enregistrement',pause:'â¸ Pause',resume:'â–¶ Reprendre',stop:'â¹ Arreter',quality:'Qualite',quality1080:'1080p',quality720:'720p',qualitySource:'Source',downloadMp4:'Telecharger MP4',newRecording:'Enregistrer a nouveau',placeholderText:'Votre apercu apparaitra ici',recordingAlert:'REC',alreadyRecording:'Enregistrement deja en cours',needStart:'Demarrez d\'abord',starting:'Demande autorisation ecran...',recording:'Enregistrement...',paused:'En pause',stopped:'Arrete',downloadReady:'Enregistrement pret. Cliquez sur Telecharger.',downloading:'Telechargement lance',mp4Unsupported:'MP4 non supporte. Format WebM utilise.',browserUnsupported:'Navigateur non compatible',error:'Erreur',trust_users:'ğŸŒ 50 000+ utilisateurs',trust_rating:'â­ Note 4.9/5',trust_privacy:'ğŸ”’ 100% Prive',trust_free:'ğŸš« Sans pub, sans inscription',features_title:'Fonctions',f1_t:'100% Gratuit et Prive',f1_d:'Sans publicite, sans inscription, sans filigrane. Tout est traite localement.',f2_t:'Capture navigateur',f2_d:'Enregistrez onglet, fenetre ou plein ecran.',f3_t:'Option micro',f3_d:'Ajoutez votre voix pour tutoriels et demonstrations.',f4_t:'Export MP4 HD',f4_d:'Enregistrement MP4 natif, telechargement direct sans conversion.',faq_title:'Questions frequentes',faq1_q:'Qu\'est-ce qu\'un screen recorder en ligne ?',faq1_a:'Un screen recorder en ligne capture l\'ecran via APIs navigateur. L\'enregistrement se fait localement sans installation. Les navigateurs modernes supportent l\'enregistrement MP4 natif.',faq2_q:'Puis-je enregistrer avec microphone ?',faq2_a:'Oui. Activez l\'option microphone pour fusionner voix et video.',faq3_q:'Quel format est telecharge ?',faq3_a:'Les navigateurs modernes supportent l\'enregistrement MP4 nativement, aucune conversion necessaire.',faq4_q:'Le traitement est-il prive ?',faq4_a:'Oui. La capture demarre apres votre autorisation dans le navigateur sans compte obligatoire.',faq_free_q:'Cet outil est-il vraiment gratuit ?',faq_free_a:'Oui, 100% gratuit, sans publicite, sans inscription et sans limites. Tout est traite localement.',related_title:'Outils associes',r1_t:'Editeur audio',r1_d:'Couper l\'audio enregistre.',r2_t:'Convertisseur timestamp',r2_d:'Convertir points temporels.',r3_t:'Image vers PDF',r3_d:'Assembler captures en PDF.',r4_t:'Compresseur PDF',r4_d:'Compresser documents.',watermark:'Filigrane',wm_text:'Texte',wm_position:'Position',wm_opacity:'Opacite',wm_placeholder:'Saisir le filigrane...',wm_br:'Bas droite',wm_bl:'Bas gauche',wm_tl:'Haut gauche',wm_tr:'Haut droite',wm_center:'Centre',wm_size:'Taille',wm_small:'Petit',wm_medium:'Moyen',wm_large:'Grand',wm_color:'Couleur'},
    es:{back:'Volver',tool_name:'Grabador de pantalla',title:'Grabador de pantalla',subtitle:'Graba pantalla en linea con microfono opcional',step1:'Configurar',step2:'Grabar',step3:'Guardar',mic:'Incluir microfono',start:'Iniciar grabacion',pause:'â¸ Pausar',resume:'â–¶ Reanudar',stop:'â¹ Detener',quality:'Calidad',quality1080:'1080p',quality720:'720p',qualitySource:'Original',downloadMp4:'Descargar MP4',newRecording:'Grabar de nuevo',placeholderText:'Tu vista previa aparecera aqui',recordingAlert:'REC',alreadyRecording:'Ya esta grabando',needStart:'Primero inicia la grabacion',starting:'Solicitando permiso...',recording:'Grabando...',paused:'En pausa',stopped:'Detenido',downloadReady:'Grabacion lista â€” haz clic en Descargar.',downloading:'Descarga iniciada',mp4Unsupported:'MP4 no soportado. Usando WebM.',browserUnsupported:'Tu navegador no soporta grabacion',error:'Error',trust_users:'ğŸŒ 50,000+ usuarios',trust_rating:'â­ 4.9/5',trust_privacy:'ğŸ”’ 100% Privado',trust_free:'ğŸš« Sin anuncios',features_title:'Funciones',f1_t:'100% Gratis y Privado',f1_d:'Sin anuncios, sin registro, sin marca de agua. Todo se procesa localmente.',f2_t:'Captura en navegador',f2_d:'Graba pestana, ventana o pantalla completa.',f3_t:'Microfono opcional',f3_d:'Anade voz para tutoriales y demos.',f4_t:'Exportacion MP4 HD',f4_d:'Grabacion MP4 nativa, descarga directa sin conversion.',faq_title:'Preguntas frecuentes',faq1_q:'Que es un screen recorder online?',faq1_a:'Un screen recorder online captura pantalla usando APIs de navegador. La grabacion se realiza localmente. Los navegadores modernos soportan grabacion MP4 nativa.',faq2_q:'Puedo grabar con microfono?',faq2_a:'Si. Activa la opcion de microfono para combinar voz con video.',faq3_q:'Que formato se descarga?',faq3_a:'Los navegadores modernos soportan grabacion MP4 nativa, sin conversion adicional.',faq4_q:'Es privado y local?',faq4_a:'Si. La captura empieza tras tu permiso en navegador sin cuenta obligatoria.',faq_free_q:'Es realmente gratis?',faq_free_a:'Si, 100% gratis, sin anuncios, sin registro y sin limites. Todo se procesa localmente.',related_title:'Herramientas relacionadas',r1_t:'Editor de audio',r1_d:'Recorta audio.',r2_t:'Convertidor timestamp',r2_d:'Convierte tiempos.',r3_t:'Imagen a PDF',r3_d:'Capturas en PDF.',r4_t:'Compresor PDF',r4_d:'Reduce tamano.',watermark:'Marca de agua',wm_text:'Texto',wm_position:'Posicion',wm_opacity:'Opacidad',wm_placeholder:'Ingrese marca de agua...',wm_br:'Inferior derecha',wm_bl:'Inferior izquierda',wm_tl:'Superior izquierda',wm_tr:'Superior derecha',wm_center:'Centro',wm_size:'Tamano',wm_small:'Pequeno',wm_medium:'Mediano',wm_large:'Grande',wm_color:'Color'}
  };
var mediaRecorder=null;
  var screenStream=null;
  var micStream=null;
  var recordedChunks=[];
  var rawBlob=null;
  var recordUrl='';
  var recordedFormat='mp4';
  var timer=0;
  var timerInt=null;

  var toolCard=document.getElementById('toolCard');
  var preview=document.getElementById('preview');
  var statusEl=document.getElementById('status');
  var formatSel=document.getElementById('formatSel');
  var qualitySel=document.getElementById('qualitySel');
  var startBtn=document.getElementById('startBtn');
  var pauseBtn=document.getElementById('pauseBtn');
  var resumeBtn=document.getElementById('resumeBtn');
  var stopBtn=document.getElementById('stopBtn');
  var downloadBtn=document.getElementById('downloadBtn');
  var newBtn=document.getElementById('newBtn');
  var fileNameEl=document.getElementById('fileName');
  var fileSizeEl=document.getElementById('fileSize');
  var wmChk=document.getElementById('wmChk');
  var wmOptions=document.getElementById('wmOptions');
  var wmTextInput=document.getElementById('wmText');
  /* æ°´å° Canvas åˆæˆå˜é‡ */
  var wmCanvas=null,wmCtx=null,wmHiddenVideo=null,wmAnimId=null,wmCanvasStream=null;

  function t(k){var lang=(typeof WebToolbox!=='undefined')?WebToolbox.getCurrentLang():'en';var d=i18n[lang]||i18n.en;return d[k]||i18n.en[k]||k;}


  function setStatus(v){statusEl.textContent=v||'';}
  function safeMsg(e){return e?(typeof e==='string'?e:e.message||String(e)):'';}

  /* çŠ¶æ€æœº */
  function setState(s){
    toolCard.setAttribute('data-state',s);
    var s1=document.getElementById('step1'),s2=document.getElementById('step2'),s3=document.getElementById('step3');
    var l1=document.getElementById('line1'),l2=document.getElementById('line2');
    s1.className='step'+(s==='idle'?' active':' done');
    s2.className='step'+((s==='recording'||s==='paused')?' active':(s==='done'?' done':''));
    s3.className='step'+(s==='done'?' active':'');
    l1.className='step-line'+(s!=='idle'?' active':'');
    l2.className='step-line'+(s==='done'?' active':'');
  }

  function fmt(sec){
    var m=Math.floor(sec/60),s=sec%60;
    return String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
  }
  function startTimer(){
    clearInterval(timerInt);
    timerInt=setInterval(function(){timer++;document.getElementById('timer').textContent=fmt(timer);},1000);
  }
  function stopTimer(){clearInterval(timerInt);}

  function formatSize(bytes){
    if(bytes<1024)return bytes+' B';
    if(bytes<1048576)return(bytes/1024).toFixed(1)+' KB';
    if(bytes<1073741824)return(bytes/1048576).toFixed(1)+' MB';
    return(bytes/1073741824).toFixed(2)+' GB';
  }

  function stopInputStreams(){
    if(screenStream){screenStream.getTracks().forEach(function(t){t.stop();});screenStream=null;}
    if(micStream){micStream.getTracks().forEach(function(t){t.stop();});micStream=null;}
    preview.srcObject=null;
  }

  function revokeRecordUrl(){if(recordUrl){URL.revokeObjectURL(recordUrl);recordUrl='';}}

  /* ===== æ°´å° Canvas åˆæˆ ===== */
  function setupWmCanvas(stream){
    var vt=stream.getVideoTracks()[0];
    var s=vt.getSettings();
    var w=s.width||1920,h=s.height||1080;
    wmCanvas=document.createElement('canvas');
    wmCanvas.width=w;wmCanvas.height=h;
    wmCtx=wmCanvas.getContext('2d');
    wmHiddenVideo=document.createElement('video');
    wmHiddenVideo.srcObject=stream;wmHiddenVideo.muted=true;wmHiddenVideo.playsInline=true;
    wmHiddenVideo.play();
    var fps=(qualitySel.value==='source')?60:30;
    wmCanvasStream=wmCanvas.captureStream(fps);
    wmDrawLoop();
    return wmCanvasStream;
  }
  function wmDrawLoop(){
    if(!wmCtx||!wmHiddenVideo)return;
    wmCtx.drawImage(wmHiddenVideo,0,0,wmCanvas.width,wmCanvas.height);
    var txt=wmTextInput.value;
    if(txt){
      var pos=document.getElementById('wmPos').value;
      var alpha=parseFloat(document.getElementById('wmOpacity').value)||0.7;
      var ch=wmCanvas.height,cw=wmCanvas.width;
      var sizeKey=document.getElementById('wmSize').value;
      var sizeRatio=sizeKey==='small'?0.02:sizeKey==='large'?0.05:0.032;
      var fontSize=Math.max(14,Math.round(ch*sizeRatio));
      var color=document.getElementById('wmColor').value||'#ffffff';
      wmCtx.save();
      wmCtx.globalAlpha=alpha;
      wmCtx.font='600 '+fontSize+'px "Inter","SF Pro Text",-apple-system,sans-serif';
      wmCtx.fillStyle=color;
      wmCtx.shadowColor='rgba(0,0,0,0.6)';wmCtx.shadowBlur=6;wmCtx.shadowOffsetX=1;wmCtx.shadowOffsetY=1;
      var tw=wmCtx.measureText(txt).width;
      var m=Math.round(ch*0.025);
      var x,y;
      if(pos==='top-left'){x=m;y=m+fontSize;}
      else if(pos==='top-right'){x=cw-tw-m;y=m+fontSize;}
      else if(pos==='bottom-left'){x=m;y=ch-m;}
      else if(pos==='center'){x=(cw-tw)/2;y=ch/2+fontSize/3;}
      else{x=cw-tw-m;y=ch-m;} /* bottom-right é»˜è®¤ */
      wmCtx.fillText(txt,x,y);
      wmCtx.restore();
    }
    wmAnimId=requestAnimationFrame(wmDrawLoop);
  }
  function cleanupWmCanvas(){
    if(wmAnimId){cancelAnimationFrame(wmAnimId);wmAnimId=null;}
    if(wmHiddenVideo){wmHiddenVideo.pause();wmHiddenVideo.srcObject=null;wmHiddenVideo=null;}
    if(wmCanvasStream){wmCanvasStream.getTracks().forEach(function(t){t.stop();});wmCanvasStream=null;}
    wmCanvas=null;wmCtx=null;
  }

  function getPreferredMimeType(){
    if(typeof MediaRecorder==='undefined')return{mime:'',format:''};
    var f=formatSel.value||'mp4';
    if(f==='mp4'){
      var mp4=['video/mp4;codecs=avc1.640034,opus','video/mp4;codecs=avc1.640032,opus','video/mp4;codecs=avc1.640028,opus','video/mp4;codecs=avc1.4d0028,opus','video/mp4;codecs=avc1,opus','video/mp4;codecs=avc1.640034','video/mp4;codecs=avc1.640028','video/mp4;codecs=avc1','video/mp4'];
      for(var i=0;i<mp4.length;i++){if(MediaRecorder.isTypeSupported(mp4[i]))return{mime:mp4[i],format:'mp4'};}
    }
    var webm=['video/webm;codecs=vp9,opus','video/webm;codecs=vp8,opus','video/webm'];
    for(var j=0;j<webm.length;j++){if(MediaRecorder.isTypeSupported(webm[j]))return{mime:webm[j],format:'webm'};}
    return{mime:'',format:''};
  }

  function getBitrateByQuality(){
    var q=qualitySel.value;
    if(q==='hd1080')return 16000000;
    if(q==='hd720')return 8000000;
    return 30000000;
  }

  function getVideoConstraint(){
    var q=qualitySel.value;
    if(q==='source')return{frameRate:{ideal:60}};
    var base={frameRate:{ideal:30,max:60}};
    if(q==='hd1080'){base.width={ideal:1920};base.height={ideal:1080};}
    else if(q==='hd720'){base.width={ideal:1280};base.height={ideal:720};}
    return base;
  }

  async function startRecording(){
    if(mediaRecorder&&mediaRecorder.state!=='inactive'){setStatus(t('alreadyRecording'));return;}
    if(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia||typeof MediaRecorder==='undefined'){setStatus(t('browserUnsupported'));return;}
    try{
      setStatus(t('starting'));
      revokeRecordUrl();rawBlob=null;recordedChunks=[];

      screenStream=await navigator.mediaDevices.getDisplayMedia({video:getVideoConstraint(),audio:true});
      var useWm=wmChk.checked&&wmTextInput.value.trim();
      var videoTracks=screenStream.getVideoTracks();
      if(useWm){var cs=setupWmCanvas(screenStream);videoTracks=cs.getVideoTracks();}
      var tracks=[].concat(videoTracks,screenStream.getAudioTracks());
      if(document.getElementById('micChk').checked){
        micStream=await navigator.mediaDevices.getUserMedia({audio:true});
        tracks=tracks.concat(micStream.getAudioTracks());
      }
      var mixed=new MediaStream(tracks);
      var pref=getPreferredMimeType();
      if(!pref.mime)throw new Error(t('browserUnsupported'));

      if(pref.format==='webm'&&formatSel.value==='mp4'){
        formatSel.value='webm';setStatus(t('mp4Unsupported'));
      }
      recordedFormat=pref.format;

      mediaRecorder=new MediaRecorder(mixed,{mimeType:pref.mime,videoBitsPerSecond:getBitrateByQuality(),audioBitsPerSecond:192000});
      mediaRecorder.ondataavailable=function(e){if(e.data&&e.data.size>0)recordedChunks.push(e.data);};
      mediaRecorder.onerror=function(e){setStatus(t('error')+': '+safeMsg(e.error||e));};
      mediaRecorder.onstop=function(){
        var mime=recordedFormat==='mp4'?'video/mp4':'video/webm';
        rawBlob=new Blob(recordedChunks,{type:mime});
        revokeRecordUrl();
        recordUrl=URL.createObjectURL(rawBlob);
        preview.src=recordUrl;preview.controls=true;preview.muted=false;
        var ext=recordedFormat||'mp4';
        fileNameEl.textContent='screen-recording.'+ext;
        fileSizeEl.textContent=formatSize(rawBlob.size);
        setState('done');
        setStatus(t('downloadReady'));
      };

      mediaRecorder.start(400);
      preview.srcObject=mixed;preview.muted=true;preview.controls=false;
      timer=0;document.getElementById('timer').textContent='00:00';
      startTimer();setState('recording');setStatus(t('recording'));

      screenStream.getVideoTracks()[0].addEventListener('ended',function(){
        if(mediaRecorder&&mediaRecorder.state!=='inactive')doStop();
      });
    }catch(err){
      stopTimer();setState('idle');stopInputStreams();cleanupWmCanvas();
      setStatus(t('error')+': '+safeMsg(err));
    }
  }

  function doPause(){
    if(mediaRecorder&&mediaRecorder.state==='recording'){
      mediaRecorder.pause();stopTimer();setState('paused');setStatus(t('paused'));
    }
  }
  function doResume(){
    if(mediaRecorder&&mediaRecorder.state==='paused'){
      mediaRecorder.resume();startTimer();setState('recording');setStatus(t('recording'));
    }
  }
  function doStop(){
    if(mediaRecorder&&mediaRecorder.state!=='inactive')mediaRecorder.stop();
    stopTimer();stopInputStreams();cleanupWmCanvas();setStatus(t('stopped'));
  }
  function doNew(){
    revokeRecordUrl();rawBlob=null;recordedChunks=[];cleanupWmCanvas();
    preview.removeAttribute('src');preview.srcObject=null;
    setState('idle');setStatus('');
  }

  function downloadUrl(url,name){var a=document.createElement('a');a.href=url;a.download=name;document.body.appendChild(a);a.click();a.remove();}

  function doDownload(){
    if(!rawBlob){setStatus(t('needStart'));return;}
    if(!recordUrl)recordUrl=URL.createObjectURL(rawBlob);
    var ext=recordedFormat||'mp4';
    downloadUrl(recordUrl,'screen-recording-'+Date.now()+'.'+ext);
    setStatus(t('downloading'));
  }

  /* äº‹ä»¶ç»‘å®š */
  startBtn.addEventListener('click',startRecording);
  pauseBtn.addEventListener('click',doPause);
  resumeBtn.addEventListener('click',doResume);
  stopBtn.addEventListener('click',doStop);
  downloadBtn.addEventListener('click',doDownload);
  newBtn.addEventListener('click',doNew);

  /* æ°´å°å¼€å…³ */
  wmChk.addEventListener('change',function(){wmOptions.classList.toggle('active',wmChk.checked);});

  /* é”®ç›˜å¿«æ·é”® */
  document.addEventListener('keydown',function(e){
    var state=toolCard.getAttribute('data-state');
    if(e.code==='Space'&&(state==='recording'||state==='paused')&&e.target.tagName!=='INPUT'&&e.target.tagName!=='SELECT'){
      e.preventDefault();state==='recording'?doPause():doResume();
    }
    if(e.code==='Escape'&&(state==='recording'||state==='paused')){e.preventDefault();doStop();}
  });

  /* è¯­è¨€ */
  window.addEventListener('beforeunload',function(){stopTimer();stopInputStreams();cleanupWmCanvas();revokeRecordUrl();});

  /* åˆå§‹åŒ– */
setState('idle');

  /* æ£€æµ‹ MP4 æ”¯æŒ */
  (function(){
    var ok=['video/mp4;codecs=avc1.640028,opus','video/mp4;codecs=avc1,opus','video/mp4;codecs=avc1','video/mp4'].some(function(t){return typeof MediaRecorder!=='undefined'&&MediaRecorder.isTypeSupported(t);});
    if(!ok){formatSel.value='webm';setStatus(t('mp4Unsupported'));}
  })();
  window._screenRecorderI18n = i18n;
})();
</script>
    <script src="common/common.js" data-tool-id="screen-recorder" data-tool-name="Screen Recorder" data-category="media"></script>
    <script>WebToolbox.init(window._screenRecorderI18n);</script>

</body>
</html>
