<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CT8E5N460D"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-CT8E5N460D');</script>
  <title>Watermark Tool - Free Online Add Watermark | No Ads, No Signup | å›¾ç‰‡æ°´å°å·¥å…· | Web Toolbox</title>
  <meta name="description" content="Free online image watermark tool. Add text watermark with opacity, angle, and position in browser. âœ… No ads âœ… No signup âœ… No limits.">
  <meta name="keywords" content="add watermark,image watermark tool,watermark photo online,å›¾ç‰‡åŠ æ°´å°,æ–‡å­—æ°´å°,no ads,no signup,no login,no watermark,free unlimited,browser-based,no installation,local processing">
  <meta name="author" content="UseMagicTools"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta name="googlebot" content="index, follow"><meta name="bingbot" content="index, follow"><meta name="revisit-after" content="7 days"><meta name="rating" content="general"><meta name="distribution" content="global"><meta name="language" content="en">
  <link rel="canonical" href="https://www.usemagictools.com/watermark-tool.html"><link rel="alternate" hreflang="en" href="https://www.usemagictools.com/watermark-tool.html"><link rel="alternate" hreflang="zh-CN" href="https://www.usemagictools.com/watermark-tool.html"><link rel="alternate" hreflang="fr" href="https://www.usemagictools.com/watermark-tool.html"><link rel="alternate" hreflang="es" href="https://www.usemagictools.com/watermark-tool.html"><link rel="alternate" hreflang="x-default" href="https://www.usemagictools.com/watermark-tool.html">
  <meta property="og:type" content="website"><meta property="og:url" content="https://www.usemagictools.com/watermark-tool.html"><meta property="og:title" content="Watermark Tool - Free Online Add Watermark | No Ads, No Signup"><meta property="og:description" content="Add text watermark to photos in browser."><meta property="og:image" content="https://www.usemagictools.com/screenshots/watermark-tool-v1.webp"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:locale" content="en_US"><meta property="og:locale:alternate" content="zh_CN"><meta property="og:site_name" content="Web Toolbox">
  <meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@usemagictools"><meta name="twitter:creator" content="@usemagictools"><meta name="twitter:title" content="Watermark Tool - Free Online Add Watermark | No Ads, No Signup"><meta name="twitter:description" content="Protect image copyright with custom watermark text."><meta name="twitter:image" content="https://www.usemagictools.com/screenshots/watermark-tool-v1.webp">
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebApplication","name":"Watermark Tool","alternateName":["å›¾ç‰‡æ°´å°å·¥å…·","Add Watermark","Image Watermark Maker"],"url":"https://www.usemagictools.com/watermark-tool.html","description":"Free online tool to add text watermark to images.","inLanguage":["en","zh-CN","fr","es"],"applicationCategory":"UtilitiesApplication","operatingSystem":"Web Browser","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"author":{"@type":"Person","name":"UseMagicTools"},"publisher":{"@type":"Organization","name":"Web Toolbox","url":"https://www.usemagictools.com/"},"featureList":["Text watermark overlay","Opacity and angle controls","Position presets","Download final image","No ads","No signup required","No watermark","100% browser-based","Unlimited usage"],"screenshot":"https://www.usemagictools.com/screenshots/watermark-tool-v1.webp"}</script>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://www.usemagictools.com/"},{"@type":"ListItem","position":2,"name":"Watermark Tool","item":"https://www.usemagictools.com/watermark-tool.html"}]}</script>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"HowTo","name":"How to Add Watermark Online","totalTime":"PT1M","step":[{"@type":"HowToStep","position":1,"name":"Upload image","text":"Select image you want to protect."},{"@type":"HowToStep","position":2,"name":"Customize watermark","text":"Set text, opacity, size, angle, and position."},{"@type":"HowToStep","position":3,"name":"Download result","text":"Export final image with watermark overlay."}]}</script>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"What is an image watermark tool?","acceptedAnswer":{"@type":"Answer","text":"An image watermark tool overlays text or logo on photos to indicate ownership and reduce unauthorized reuse. It is commonly used for portfolio images, ecommerce assets, and social media posts."}},{"@type":"Question","name":"Can I adjust watermark opacity and angle?","acceptedAnswer":{"@type":"Answer","text":"Yes. You have full control over watermark opacity (transparency level), rotation angle, text font size, color, and positioning on the image. This helps you balance brand visibility with image readability, ensuring the watermark protects your content without being overly intrusive. All adjustments preview in real-time. This free browser-based tool requires no signup, no ads, and no server upload."}},{"@type":"Question","name":"Does this tool support tiled watermark style?","acceptedAnswer":{"@type":"Answer","text":"Yes. You can choose the repeat/tiled mode to draw watermark text diagonally across the entire image surface in a grid pattern. This provides stronger copyright protection compared to a single watermark placement, making it significantly harder to crop or clone out. Tile spacing and angle are customizable. Free to use with no signup, no ads, and complete browser-based privacy."}},{"@type":"Question","name":"Will original image be uploaded to server?","acceptedAnswer":{"@type":"Answer","text":"No. All watermark processing runs entirely in your browser using the HTML5 Canvas API. Your original images and watermarked outputs are never uploaded to any external server, cloud service, or third-party platform. This guarantees complete privacy and data security for sensitive brand assets and copyrighted photographs. Free with no signup, no ads, and no usage limits."}},{"@type":"Question","name":"Is this tool really free with no ads?","acceptedAnswer":{"@type":"Answer","text":"Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser â€” your data is never uploaded to any server."}}]}</script>
  <style>
    :root {
      --bg: #020617;
      --panel: #0f172a;
      --text: #e2e8f0;
      --muted: #94a3b8;
      --border: rgba(148, 163, 184, 0.24);
      --pri: #14b8a6;
      --pri2: #0d9488;
      --radius: 14px;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: "Space Grotesk", "Segoe UI", sans-serif;
      background:
        radial-gradient(980px 480px at 10% -10%, rgba(20,184,166,.2), transparent 56%),
        radial-gradient(900px 420px at 96% 0, rgba(59,130,246,.15), transparent 56%),
        #020617;
      color: var(--text);
      min-height: 100vh;
      padding: 24px 16px 60px;
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 40px; }
    h1 {
      text-align: center;
      font-size: 2.2rem;
      background: linear-gradient(120deg, #5eead4, #14b8a6, #93c5fd);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .subtitle { text-align: center; color: var(--muted); margin: 10px 0 20px; }
    .card {
      background: linear-gradient(180deg, rgba(17,24,39,.9), rgba(15,23,42,.88));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: 0 16px 36px rgba(0,0,0,.35);
    }
    .tool { padding: 20px; }

    /* Tool header bar */
    .tool-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      gap: 12px;
    }
    .btn {
      border: 1px solid var(--border);
      background: #0a1322;
      color: var(--text);
      padding: 10px 18px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all .2s;
    }
    .btn:hover { border-color: var(--pri); background: rgba(20,184,166,.08); }
    .btn.primary {
      background: linear-gradient(135deg, var(--pri), var(--pri2));
      border-color: transparent;
      color: #fff;
    }
    .btn.primary:hover { opacity: .9; }
    .btn[disabled] { opacity: .55; cursor: not-allowed; }

    /* Editor two-column layout */
    .editor-layout {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 16px;
      min-height: 420px;
    }

    /* Settings panel */
    .settings-panel {
      display: flex;
      flex-direction: column;
      gap: 16px;
      max-height: 600px;
      overflow-y: auto;
      padding-right: 4px;
    }
    .settings-panel::-webkit-scrollbar { width: 4px; }
    .settings-panel::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

    .field { display: flex; flex-direction: column; gap: 6px; }
    .field-label { font-size: 12px; color: var(--muted); font-weight: 600; text-transform: uppercase; letter-spacing: .5px; }

    input[type="text"], select {
      border: 1px solid var(--border);
      background: #020617;
      color: var(--text);
      border-radius: 10px;
      padding: 10px 12px;
      width: 100%;
      font-size: 14px;
      transition: border-color .2s;
    }
    input[type="text"]:focus, select:focus { border-color: var(--pri); outline: none; }

    /* Color field */
    .color-field {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .color-field input[type="color"] {
      width: 42px;
      height: 42px;
      border: 2px solid var(--border);
      border-radius: 10px;
      padding: 2px;
      cursor: pointer;
      background: transparent;
      flex-shrink: 0;
    }
    .color-field input[type="color"]::-webkit-color-swatch-wrapper { padding: 2px; }
    .color-field input[type="color"]::-webkit-color-swatch { border: none; border-radius: 6px; }
    .color-field input[type="text"] { flex: 1; }

    /* Slider group */
    .slider-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .slider-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .slider-value {
      font-size: 13px;
      color: var(--pri);
      font-weight: 700;
      font-variant-numeric: tabular-nums;
      min-width: 40px;
      text-align: right;
    }
    input[type="range"] {
      -webkit-appearance: none;
      width: 100%;
      height: 6px;
      border-radius: 3px;
      background: linear-gradient(90deg, var(--pri), var(--pri2));
      outline: none;
      cursor: pointer;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #fff;
      border: 3px solid var(--pri);
      box-shadow: 0 2px 6px rgba(0,0,0,.3);
      transition: transform .15s;
    }
    input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.15); }
    input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #fff;
      border: 3px solid var(--pri);
      box-shadow: 0 2px 6px rgba(0,0,0,.3);
    }

    /* Position grid */
    .position-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 4px;
    }
    .position-btn {
      padding: 8px 4px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: rgba(2,6,23,.6);
      color: var(--muted);
      font-size: 11px;
      cursor: pointer;
      text-align: center;
      transition: all .2s;
      white-space: nowrap;
    }
    .position-btn:hover { border-color: var(--pri); color: var(--text); }
    .position-btn.active {
      background: rgba(20,184,166,.15);
      border-color: var(--pri);
      color: var(--pri);
      font-weight: 700;
    }
    .tile-btn {
      grid-column: 1 / -1;
      padding: 8px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: rgba(2,6,23,.6);
      color: var(--muted);
      font-size: 12px;
      cursor: pointer;
      text-align: center;
      transition: all .2s;
      margin-top: 2px;
    }
    .tile-btn:hover { border-color: var(--pri); color: var(--text); }
    .tile-btn.active {
      background: rgba(20,184,166,.15);
      border-color: var(--pri);
      color: var(--pri);
      font-weight: 700;
    }

    /* Preview area */
    .preview-area {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 400px;
    }
    .drop-zone {
      width: 100%;
      height: 100%;
      min-height: 400px;
      border: 2px dashed var(--border);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      transition: border-color .3s, background .3s;
      background:
        repeating-conic-gradient(rgba(255,255,255,.03) 0% 25%, transparent 0% 50%) 0 0 / 20px 20px;
      overflow: hidden;
    }
    .drop-zone.drag-over {
      border-color: var(--pri);
      background:
        repeating-conic-gradient(rgba(20,184,166,.06) 0% 25%, transparent 0% 50%) 0 0 / 20px 20px;
    }
    .drop-zone.has-image {
      border-style: solid;
      border-color: var(--border);
    }
    .drop-hint {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      color: var(--muted);
      pointer-events: none;
    }
    .drop-hint svg { opacity: .5; }
    .drop-hint p { font-size: 14px; text-align: center; line-height: 1.5; }
    .drop-zone.has-image .drop-hint { display: none; }
    .drop-zone canvas {
      max-width: 100%;
      max-height: 100%;
      border-radius: 8px;
      display: none;
    }
    .drop-zone.has-image canvas { display: block; }

    .status { font-size: 13px; min-height: 18px; color: #5eead4; margin-top: 8px; }

    /* Animations */
    [data-reveal] { opacity: 0; transform: translateY(12px); animation: up .6s ease forwards; }
    [data-reveal="2"] { animation-delay: .08s; }
    [data-reveal="3"] { animation-delay: .16s; }
    [data-reveal="4"] { animation-delay: .24s; }
    @keyframes up { to { opacity: 1; transform: none; } }

    /* Features / FAQ / Related */
    .features-section, .faq-section, .related-tools { margin-top: 30px; }
    .features-section h2, .faq-section h2, .related-tools h3 { margin: 0 0 16px; font-size: 1.2rem; }
    .features-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
    .related-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; }
    .feature, .related-card {
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 12px;
      background: rgba(2,6,23,.54);
      transition: border-color .2s, transform .2s;
    }
    .feature:hover, .related-card:hover { border-color: #5eead4; transform: translateY(-2px); }
    .feature p, .related-card p { color: var(--muted); font-size: 13px; line-height: 1.55; }
    .feature h4, .related-card h4 { margin: 8px 0 6px; font-size: 14px; }
    .related-card { text-decoration: none; color: inherit; display: block; }
    .faq-item {
      border: 1px solid var(--border);
      border-radius: 10px;
      margin-bottom: 8px;
      overflow: hidden;
      background: rgba(2,6,23,.5);
    }
    .faq-question {
      width: 100%;
      text-align: left;
      background: transparent;
      border: 0;
      color: var(--text);
      padding: 12px 14px;
      font-size: 14px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .faq-question::after { content: '+'; font-size: 18px; color: var(--muted); transition: transform .2s; }
    .faq-item.active .faq-question::after { transform: rotate(45deg); }
    .faq-answer { display: none; padding: 0 14px 12px; color: var(--muted); font-size: 13px; line-height: 1.6; }
    .faq-item.active .faq-answer { display: block; }

    /* Responsive */
    @media (max-width: 960px) {
      .editor-layout {
        grid-template-columns: 1fr;
      }
      .settings-panel {
        max-height: none;
        overflow-y: visible;
      }
      .preview-area { min-height: 300px; }
      .drop-zone { min-height: 300px; }
      .features-grid { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 640px) {
      .features-grid { grid-template-columns: 1fr; }
      .container { padding: 20px; }
      .tool-header { flex-wrap: wrap; }
    }
  </style>
    <link rel="stylesheet" href="common/common.css">
</head>
<body>
<div class="container">
  <h1 data-i18n="title">Watermark Tool</h1><p class="subtitle" data-i18n="subtitle">Add custom text watermark to your image</p>
  <section class="card tool" data-reveal="1">
    <div class="tool-header">
      <button class="btn" id="pickBtn" data-i18n="pick">Choose Image</button>
      <button class="btn primary" id="downloadBtn" data-i18n="download" disabled>Download</button>
    </div>
    <div class="editor-layout">
      <div class="settings-panel">
        <div class="field">
          <span class="field-label" data-i18n="wmTextLabel">Watermark Text</span>
          <input type="text" id="wmText" value="Â© Web Toolbox" data-i18n-placeholder="textPh" placeholder="Watermark text">
        </div>
        <div class="field">
          <span class="field-label" data-i18n="fontLabel">Font Family</span>
          <select id="fontSelect">
            <option value="sans-serif" data-i18n="font_sans">Sans-serif</option>
            <option value="serif" data-i18n="font_serif">Serif</option>
            <option value="monospace" data-i18n="font_mono">Monospace</option>
            <option value="cursive" data-i18n="font_cursive">Cursive</option>
          </select>
        </div>
        <div class="field">
          <span class="field-label" data-i18n="colorLabel">Text Color</span>
          <div class="color-field">
            <input type="color" id="colorPicker" value="#ffffff">
            <input type="text" id="colorHex" value="#ffffff" maxlength="7">
          </div>
        </div>
        <div class="slider-group">
          <div class="slider-header">
            <span class="field-label" data-i18n="sizeLabel">Font Size</span>
            <span class="slider-value" id="sizeValue">36</span>
          </div>
          <input type="range" id="sizeSlider" min="12" max="120" value="36">
        </div>
        <div class="slider-group">
          <div class="slider-header">
            <span class="field-label" data-i18n="opacityLabel">Opacity</span>
            <span class="slider-value" id="opacityValue">0.25</span>
          </div>
          <input type="range" id="opacitySlider" min="5" max="100" value="25" step="5">
        </div>
        <div class="slider-group">
          <div class="slider-header">
            <span class="field-label" data-i18n="angleLabel">Angle</span>
            <span class="slider-value" id="angleValue">-30Â°</span>
          </div>
          <input type="range" id="angleSlider" min="-180" max="180" value="-30">
        </div>
        <div class="field">
          <span class="field-label" data-i18n="positionLabel">Position</span>
          <div class="position-grid">
            <button class="position-btn" data-pos="top-left" data-i18n="pos_top_left">TL</button>
            <button class="position-btn" data-pos="top-center" data-i18n="pos_top_center">TC</button>
            <button class="position-btn" data-pos="top-right" data-i18n="pos_top_right">TR</button>
            <button class="position-btn" data-pos="middle-left" data-i18n="pos_middle_left">ML</button>
            <button class="position-btn active" data-pos="center" data-i18n="pos_center">C</button>
            <button class="position-btn" data-pos="middle-right" data-i18n="pos_middle_right">MR</button>
            <button class="position-btn" data-pos="bottom-left" data-i18n="pos_bottom_left">BL</button>
            <button class="position-btn" data-pos="bottom-center" data-i18n="pos_bottom_center">BC</button>
            <button class="position-btn" data-pos="bottom-right" data-i18n="pos_bottom_right">BR</button>
          </div>
          <button class="tile-btn" id="tileBtn" data-i18n="pos_tile">Tile</button>
        </div>
        <div class="slider-group" id="tileGapGroup" style="display:none">
          <div class="slider-header">
            <span class="field-label" data-i18n="tileGapLabel">Tile Spacing</span>
            <span class="slider-value" id="tileGapValue">150</span>
          </div>
          <input type="range" id="tileGapSlider" min="60" max="400" value="150">
        </div>
      </div>
      <div class="preview-area">
        <div class="drop-zone" id="dropZone">
          <div class="drop-hint">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="m21 15-5-5L5 21"/></svg>
            <p data-i18n="dropHint">Drop image here or click Choose Image</p>
          </div>
          <canvas id="canvas"></canvas>
        </div>
      </div>
    </div>
    <input id="fileInput" type="file" accept="image/*" style="display:none">
    <div class="status" id="status"></div>
  </section>
  <div class="trust-bar" data-reveal="2"><span class="trust-item" data-i18n="trust_users">ğŸŒ Used by 50,000+ users</span><span class="trust-item" data-i18n="trust_rating">â­ 4.9/5 rating</span><span class="trust-item" data-i18n="trust_privacy">ğŸ”’ 100% Private</span><span class="trust-item" data-i18n="trust_free">ğŸš« No Ads, No Signup</span></div>
  <section class="features-section" data-reveal="3"><h2 data-i18n="features_title">Watermark Tool Features</h2><div class="features-grid"><article class="feature"><div>ğŸ”’</div><h4 data-i18n="f1_t">100% Free & Private</h4><p data-i18n="f1_d">No ads, no signup, no watermark. Editing runs locally in browser.</p></article><article class="feature"><div>ğŸ“</div><h4 data-i18n="f2_t">Custom Text Watermark</h4><p data-i18n="f2_d">Set your own brand text, copyright name, or ID watermark string.</p></article><article class="feature"><div>ğŸ›ï¸</div><h4 data-i18n="f3_t">Opacity Angle Size Controls</h4><p data-i18n="f3_d">Tune watermark opacity, rotation, and size for clear but non-invasive marks.</p></article><article class="feature"><div>ğŸ§±</div><h4 data-i18n="f4_t">Position and Repeat Mode</h4><p data-i18n="f4_d">Place watermark in corners, center, or repeat diagonally across image.</p></article></div></section>
  <section class="faq-section" data-reveal="4"><h2 data-i18n="faq_title">Frequently Asked Questions</h2>
    <div class="faq-item"><button class="faq-question" data-i18n="faq1_q">What is an image watermark tool?</button><div class="faq-answer" data-i18n="faq1_a">An image watermark tool overlays text or logo on photos to indicate ownership and reduce unauthorized reuse. It is commonly used for portfolio images, ecommerce assets, and social media posts.</div></div>
    <div class="faq-item"><button class="faq-question" data-i18n="faq2_q">Can I adjust watermark opacity and angle?</button><div class="faq-answer" data-i18n="faq2_a">Yes. You can control opacity, rotation angle, text size, and position. This helps balance brand visibility with image readability.</div></div>
    <div class="faq-item"><button class="faq-question" data-i18n="faq3_q">Does this tool support tiled watermark style?</button><div class="faq-answer" data-i18n="faq3_a">Yes. You can choose repeat mode to draw watermark text diagonally across the image for stronger copyright protection.</div></div>
    <div class="faq-item"><button class="faq-question" data-i18n="faq4_q">Will original image be uploaded to server?</button><div class="faq-answer" data-i18n="faq4_a">No. Watermark processing runs locally in your browser canvas pipeline. Source images are not uploaded by this page to application backend.</div></div>
    <div class="faq-item"><button class="faq-question" data-i18n="faq_free_q">Is this tool really free with no ads?</button><div class="faq-answer" data-i18n="faq_free_a">Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser â€” your data is never uploaded to any server.</div></div>
  </section>
  <section class="related-tools" data-reveal="4"><h3 data-i18n="relatedToolsTitle">Related Tools</h3><div class="related-grid"><a class="related-card" href="image-editor.html"><div>ğŸ–¼ï¸</div><h4 data-i18n="relatedTool1">Image Editor</h4><p data-i18n="relatedTool1Desc">Edit image before adding watermark.</p></a><a class="related-card" href="image-compressor.html"><div>ğŸ“¦</div><h4 data-i18n="relatedTool2">Image Compressor</h4><p data-i18n="relatedTool2Desc">Compress watermarked images for web upload.</p></a><a class="related-card" href="e-sign.html"><div>âœï¸</div><h4 data-i18n="relatedTool3">E-Sign Tool</h4><p data-i18n="relatedTool3Desc">Add signature to documents and images.</p></a><a class="related-card" href="file-converter.html"><div>ğŸ”„</div><h4 data-i18n="relatedTool4">File Converter</h4><p data-i18n="relatedTool4Desc">Convert output format after watermarking.</p></a></div></section>
</div>
<script>
(function() {
  'use strict';

  function getLang() {
    return (typeof WebToolbox !== 'undefined') ? WebToolbox.getCurrentLang() : 'en';
  }

  var i18n = {
    en: {
      tool_name: 'Watermark Tool', title: 'Watermark Tool', subtitle: 'Add custom text watermark to your image',
      pick: 'Choose Image', download: 'Download',
      wmTextLabel: 'Watermark Text', textPh: 'Watermark text',
      fontLabel: 'Font Family', colorLabel: 'Text Color',
      sizeLabel: 'Font Size', opacityLabel: 'Opacity', angleLabel: 'Angle',
      positionLabel: 'Position', tileGapLabel: 'Tile Spacing',
      dropHint: 'Drop image here or click Choose Image',
      needImg: 'Choose image first', ok: 'Watermark updated',
      pos_center: 'Center', pos_top_left: 'Top Left', pos_top_center: 'Top Center', pos_top_right: 'Top Right',
      pos_middle_left: 'Middle Left', pos_middle_right: 'Middle Right',
      pos_bottom_left: 'Bottom Left', pos_bottom_center: 'Bottom Center', pos_bottom_right: 'Bottom Right',
      pos_tile: 'Tile / Repeat',
      font_sans: 'Sans-serif', font_serif: 'Serif', font_mono: 'Monospace', font_cursive: 'Cursive',
      trust_users: 'ğŸŒ Used by 50,000+ users', trust_rating: 'â­ 4.9/5 rating', trust_privacy: 'ğŸ”’ 100% Private', trust_free: 'ğŸš« No Ads, No Signup',
      features_title: 'Watermark Tool Features',
      f1_t: '100% Free & Private', f1_d: 'No ads, no signup, no watermark. Editing runs locally in browser.',
      f2_t: 'Custom Text Watermark', f2_d: 'Set your own brand text, copyright name, or ID watermark string.',
      f3_t: 'Opacity Angle Size Controls', f3_d: 'Tune watermark opacity, rotation, and size for clear but non-invasive marks.',
      f4_t: 'Position and Repeat Mode', f4_d: 'Place watermark in corners, center, or repeat diagonally across image.',
      faq_title: 'Frequently Asked Questions',
      faq1_q: 'What is an image watermark tool?', faq1_a: 'An image watermark tool overlays text or logo on photos to indicate ownership and reduce unauthorized reuse. It is commonly used for portfolio images, ecommerce assets, and social media posts.',
      faq2_q: 'Can I adjust watermark opacity and angle?', faq2_a: 'Yes. You can control opacity, rotation angle, text size, and position. This helps balance brand visibility with image readability.',
      faq3_q: 'Does this tool support tiled watermark style?', faq3_a: 'Yes. You can choose repeat mode to draw watermark text diagonally across the image for stronger copyright protection.',
      faq4_q: 'Will original image be uploaded to server?', faq4_a: 'No. Watermark processing runs locally in your browser canvas pipeline. Source images are not uploaded by this page to application backend.',
      faq_free_q: 'Is this tool really free with no ads?', faq_free_a: 'Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser â€” your data is never uploaded to any server.',
      relatedToolsTitle: 'Related Tools',
      relatedTool1: 'Image Editor', relatedTool1Desc: 'Edit image before adding watermark.',
      relatedTool2: 'Image Compressor', relatedTool2Desc: 'Compress watermarked images for web upload.',
      relatedTool3: 'E-Sign Tool', relatedTool3Desc: 'Add signature to documents and images.',
      relatedTool4: 'File Converter', relatedTool4Desc: 'Convert output format after watermarking.'
    },
    'zh-CN': {
      tool_name: 'å›¾ç‰‡æ°´å°å·¥å…·', title: 'å›¾ç‰‡æ°´å°å·¥å…·', subtitle: 'ä¸ºå›¾ç‰‡æ·»åŠ è‡ªå®šä¹‰æ–‡å­—æ°´å°',
      pick: 'é€‰æ‹©å›¾ç‰‡', download: 'ä¸‹è½½å›¾ç‰‡',
      wmTextLabel: 'æ°´å°æ–‡å­—', textPh: 'è¾“å…¥æ°´å°æ–‡å­—',
      fontLabel: 'å­—ä½“', colorLabel: 'æ–‡å­—é¢œè‰²',
      sizeLabel: 'å­—ä½“å¤§å°', opacityLabel: 'é€æ˜åº¦', angleLabel: 'è§’åº¦',
      positionLabel: 'ä½ç½®', tileGapLabel: 'å¹³é“ºé—´è·',
      dropHint: 'æ‹–æ‹½å›¾ç‰‡åˆ°æ­¤å¤„æˆ–ç‚¹å‡»é€‰æ‹©å›¾ç‰‡',
      needImg: 'è¯·å…ˆé€‰æ‹©å›¾ç‰‡', ok: 'æ°´å°å·²æ›´æ–°',
      pos_center: 'å±…ä¸­', pos_top_left: 'å·¦ä¸Š', pos_top_center: 'ä¸Šä¸­', pos_top_right: 'å³ä¸Š',
      pos_middle_left: 'å·¦ä¸­', pos_middle_right: 'å³ä¸­',
      pos_bottom_left: 'å·¦ä¸‹', pos_bottom_center: 'ä¸‹ä¸­', pos_bottom_right: 'å³ä¸‹',
      pos_tile: 'å¹³é“º',
      font_sans: 'æ— è¡¬çº¿ä½“', font_serif: 'è¡¬çº¿ä½“', font_mono: 'ç­‰å®½ä½“', font_cursive: 'æ‰‹å†™ä½“',
      trust_users: 'ğŸŒ è¶…è¿‡ 50,000 ç”¨æˆ·ä½¿ç”¨', trust_rating: 'â­ 4.9/5 å¥½è¯„', trust_privacy: 'ğŸ”’ 100% éšç§å®‰å…¨', trust_free: 'ğŸš« æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œ',
      features_title: 'æ°´å°å·¥å…·åŠŸèƒ½',
      f1_t: '100% å…è´¹ä¸”å®‰å…¨', f1_d: 'æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— æ°´å°ã€‚ç¼–è¾‘å¤„ç†åœ¨æµè§ˆå™¨æœ¬åœ°æ‰§è¡Œã€‚',
      f2_t: 'è‡ªå®šä¹‰æ–‡å­—æ°´å°', f2_d: 'æ”¯æŒå“ç‰Œåã€ç‰ˆæƒä¿¡æ¯ã€è´¦å· ID ç­‰æ–‡å­—å åŠ ã€‚',
      f3_t: 'é€æ˜åº¦è§’åº¦å¤§å°æ§åˆ¶', f3_d: 'è‡ªç”±è°ƒèŠ‚é€æ˜åº¦ã€æ—‹è½¬è§’åº¦å’Œå­—ä½“å¤§å°ã€‚',
      f4_t: 'ä½ç½®ä¸å¹³é“ºæ¨¡å¼', f4_d: 'æ”¯æŒè§’è½ã€ä¸­å¿ƒå’Œå…¨å›¾å¹³é“ºæ–œå‘æ°´å°ã€‚',
      faq_title: 'å¸¸è§é—®é¢˜',
      faq1_q: 'ä»€ä¹ˆæ˜¯å›¾ç‰‡æ°´å°å·¥å…·ï¼Ÿ', faq1_a: 'å›¾ç‰‡æ°´å°å·¥å…·ä¼šåœ¨ç…§ç‰‡ä¸Šå åŠ æ–‡å­—æˆ–æ ‡è¯†ï¼Œç”¨äºå£°æ˜ç‰ˆæƒå¹¶å‡å°‘æœªæˆæƒè½¬è½½ï¼Œå¸¸ç”¨äºä½œå“é›†ã€ç”µå•†å›¾å’Œç¤¾åª’å†…å®¹ã€‚',
      faq2_q: 'å¯ä»¥è°ƒèŠ‚é€æ˜åº¦å’Œè§’åº¦å—ï¼Ÿ', faq2_a: 'å¯ä»¥ã€‚ä½ å¯ä»¥è°ƒæ•´é€æ˜åº¦ã€è§’åº¦ã€å­—å·å’Œä½ç½®ï¼Œä½¿å“ç‰Œå¯è§ä½†ä¸é®æŒ¡ä¸»ä½“ã€‚',
      faq3_q: 'æ”¯æŒå¹³é“ºæ°´å°å—ï¼Ÿ', faq3_a: 'æ”¯æŒã€‚é€‰æ‹© repeat æ¨¡å¼å¯åœ¨æ•´å¼ å›¾ä¸Šæ–œå‘é‡å¤ç»˜åˆ¶æ°´å°ã€‚',
      faq4_q: 'åŸå›¾ä¼šä¸Šä¼ æœåŠ¡å™¨å—ï¼Ÿ', faq4_a: 'ä¸ä¼šã€‚å¤„ç†æµç¨‹åœ¨æµè§ˆå™¨ canvas æœ¬åœ°å®Œæˆï¼Œé¡µé¢ä¸ä¼šä¸»åŠ¨ä¸Šä¼ ä½ çš„åŸå›¾ã€‚',
      faq_free_q: 'è¿™ä¸ªå·¥å…·çœŸçš„å…è´¹ä¸”æ— å¹¿å‘Šå—ï¼Ÿ', faq_free_a: 'æ˜¯çš„ï¼Œ100% å…è´¹ï¼Œæ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— æ°´å°ã€æ— é™åˆ¶ã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œä½ çš„æ•°æ®ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚',
      relatedToolsTitle: 'ç›¸å…³å·¥å…·',
      relatedTool1: 'å›¾ç‰‡ç¼–è¾‘å™¨', relatedTool1Desc: 'åŠ æ°´å°å‰å…ˆåšå›¾åƒç¼–è¾‘ã€‚',
      relatedTool2: 'å›¾ç‰‡å‹ç¼©', relatedTool2Desc: 'å‹ç¼©æ°´å°å›¾ç”¨äºç½‘é¡µå‘å¸ƒã€‚',
      relatedTool3: 'ç”µå­ç­¾å', relatedTool3Desc: 'ç»™æ–‡æ¡£å’Œå›¾ç‰‡æ·»åŠ ç­¾åã€‚',
      relatedTool4: 'æ–‡ä»¶è½¬æ¢', relatedTool4Desc: 'æ°´å°åè½¬æ¢è¾“å‡ºæ ¼å¼ã€‚'
    },
    fr: {
      tool_name: 'Outil filigrane', title: 'Outil filigrane', subtitle: 'Ajouter un filigrane texte sur votre image',
      pick: 'Choisir image', download: 'TÃ©lÃ©charger',
      wmTextLabel: 'Texte filigrane', textPh: 'Texte filigrane',
      fontLabel: 'Police', colorLabel: 'Couleur texte',
      sizeLabel: 'Taille police', opacityLabel: 'OpacitÃ©', angleLabel: 'Angle',
      positionLabel: 'Position', tileGapLabel: 'Espacement',
      dropHint: 'DÃ©posez image ici ou cliquez Choisir',
      needImg: 'Choisissez image', ok: 'Filigrane mis Ã  jour',
      pos_center: 'Centre', pos_top_left: 'Haut gauche', pos_top_center: 'Haut centre', pos_top_right: 'Haut droite',
      pos_middle_left: 'Milieu gauche', pos_middle_right: 'Milieu droite',
      pos_bottom_left: 'Bas gauche', pos_bottom_center: 'Bas centre', pos_bottom_right: 'Bas droite',
      pos_tile: 'MosaÃ¯que',
      font_sans: 'Sans empattement', font_serif: 'Avec empattement', font_mono: 'Monospace', font_cursive: 'Cursive',
      trust_users: 'ğŸŒ UtilisÃ© par 50 000+ utilisateurs', trust_rating: 'â­ Note 4.9/5', trust_privacy: 'ğŸ”’ 100% PrivÃ©', trust_free: 'ğŸš« Sans pub, sans inscription',
      features_title: 'Fonctions outil filigrane',
      f1_t: '100% Gratuit et PrivÃ©', f1_d: 'Sans publicitÃ©, sans inscription, sans filigrane. Traitement local.',
      f2_t: 'Texte personnalisÃ©', f2_d: 'Ajoutez marque, copyright, identifiant.',
      f3_t: 'OpacitÃ© angle taille', f3_d: 'RÃ©glages fins du filigrane.',
      f4_t: 'Position et mode rÃ©pÃ©tition', f4_d: 'Coins, centre, rÃ©pÃ©tition diagonale.',
      faq_title: 'Questions frÃ©quentes',
      faq1_q: 'Qu est ce qu un outil filigrane image ?', faq1_a: 'Il superpose texte/logo pour marquer propriÃ©tÃ© et rÃ©duire rÃ©utilisation non autorisÃ©e.',
      faq2_q: 'Puis-je rÃ©gler opacitÃ© et angle ?', faq2_a: 'Oui, opacitÃ©, angle, taille et position sont personnalisables.',
      faq3_q: 'Supporte-t-il mode rÃ©pÃ©tition ?', faq3_a: 'Oui, mode repeat dessine texte en diagonale sur toute image.',
      faq4_q: 'Image originale uploadÃ©e ?', faq4_a: 'Non, traitement local canvas navigateur.',
      faq_free_q: 'Cet outil est-il vraiment gratuit et sans pub ?', faq_free_a: 'Oui, 100% gratuit, sans publicitÃ©, sans inscription, sans filigrane et sans limites. Tout est traitÃ© localement dans votre navigateur â€” vos donnÃ©es ne sont jamais tÃ©lÃ©versÃ©es.',
      relatedToolsTitle: 'Outils associÃ©s',
      relatedTool1: 'Ã‰diteur image', relatedTool1Desc: 'Editer avant filigrane.',
      relatedTool2: 'Compresseur image', relatedTool2Desc: 'Compresser aprÃ¨s filigrane.',
      relatedTool3: 'Outil signature', relatedTool3Desc: 'Ajouter signature.',
      relatedTool4: 'Convertisseur fichiers', relatedTool4Desc: 'Convertir format final.'
    },
    es: {
      tool_name: 'Herramienta de marca de agua', title: 'Herramienta de marca de agua', subtitle: 'AÃ±ade marca de agua de texto a tu imagen',
      pick: 'Elegir imagen', download: 'Descargar',
      wmTextLabel: 'Texto de marca de agua', textPh: 'Texto de marca de agua',
      fontLabel: 'Fuente', colorLabel: 'Color de texto',
      sizeLabel: 'TamaÃ±o fuente', opacityLabel: 'Opacidad', angleLabel: 'Ãngulo',
      positionLabel: 'PosiciÃ³n', tileGapLabel: 'Espaciado',
      dropHint: 'Suelta imagen aquÃ­ o haz clic en Elegir',
      needImg: 'Primero elige imagen', ok: 'Marca de agua actualizada',
      pos_center: 'Centro', pos_top_left: 'Arriba izquierda', pos_top_center: 'Arriba centro', pos_top_right: 'Arriba derecha',
      pos_middle_left: 'Centro izquierda', pos_middle_right: 'Centro derecha',
      pos_bottom_left: 'Abajo izquierda', pos_bottom_center: 'Abajo centro', pos_bottom_right: 'Abajo derecha',
      pos_tile: 'Mosaico',
      font_sans: 'Sin serifas', font_serif: 'Con serifas', font_mono: 'Monoespaciada', font_cursive: 'Cursiva',
      trust_users: 'ğŸŒ Usado por mÃ¡s de 50,000 usuarios', trust_rating: 'â­ CalificaciÃ³n 4.9/5', trust_privacy: 'ğŸ”’ 100% Privado', trust_free: 'ğŸš« Sin anuncios, sin registro',
      features_title: 'Funciones de marca de agua',
      f1_t: '100% Gratis y Privado', f1_d: 'Sin anuncios, sin registro, sin marca de agua. Procesamiento local.',
      f2_t: 'Texto personalizado', f2_d: 'Agrega marca, copyright o ID.',
      f3_t: 'Controles de opacidad Ã¡ngulo tamaÃ±o', f3_d: 'Ajusta visibilidad y estilo del watermark.',
      f4_t: 'PosiciÃ³n y modo repetido', f4_d: 'Esquinas, centro y repeticiÃ³n diagonal.',
      faq_title: 'Preguntas frecuentes',
      faq1_q: 'Â¿QuÃ© es una herramienta de marca de agua?', faq1_a: 'Superpone texto/logo sobre fotos para indicar propiedad y reducir reutilizaciÃ³n no autorizada.',
      faq2_q: 'Â¿Puedo ajustar opacidad y Ã¡ngulo?', faq2_a: 'SÃ­, puedes ajustar opacidad, Ã¡ngulo, tamaÃ±o y posiciÃ³n.',
      faq3_q: 'Â¿Soporta marca repetida?', faq3_a: 'SÃ­, modo repeat dibuja texto diagonal por toda la imagen.',
      faq4_q: 'Â¿Se sube la imagen original?', faq4_a: 'No, el procesamiento se hace localmente en canvas.',
      faq_free_q: 'Â¿Esta herramienta es realmente gratis y sin anuncios?', faq_free_a: 'SÃ­, 100% gratis, sin anuncios, sin registro, sin marca de agua y sin lÃ­mites. Todo el procesamiento ocurre localmente en tu navegador: tus datos nunca se suben a ningÃºn servidor.',
      relatedToolsTitle: 'Herramientas relacionadas',
      relatedTool1: 'Editor de imagen', relatedTool1Desc: 'Edita antes de marcar.',
      relatedTool2: 'Compresor de imagen', relatedTool2Desc: 'Comprime despuÃ©s de marcar.',
      relatedTool3: 'Herramienta de firma', relatedTool3Desc: 'AÃ±ade firma.',
      relatedTool4: 'Convertidor de archivos', relatedTool4Desc: 'Convierte formato final.'
    }
  };

  /* Font mapping */
  var FONTS = {
    'sans-serif': '"Inter", "SF Pro Text", -apple-system, sans-serif',
    'serif': '"Georgia", "Times New Roman", serif',
    'monospace': '"SF Mono", "Fira Code", "Courier New", monospace',
    'cursive': '"Segoe Script", "Comic Sans MS", cursive'
  };

  /* State */
  var img = null;
  var config = {
    text: 'Â© Web Toolbox',
    font: 'sans-serif',
    color: '#ffffff',
    size: 36,
    opacity: 0.25,
    angle: -30,
    position: 'center',
    tileMode: false,
    tileGap: 150
  };

  /* DOM refs */
  var canvas = document.getElementById('canvas');
  var ctx = canvas.getContext('2d');
  var dropZone = document.getElementById('dropZone');
  var fileInput = document.getElementById('fileInput');
  var downloadBtn = document.getElementById('downloadBtn');
  var wmText = document.getElementById('wmText');
  var fontSelect = document.getElementById('fontSelect');
  var colorPicker = document.getElementById('colorPicker');
  var colorHex = document.getElementById('colorHex');
  var sizeSlider = document.getElementById('sizeSlider');
  var sizeValue = document.getElementById('sizeValue');
  var opacitySlider = document.getElementById('opacitySlider');
  var opacityValue = document.getElementById('opacityValue');
  var angleSlider = document.getElementById('angleSlider');
  var angleValue = document.getElementById('angleValue');
  var tileBtn = document.getElementById('tileBtn');
  var tileGapGroup = document.getElementById('tileGapGroup');
  var tileGapSlider = document.getElementById('tileGapSlider');
  var tileGapValue = document.getElementById('tileGapValue');
  var positionBtns = document.querySelectorAll('.position-btn');

  function t(k) {
    var lang = getLang();
    var d = i18n[lang] || i18n.en;
    return d[k] || i18n.en[k] || k;
  }

  function setStatus(v) {
    document.getElementById('status').textContent = v || '';
  }

  /* Drawing */
  function draw() {
    if (!img) return;
    canvas.width = img.naturalWidth;
    canvas.height = img.naturalHeight;
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(img, 0, 0);

    var text = config.text || 'Â© Web Toolbox';
    var angle = config.angle * Math.PI / 180;
    var size = config.size;
    var fontStr = '700 ' + size + 'px ' + (FONTS[config.font] || FONTS['sans-serif']);
    var pad = Math.max(30, size);

    ctx.save();
    ctx.globalAlpha = config.opacity;
    ctx.fillStyle = config.color;
    ctx.font = fontStr;
    ctx.textBaseline = 'middle';

    var textWidth = ctx.measureText(text).width;

    function drawOne(x, y) {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(angle);
      ctx.fillText(text, -textWidth / 2, 0);
      ctx.restore();
    }

    if (config.tileMode) {
      var gap = config.tileGap;
      var diagLen = Math.sqrt(canvas.width * canvas.width + canvas.height * canvas.height);
      for (var y = -diagLen / 2; y < canvas.height + diagLen / 2; y += gap) {
        for (var x = -diagLen / 2; x < canvas.width + diagLen / 2; x += gap + textWidth) {
          drawOne(x, y);
        }
      }
    } else {
      var cx = canvas.width / 2;
      var cy = canvas.height / 2;
      switch (config.position) {
        case 'top-left':      cx = pad + textWidth / 2; cy = pad; break;
        case 'top-center':    cy = pad; break;
        case 'top-right':     cx = canvas.width - pad - textWidth / 2; cy = pad; break;
        case 'middle-left':   cx = pad + textWidth / 2; break;
        case 'center':        break;
        case 'middle-right':  cx = canvas.width - pad - textWidth / 2; break;
        case 'bottom-left':   cx = pad + textWidth / 2; cy = canvas.height - pad; break;
        case 'bottom-center': cy = canvas.height - pad; break;
        case 'bottom-right':  cx = canvas.width - pad - textWidth / 2; cy = canvas.height - pad; break;
      }
      drawOne(cx, cy);
    }

    ctx.restore();
    setStatus(t('ok'));
  }

  /* Load image */
  function loadImage(file) {
    if (!file || !file.type.startsWith('image/')) return;
    var reader = new FileReader();
    reader.onload = function() {
      img = new Image();
      img.onload = function() {
        dropZone.classList.add('has-image');
        downloadBtn.disabled = false;
        draw();
      };
      img.src = reader.result;
    };
    reader.readAsDataURL(file);
  }

  /* File pick */
  document.getElementById('pickBtn').addEventListener('click', function() {
    fileInput.click();
  });
  fileInput.addEventListener('change', function(e) {
    if (e.target.files[0]) loadImage(e.target.files[0]);
  });

  /* Drag & drop */
  dropZone.addEventListener('dragenter', function(e) { e.preventDefault(); dropZone.classList.add('drag-over'); });
  dropZone.addEventListener('dragover', function(e) { e.preventDefault(); dropZone.classList.add('drag-over'); });
  dropZone.addEventListener('dragleave', function(e) { e.preventDefault(); dropZone.classList.remove('drag-over'); });
  dropZone.addEventListener('drop', function(e) {
    e.preventDefault();
    dropZone.classList.remove('drag-over');
    var file = e.dataTransfer.files[0];
    if (file) loadImage(file);
  });
  dropZone.addEventListener('click', function(e) {
    if (e.target === dropZone || e.target.closest('.drop-hint')) {
      fileInput.click();
    }
  });

  /* Text input */
  wmText.addEventListener('input', function() { config.text = wmText.value; draw(); });

  /* Font select */
  fontSelect.addEventListener('change', function() { config.font = fontSelect.value; draw(); });

  /* Color */
  colorPicker.addEventListener('input', function() {
    config.color = colorPicker.value;
    colorHex.value = colorPicker.value;
    draw();
  });
  colorHex.addEventListener('input', function() {
    var v = colorHex.value;
    if (/^#[0-9a-fA-F]{6}$/.test(v)) {
      config.color = v;
      colorPicker.value = v;
      draw();
    }
  });

  /* Font size slider */
  sizeSlider.addEventListener('input', function() {
    config.size = parseInt(sizeSlider.value, 10);
    sizeValue.textContent = config.size;
    draw();
  });

  /* Opacity slider */
  opacitySlider.addEventListener('input', function() {
    config.opacity = parseInt(opacitySlider.value, 10) / 100;
    opacityValue.textContent = config.opacity.toFixed(2);
    draw();
  });

  /* Angle slider */
  angleSlider.addEventListener('input', function() {
    config.angle = parseInt(angleSlider.value, 10);
    angleValue.textContent = config.angle + '\u00B0';
    draw();
  });

  /* Position grid */
  positionBtns.forEach(function(btn) {
    btn.addEventListener('click', function() {
      config.tileMode = false;
      config.position = btn.getAttribute('data-pos');
      positionBtns.forEach(function(b) { b.classList.remove('active'); });
      btn.classList.add('active');
      tileBtn.classList.remove('active');
      tileGapGroup.style.display = 'none';
      draw();
    });
  });

  /* Tile button */
  tileBtn.addEventListener('click', function() {
    config.tileMode = !config.tileMode;
    if (config.tileMode) {
      positionBtns.forEach(function(b) { b.classList.remove('active'); });
      tileBtn.classList.add('active');
      tileGapGroup.style.display = '';
    } else {
      tileBtn.classList.remove('active');
      tileGapGroup.style.display = 'none';
      var centerBtn = document.querySelector('.position-btn[data-pos="center"]');
      if (centerBtn) centerBtn.classList.add('active');
      config.position = 'center';
    }
    draw();
  });

  /* Tile gap slider */
  tileGapSlider.addEventListener('input', function() {
    config.tileGap = parseInt(tileGapSlider.value, 10);
    tileGapValue.textContent = config.tileGap;
    draw();
  });

  /* Download */
  downloadBtn.addEventListener('click', function() {
    if (!img) {
      setStatus(t('needImg'));
      return;
    }
    draw();
    var a = document.createElement('a');
    a.href = canvas.toDataURL('image/png');
    a.download = 'watermarked.png';
    a.click();
  });

  window._translations = i18n;
})();
</script>
    <script src="common/common.js" data-tool-id="watermark-tool" data-tool-name="Watermark Tool" data-category="image"></script>
    <script>WebToolbox.init(window._translations);</script>

</body>
</html>
