<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CT8E5N460D"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-CT8E5N460D');</script>
    <title>WebSocket Tester - Free Online | No Ads, No Signup</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online WebSocket testing tool, supports ws:// and wss:// protocols. Connect to internal and external WebSocket servers. Real-time messaging, connection monitoring, JSON formatting. ‚úÖ No ads ‚úÖ No signup ‚úÖ No limits. Runs entirely in your browser.">
    <meta name="keywords" content="WebSocket tester,WebSocket debugger,WS testing tool,WSS connection,online WebSocket,Socket test,real-time communication test,free tool, no ads, no signup, no login, free unlimited, browser-based, no installation">
    <meta name="author" content="UseMagicTools">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="language" content="en">
    <link rel="canonical" href="https://www.usemagictools.com/websocket-tester.html">
    <link rel="alternate" hreflang="en" href="https://www.usemagictools.com/websocket-tester.html">
    <link rel="alternate" hreflang="zh-CN" href="https://www.usemagictools.com/websocket-tester.html">
    <link rel="alternate" hreflang="fr" href="https://www.usemagictools.com/websocket-tester.html">
    <link rel="alternate" hreflang="es" href="https://www.usemagictools.com/websocket-tester.html">
    <link rel="alternate" hreflang="x-default" href="https://www.usemagictools.com/websocket-tester.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.usemagictools.com/websocket-tester.html">
    <meta property="og:title" content="WebSocket Tester - Free Online | No Ads, No Signup">
    <meta property="og:description" content="Free online WebSocket testing tool, supports ws/wss protocols, real-time messaging and connection monitoring.">
    <meta property="og:image" content="https://www.usemagictools.com/screenshots/websocket-tester-v1.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="zh_CN">
    <meta property="og:site_name" content="Magic Toolbox">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@usemagictools">
    <meta name="twitter:creator" content="@usemagictools">
    <meta name="twitter:title" content="WebSocket Tester - Free Online | No Ads, No Signup">
    <meta name="twitter:description" content="Free online WebSocket testing tool, supports ws/wss protocols, real-time messaging.">
    <meta name="twitter:image" content="https://www.usemagictools.com/screenshots/websocket-tester-v1.webp">

    <!-- JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "inLanguage": ["en", "zh-CN", "fr", "es"],
        "name": "WebSocket Tester",
        "url": "https://www.usemagictools.com/websocket-tester.html",
        "description": "Online WebSocket connection testing and debugging tool",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Web Browser",
        "featureList": ["No ads", "No signup required", "100% browser-based", "Unlimited usage", "No watermark"],
        "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"},
        "author": {"@type": "Person", "name": "UseMagicTools"},
        "alternateName": ["WebSocketÊµãËØïÂô®", "WS Tester", "WebSocket Client"],
        "publisher": {"@type": "Organization", "name": "Web Toolbox", "url": "https://www.usemagictools.com/"},
        "screenshot": "https://www.usemagictools.com/screenshots/websocket-tester-v1.webp"
    }
    </script>

    <!-- FAQ JSON-LD -->
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {
            "@type": "Question",
            "name": "What is WebSocket?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "WebSocket is a full-duplex communication protocol that enables the server to push data to the client proactively. Unlike traditional HTTP request-response mode, WebSocket can communicate bidirectionally in real-time after establishing a connection, suitable for chat, real-time data push, online games, etc."
            }
        },
        {
            "@type": "Question",
            "name": "What is the difference between ws and wss?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "ws is the regular WebSocket protocol, wss is the encrypted WebSocket (similar to the relationship between http and https). wss uses TLS/SSL to encrypt data transmission, which is more secure. It is recommended to use wss protocol in production environments."
            }
        },
        {
            "@type": "Question",
            "name": "Why does WebSocket connection fail?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Common reasons include: incorrect address, server not started, firewall blocking, CORS restrictions, SSL certificate issues (wss protocol), port occupied, etc. It is recommended to check the server status and network connection."
            }
        },
        {
            "@type": "Question",
            "name": "Can I test WebSocket that requires authentication?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "This tool focuses on testing standard WebSocket connections that do not require authentication headers or token-based handshakes. For connections requiring OAuth, JWT, or custom auth protocols, professional WebSocket client tools like Postman or wscat are recommended. This free browser-based tester is ideal for quick debugging of public WebSocket endpoints with no signup or ads."
            }
        },
        {
            "@type": "Question",
            "name": "Are there any message format restrictions?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "This tool accepts any text-based message format without restrictions. When JSON data is detected, it is automatically pretty-printed with proper indentation for easier reading and API debugging. Binary WebSocket frames are displayed in their text representation. You can send and receive messages of any length. Free to use with no signup, no ads, and runs entirely in your browser."
            }
        },
        {
            "@type": "Question",
            "name": "Is this tool really free with no ads?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser ‚Äî your data is never uploaded to any server."
            }
        }
    ]
}
</script>
    <!-- JSON-LD: BreadcrumbList -->
    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://www.usemagictools.com/"}, {"@type": "ListItem", "position": 2, "name": "WebSocket Tester", "item": "https://www.usemagictools.com/websocket-tester.html"}]}</script>
    <!-- JSON-LD: HowTo -->
    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "HowTo", "name": "How to Use WebSocket Tester", "totalTime": "PT1M", "step": [{"@type": "HowToStep", "position": 1, "name": "Enter WebSocket URL", "text": "Type or paste your WebSocket server URL (ws:// or wss://) in the connection field."}, {"@type": "HowToStep", "position": 2, "name": "Connect to Server", "text": "Click Connect to establish a WebSocket connection. The status indicator shows connection state."}, {"@type": "HowToStep", "position": 3, "name": "Send and Receive Messages", "text": "Type messages to send, view incoming messages in the log, and test your WebSocket API in real time."}]}</script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e4e4e7;
            line-height: 1.6;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px;
        }
/* Â§¥ÈÉ® */
        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        header h1 {
            font-size: 2.2rem;
            background: linear-gradient(120deg, #00d4ff, #7c3aed, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        header p {
            color: #a1a1aa;
            font-size: 0.95rem;
        }

        .tips {
            background: rgba(124, 58, 237, 0.15);
            border: 1px solid rgba(124, 58, 237, 0.3);
            border-radius: 8px;
            padding: 12px 16px;
            margin-top: 15px;
            font-size: 0.85rem;
            color: #a78bfa;
            display: inline-block;
        }

        .tips code {
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
        }

        /* ‰∏ªÂ∏ÉÂ±Ä */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 900px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
        }

        /* Âç°ÁâáÊ†∑Âºè */
        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
        }

        .card-header {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card-header h2 {
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-body {
            padding: 20px;
        }

        /* ËøûÊé•Âå∫Âüü */
        .connection-section {
            grid-column: 1 / -1;
        }

        .connection-form {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .url-input-wrapper {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .url-input-wrapper .protocol {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #22c55e;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            pointer-events: none;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 15px;
            padding-left: 55px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            color: #e4e4e7;
            font-size: 0.95rem;
            font-family: 'Monaco', 'Menlo', monospace;
            transition: all 0.2s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #7c3aed;
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2);
        }

        /* ÊåâÈíÆ */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .btn-connect {
            background: linear-gradient(135deg, #059669, #10b981);
            color: #fff;
        }

        .btn-connect:hover {
            background: linear-gradient(135deg, #10b981, #34d399);
            transform: translateY(-2px);
        }

        .btn-disconnect {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            color: #fff;
        }

        .btn-disconnect:hover {
            background: linear-gradient(135deg, #ef4444, #f87171);
            transform: translateY(-2px);
        }

        .btn-send {
            background: linear-gradient(135deg, #7c3aed, #6366f1);
            color: #fff;
        }

        .btn-send:hover {
            background: linear-gradient(135deg, #8b5cf6, #818cf8);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e4e4e7;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Áä∂ÊÄÅÊåáÁ§∫Âô® */
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #71717a;
            animation: none;
        }

        .status-dot.connecting {
            background: #f59e0b;
            animation: pulse 1s infinite;
        }

        .status-dot.connected {
            background: #22c55e;
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
        }

        .status-dot.disconnected {
            background: #ef4444;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-text {
            color: #a1a1aa;
        }

        .status-text.connected {
            color: #22c55e;
        }

        .status-text.connecting {
            color: #f59e0b;
        }

        .status-text.disconnected {
            color: #ef4444;
        }

        /* Ê∂àÊÅØËæìÂÖ• */
        .message-input-area {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 12px 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            color: #e4e4e7;
            font-size: 0.9rem;
            font-family: 'Monaco', 'Menlo', monospace;
            resize: vertical;
            transition: all 0.2s ease;
        }

        textarea:focus {
            outline: none;
            border-color: #7c3aed;
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2);
        }

        .message-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }

        .message-type {
            display: flex;
            gap: 5px;
        }

        .message-type label {
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .message-type input[type="radio"] {
            display: none;
        }

        .message-type input[type="radio"]:checked + label {
            background: rgba(124, 58, 237, 0.3);
            border-color: #7c3aed;
            color: #a78bfa;
        }

        .send-actions {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        /* Ê∂àÊÅØÊó•Âøó */
        .message-log {
            height: 400px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 10px;
        }

        .message-log::-webkit-scrollbar {
            width: 8px;
        }

        .message-log::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        .message-log::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        .message-log::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .log-entry {
            padding: 8px 12px;
            margin-bottom: 8px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-family: 'Monaco', 'Menlo', monospace;
            animation: slideIn 0.2s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .log-entry.sent {
            background: rgba(124, 58, 237, 0.2);
            border-left: 3px solid #7c3aed;
        }

        .log-entry.received {
            background: rgba(34, 197, 94, 0.2);
            border-left: 3px solid #22c55e;
        }

        .log-entry.system {
            background: rgba(59, 130, 246, 0.2);
            border-left: 3px solid #3b82f6;
        }

        .log-entry.error {
            background: rgba(239, 68, 68, 0.2);
            border-left: 3px solid #ef4444;
        }

        .log-entry .time {
            color: #71717a;
            font-size: 0.75rem;
            margin-right: 10px;
        }

        .log-entry .direction {
            font-weight: 600;
            margin-right: 8px;
        }

        .log-entry.sent .direction {
            color: #a78bfa;
        }

        .log-entry.received .direction {
            color: #22c55e;
        }

        .log-entry.system .direction {
            color: #3b82f6;
        }

        .log-entry.error .direction {
            color: #ef4444;
        }

        .log-entry .content {
            word-break: break-all;
            white-space: pre-wrap;
        }

        .log-empty {
            text-align: center;
            color: #71717a;
            padding: 40px;
        }

        .log-empty .icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        /* Âø´Êç∑Ê∂àÊÅØ */
        .quick-messages {
            margin-top: 15px;
        }

        .quick-messages h4 {
            font-size: 0.8rem;
            color: #71717a;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .quick-msg-list {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .quick-msg {
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .quick-msg:hover {
            background: rgba(124, 58, 237, 0.2);
            border-color: #7c3aed;
        }

        /* ÂéÜÂè≤ËÆ∞ÂΩï */
        .history-list {
            max-height: 150px;
            overflow-y: auto;
        }

        .history-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 12px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            margin-bottom: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .history-item:hover {
            background: rgba(124, 58, 237, 0.2);
        }

        .history-item .url {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.85rem;
            color: #e4e4e7;
        }

        .history-item .delete-btn {
            background: none;
            border: none;
            color: #71717a;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .history-item .delete-btn:hover {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.2);
        }

        .no-history {
            text-align: center;
            color: #71717a;
            padding: 20px;
            font-size: 0.85rem;
        }

        /* ÁªüËÆ°‰ø°ÊÅØ */
        .stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .stat-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .stat-item .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
        }

        .stat-item .label {
            font-size: 0.75rem;
            color: #71717a;
            margin-top: 4px;
        }

        .stat-item.sent .value { color: #a78bfa; }
        .stat-item.received .value { color: #22c55e; }
        .stat-item.errors .value { color: #ef4444; }
        .stat-item.time .value { color: #3b82f6; font-size: 1rem; }

        @media (max-width: 600px) {
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Toast ÊèêÁ§∫ */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 12px 24px;
            background: rgba(34, 197, 94, 0.9);
            color: #fff;
            border-radius: 8px;
            font-size: 0.9rem;
            z-index: 1000;
            animation: toastIn 0.3s ease;
        }

        .toast.error {
            background: rgba(239, 68, 68, 0.9);
        }

        @keyframes toastIn {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Â∫ïÈÉ®ËØ¥Êòé */
        .footer-notes {
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 20px;
        }

        .footer-notes h3 {
            font-size: 1rem;
            margin-bottom: 15px;
            color: #e4e4e7;
        }

        .footer-notes ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .footer-notes li {
            padding: 10px 14px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            font-size: 0.85rem;
            color: #a1a1aa;
            line-height: 1.6;
            word-break: break-word;
        }

        .footer-notes li::before {
            content: "‚Ä¢ ";
            color: #7c3aed;
            font-weight: bold;
        }

        .footer-notes code {
            background: rgba(124, 58, 237, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.8rem;
            color: #a78bfa;
            word-break: break-all;
        }

        /* ÂäüËÉΩÁâπÁÇπÂå∫Âùó */
        .features-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 16px;
            margin-bottom: 30px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(124, 58, 237, 0.3);
            transform: translateY(-2px);
        }

        .feature-card .icon {
            font-size: 2rem;
            margin-bottom: 12px;
        }

        .feature-card h3 {
            font-size: 1rem;
            color: #e4e4e7;
            margin-bottom: 8px;
        }

        .feature-card p {
            font-size: 0.85rem;
            color: #a1a1aa;
            line-height: 1.6;
        }

        /* FAQ Âå∫Âùó */
        .faq-section {
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 24px;
        }

        .faq-section h2 {
            font-size: 1.2rem;
            color: #e4e4e7;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .faq-item {
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            padding: 16px 0;
        }

        .faq-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .faq-item:first-of-type {
            padding-top: 0;
        }

        .faq-question {
            font-size: 0.95rem;
            font-weight: 600;
            color: #e4e4e7;
            margin-bottom: 10px;
            cursor: pointer;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .faq-question::before {
            content: "Q";
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #7c3aed, #6366f1);
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            color: #fff;
        }

        .faq-answer {
            font-size: 0.9rem;
            color: #a1a1aa;
            line-height: 1.7;
            padding-left: 34px;
        }

        .faq-answer code {
            background: rgba(124, 58, 237, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.8rem;
            color: #a78bfa;
        }
        </style>
    <link rel="stylesheet" href="common/common.css">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" href="/favicon.ico" sizes="48x48">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
</head>
<body>
<div class="container">
<header>
            
            <h1 data-i18n="pageTitle">üîå WebSocket Online Tester</h1>
            <p data-i18n="pageSubtitle">HTML5 WebSocket-based online debugging tool, supports internal and external connection testing</p>
            <div class="tips">
                <span data-i18n="connectionFormat">Connection format:</span> <code>ws://IP-or-domain:port</code> <span data-i18n="or">or</span> <code>wss://IP-or-domain:port</code>
                &nbsp;<span data-i18n="example">Example:</span> <code>ws://127.0.0.1:8080</code>
            </div>
        </header>

        <div class="trust-bar">
            <span class="trust-item" data-i18n="trust_users">üåç Used by 50,000+ users</span>
            <span class="trust-item" data-i18n="trust_rating">‚≠ê 4.9/5 rating</span>
            <span class="trust-item" data-i18n="trust_privacy">üîí 100% Private</span>
            <span class="trust-item" data-i18n="trust_free">üö´ No Ads, No Signup</span>
        </div>

        <!-- ÂäüËÉΩÁâπÁÇπ -->
        <section class="features-section">
            <div class="feature-card">
                <div class="icon">üîí</div>
                <h3 data-i18n="featureConnectionTitle">100% Free & Private</h3>
                <p data-i18n="featureConnectionDesc">No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.</p>
            </div>
            <div class="feature-card">
                <div class="icon">üí¨</div>
                <h3 data-i18n="featureMessagingTitle">Messaging</h3>
                <p data-i18n="featureMessagingDesc">Supports sending text and JSON format messages, real-time display of server responses</p>
            </div>
            <div class="feature-card">
                <div class="icon">üìú</div>
                <h3 data-i18n="featureHistoryTitle">Connection History</h3>
                <p data-i18n="featureHistoryDesc">Automatically saves connection records for convenient repeated testing of the same WebSocket address</p>
            </div>
            <div class="feature-card">
                <div class="icon">{ }</div>
                <h3 data-i18n="featureFormatTitle">Message Formatting</h3>
                <p data-i18n="featureFormatDesc">Automatically detects and formats JSON messages for clearer and more readable debugging data</p>
            </div>
        </section>

        <!-- ËøûÊé•Âå∫Âüü -->
        <div class="main-layout">
            <div class="card connection-section">
                <div class="card-header">
                    <h2 data-i18n="connectionSettings">üîó Connection Settings</h2>
                    <div class="status-indicator">
                        <div class="status-dot" id="statusDot"></div>
                        <span class="status-text" id="statusText" data-i18n="statusDisconnected">Disconnected</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="connection-form">
                        <div class="url-input-wrapper">
                            <span class="protocol" id="protocolLabel">ws://</span>
                            <input type="text" id="wsUrl" data-i18n-placeholder="urlPlaceholder" placeholder="127.0.0.1:8080/ws" value="echo.websocket.org">
                        </div>
                        <button class="btn btn-connect" id="connectBtn" onclick="connect()">
                            <span>üîå</span> <span data-i18n="connect">Connect</span>
                        </button>
                        <button class="btn btn-disconnect" id="disconnectBtn" onclick="disconnect()" disabled>
                            <span>‚èπÔ∏è</span> <span data-i18n="disconnect">Disconnect</span>
                        </button>
                    </div>
                    <div class="message-options" style="margin-top: 15px;">
                        <div class="message-type">
                            <input type="radio" name="protocol" id="ws" value="ws://" checked onchange="updateProtocol()">
                            <label for="ws">WS</label>
                            <input type="radio" name="protocol" id="wss" value="wss://" onchange="updateProtocol()">
                            <label for="wss">WSS (SSL)</label>
                        </div>
                    </div>

                    <!-- ÁªüËÆ°‰ø°ÊÅØ -->
                    <div class="stats">
                        <div class="stat-item sent">
                            <div class="value" id="sentCount">0</div>
                            <div class="label" data-i18n="statSent">Sent</div>
                        </div>
                        <div class="stat-item received">
                            <div class="value" id="receivedCount">0</div>
                            <div class="label" data-i18n="statReceived">Received</div>
                        </div>
                        <div class="stat-item errors">
                            <div class="value" id="errorCount">0</div>
                            <div class="label" data-i18n="statErrors">Errors</div>
                        </div>
                        <div class="stat-item time">
                            <div class="value" id="connectedTime">--:--</div>
                            <div class="label" data-i18n="statDuration">Duration</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÂèëÈÄÅÊ∂àÊÅØ -->
            <div class="card">
                <div class="card-header">
                    <h2 data-i18n="sendMessage">üì§ Send Message</h2>
                </div>
                <div class="card-body">
                    <div class="message-input-area">
                        <textarea id="messageInput" data-i18n-placeholder="messagePlaceholder" placeholder="Enter message content to send..."></textarea>
                        <div class="message-options">
                            <div class="message-type">
                                <input type="radio" name="msgType" id="textMsg" value="text" checked>
                                <label for="textMsg" data-i18n="msgTypeText">Text</label>
                                <input type="radio" name="msgType" id="jsonMsg" value="json">
                                <label for="jsonMsg">JSON</label>
                            </div>
                            <div class="send-actions">
                                <button class="btn btn-secondary" onclick="formatJson()" data-i18n="formatJson">Format JSON</button>
                                <button class="btn btn-secondary" onclick="clearMessage()" data-i18n="clear">Clear</button>
                                <button class="btn btn-send" id="sendBtn" onclick="sendMessage()" disabled>
                                    <span>üì§</span> <span data-i18n="send">Send</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="quick-messages">
                        <h4 data-i18n="quickMessages">Quick Messages</h4>
                        <div class="quick-msg-list">
                            <span class="quick-msg" onclick="setQuickMessage('ping')">ping</span>
                            <span class="quick-msg" onclick="setQuickMessage('pong')">pong</span>
                            <span class="quick-msg" onclick="setQuickMessage('hello')">hello</span>
                            <span class="quick-msg" onclick="setQuickMessage('{&quot;type&quot;:&quot;ping&quot;}')">{ping}</span>
                            <span class="quick-msg" onclick="setQuickMessage('{&quot;action&quot;:&quot;subscribe&quot;,&quot;channel&quot;:&quot;test&quot;}')">{subscribe}</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ê∂àÊÅØÊó•Âøó -->
            <div class="card">
                <div class="card-header">
                    <h2 data-i18n="messageLog">üìã Message Log</h2>
                    <button class="btn btn-secondary" onclick="clearLog()" style="padding: 6px 12px; font-size: 0.8rem;">
                        üóëÔ∏è <span data-i18n="clearLog">Clear</span>
                    </button>
                </div>
                <div class="card-body">
                    <div class="message-log" id="messageLog">
                        <div class="log-empty">
                            <div class="icon">üì≠</div>
                            <p data-i18n="noMessages">No messages yet</p>
                            <p style="font-size: 0.8rem; margin-top: 5px;" data-i18n="noMessagesHint">Messages will appear here after connecting to WebSocket</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‰ΩøÁî®ËØ¥Êòé -->
        <div class="footer-notes">
            <h3 data-i18n="usageGuide">üìñ Usage Guide</h3>
            <ul>
                <li data-i18n="usageNote1">Supports <code>ws://</code> (regular) and <code>wss://</code> (SSL encrypted) protocols</li>
                <li data-i18n="usageNote2">Internal test: <code>ws://192.168.1.100:8080</code> or <code>ws://localhost:3000</code></li>
                <li data-i18n="usageNote3">External test: <code>wss://example.com/ws</code> or <code>ws://your-domain.com:8080</code></li>
                <li data-i18n="usageNote4">Supports sending plain text and JSON format messages, with automatic JSON formatting</li>
                <li data-i18n="usageNote5">Real-time display of sent/received messages with timestamps and content</li>
                <li data-i18n="usageNote6">Real-time connection status monitoring, statistics for sent/received/error counts</li>
            </ul>
        </div>

    <!-- FAQ Â∏∏ËßÅÈóÆÈ¢ò -->
    <section class="faq-section">
        <h2 data-i18n="faqTitle">‚ùì FAQ</h2>
        <div class="faq-item">
            <div class="faq-question" data-i18n="faq1Question">What is WebSocket?</div>
            <div class="faq-answer" data-i18n="faq1Answer">WebSocket is a full-duplex communication protocol that enables the server to push data to the client proactively. Unlike traditional HTTP request-response mode, WebSocket can communicate bidirectionally in real-time after establishing a connection, suitable for chat, real-time data push, online games, etc.</div>
        </div>
        <div class="faq-item">
            <div class="faq-question" data-i18n="faq2Question">What is the difference between ws and wss?</div>
            <div class="faq-answer" data-i18n="faq2Answer">ws is the regular WebSocket protocol, wss is the encrypted WebSocket (similar to the relationship between <code>http</code> and <code>https</code>). wss uses TLS/SSL to encrypt data transmission, which is more secure. It is recommended to use wss protocol in production environments.</div>
        </div>
        <div class="faq-item">
            <div class="faq-question" data-i18n="faq3Question">Why does WebSocket connection fail?</div>
            <div class="faq-answer" data-i18n="faq3Answer">Common reasons include: incorrect address, server not started, firewall blocking, CORS restrictions, SSL certificate issues (wss protocol), port occupied, etc. It is recommended to check the server status and network connection to ensure the WebSocket service is running normally.</div>
        </div>
        <div class="faq-item">
            <div class="faq-question" data-i18n="faq4Question">Can I test WebSocket that requires authentication?</div>
            <div class="faq-answer" data-i18n="faq4Answer">This tool does not support WebSocket connections that require authentication. It only supports non-authenticated WebSocket connection testing. For authenticated connections, it is recommended to use professional WebSocket client tools like Postman or wscat.</div>
        </div>
        <div class="faq-item">
            <div class="faq-question" data-i18n="faq5Question">Are there any message format restrictions?</div>
            <div class="faq-answer" data-i18n="faq5Answer">Any text message is supported, JSON format will be automatically formatted for display. The tool automatically detects JSON format and beautifies it for easy API interface debugging. There is no specific message length limit, but it is recommended to keep single messages under 64KB.</div>
        </div>
        <div class="faq-item">
            <div class="faq-question" data-i18n="faqFreeQ">Is this tool really free with no ads?</div>
            <div class="faq-answer" data-i18n="faqFreeA">Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser ‚Äî your data is never uploaded to any server.</div>
        </div>
    </section>

    <!-- Related Tools -->
    <section class="related-tools">
        <h2 data-i18n="relatedTools">üîó Related Tools</h2>
        <div class="related-grid">
            <a href="json-viewer.html" class="related-card">
                <h3 data-i18n="jsonViewer">JSON Viewer</h3>
                <p data-i18n="jsonViewerDesc">JSON formatting and visualization</p>
            </a>
            <a href="crypto-tools.html" class="related-card">
                <h3 data-i18n="cryptoTools">Crypto Toolbox</h3>
                <p data-i18n="cryptoToolsDesc">Base64/MD5/AES etc.</p>
            </a>
            <a href="ip-lookup.html" class="related-card">
                <h3 data-i18n="ipLookup">IP Lookup</h3>
                <p data-i18n="ipLookupDesc">Query IP geolocation</p>
            </a>
            <a href="regex-tester.html" class="related-card">
                <h3 data-i18n="regexTester">Regex Tester</h3>
                <p data-i18n="regexTesterDesc">Online regex matching and debugging</p>
            </a>
        </div>
    </section>
    </div>

    <script>
        // ==================== ÂõΩÈôÖÂåñÊ®°Âùó ====================
        const i18n = {
            translations: {
                en: {
                    tool_name: 'WebSocket Tester',
                    backHome: '‚Üê Back to Toolbox Home',
                    pageTitle: 'üîå WebSocket Online Tester',
                    pageSubtitle: 'HTML5 WebSocket-based online debugging tool, supports internal and external connection testing',
                    connectionFormat: 'Connection format:',
                    or: 'or',
                    example: 'Example:',
                    featureConnectionTitle: '100% Free & Private',
                    featureConnectionDesc: 'No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.',
                    featureMessagingTitle: 'Messaging',
                    featureMessagingDesc: 'Supports sending text and JSON format messages, real-time display of server responses',
                    featureHistoryTitle: 'Connection History',
                    featureHistoryDesc: 'Automatically saves connection records for convenient repeated testing of the same WebSocket address',
                    featureFormatTitle: 'Message Formatting',
                    featureFormatDesc: 'Automatically detects and formats JSON messages for clearer and more readable debugging data',
                    connectionSettings: 'üîó Connection Settings',
                    statusDisconnected: 'Disconnected',
                    statusConnecting: 'Connecting...',
                    statusConnected: 'Connected',
                    urlPlaceholder: '127.0.0.1:8080/ws',
                    connect: 'Connect',
                    disconnect: 'Disconnect',
                    statSent: 'Sent',
                    statReceived: 'Received',
                    statErrors: 'Errors',
                    statDuration: 'Duration',
                    sendMessage: 'üì§ Send Message',
                    messagePlaceholder: 'Enter message content to send...',
                    msgTypeText: 'Text',
                    formatJson: 'Format JSON',
                    clear: 'Clear',
                    send: 'Send',
                    quickMessages: 'Quick Messages',
                    messageLog: 'üìã Message Log',
                    clearLog: 'Clear',
                    noMessages: 'No messages yet',
                    noMessagesHint: 'Messages will appear here after connecting to WebSocket',
                    usageGuide: 'üìñ Usage Guide',
                    usageNote1: 'Supports <code>ws://</code> (regular) and <code>wss://</code> (SSL encrypted) protocols',
                    usageNote2: 'Internal test: <code>ws://192.168.1.100:8080</code> or <code>ws://localhost:3000</code>',
                    usageNote3: 'External test: <code>wss://example.com/ws</code> or <code>ws://your-domain.com:8080</code>',
                    usageNote4: 'Supports sending plain text and JSON format messages, with automatic JSON formatting',
                    usageNote5: 'Real-time display of sent/received messages with timestamps and content',
                    usageNote6: 'Real-time connection status monitoring, statistics for sent/received/error counts',
                    faqTitle: '‚ùì FAQ',
                    faq1Question: 'What is WebSocket?',
                    faq1Answer: 'WebSocket is a full-duplex communication protocol that enables the server to push data to the client proactively. Unlike traditional HTTP request-response mode, WebSocket can communicate bidirectionally in real-time after establishing a connection, suitable for chat, real-time data push, online games, etc.',
                    faq2Question: 'What is the difference between ws and wss?',
                    faq2Answer: 'ws is the regular WebSocket protocol, wss is the encrypted WebSocket (similar to the relationship between <code>http</code> and <code>https</code>). wss uses TLS/SSL to encrypt data transmission, which is more secure. It is recommended to use wss protocol in production environments.',
                    faq3Question: 'Why does WebSocket connection fail?',
                    faq3Answer: 'Common reasons include: incorrect address, server not started, firewall blocking, CORS restrictions, SSL certificate issues (wss protocol), port occupied, etc. It is recommended to check the server status and network connection to ensure the WebSocket service is running normally.',
                    faq4Question: 'Can I test WebSocket that requires authentication?',
                    faq4Answer: 'This tool does not support WebSocket connections that require authentication. It only supports non-authenticated WebSocket connection testing. For authenticated connections, it is recommended to use professional WebSocket client tools like Postman or wscat.',
                    faq5Question: 'Are there any message format restrictions?',
                    faq5Answer: 'Any text message is supported, JSON format will be automatically formatted for display. The tool automatically detects JSON format and beautifies it for easy API interface debugging. There is no specific message length limit, but it is recommended to keep single messages under 64KB.',
                    faqFreeQ: 'Is this tool really free with no ads?',
                    faqFreeA: 'Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser ‚Äî your data is never uploaded to any server.',
                    relatedTools: 'üîó Related Tools',
                    jsonViewer: 'JSON Viewer',
                    jsonViewerDesc: 'JSON formatting and visualization',
                    cryptoTools: 'Crypto Toolbox',
                    cryptoToolsDesc: 'Base64/MD5/AES etc.',
                    ipLookup: 'IP Lookup',
                    ipLookupDesc: 'Query IP geolocation',
                    regexTester: 'Regex Tester',
                    regexTesterDesc: 'Online regex matching and debugging',
                    footerNote: 'Pure frontend processing, data will not be uploaded to server',
                    footerBackHome: '‚Üê Back to Web Toolbox Home',
                    // Êó•ÂøóÊ∂àÊÅØ
                    logConnecting: 'Connecting to',
                    logConnected: 'Connected successfully!',
                    logDisconnecting: 'Disconnecting...',
                    logConnectionClosed: 'Connection closed',
                    logConnectionError: 'Connection error',
                    logSendFailed: 'Send failed:',
                    logConnectFailed: 'Connection failed:',
                    logUserDisconnect: 'User disconnected',
                    logDirectionSent: 'Sent ‚Üí',
                    logDirectionReceived: '‚Üê Received',
                    logDirectionSystem: 'System',
                    logDirectionError: 'Error',
                    // Toast Ê∂àÊÅØ
                    toastEnterValidUrl: 'Please enter a valid WebSocket address',
                    toastNotConnected: 'WebSocket not connected',
                    toastEnterMessage: 'Please enter message content',
                    toastInvalidJson: 'Invalid JSON format',
                    langName: 'üåê English',
                    trust_users: 'üåç Used by 50,000+ users',
                    trust_rating: '‚≠ê 4.9/5 rating',
                    trust_privacy: 'üîí 100% Private',
                    trust_free: 'üö´ No Ads, No Signup'
                },
                'zh-CN': {
                    tool_name: 'WebSocket ÊµãËØïÂ∑•ÂÖ∑',
                    backHome: '‚Üê ËøîÂõûÂ∑•ÂÖ∑ÁÆ±È¶ñÈ°µ',
                    pageTitle: 'üîå WebSocket Âú®Á∫øÊµãËØïÂ∑•ÂÖ∑',
                    pageSubtitle: 'Âü∫‰∫é HTML5 WebSocket ÁöÑÂú®Á∫øË∞ÉËØïÂ∑•ÂÖ∑ÔºåÊîØÊåÅÂÜÖÁΩëÂíåÂ§ñÁΩëËøûÊé•ÊµãËØï',
                    connectionFormat: 'ËøûÊé•Ê†ºÂºèÔºö',
                    or: 'Êàñ',
                    example: 'Á§∫‰æãÔºö',
                    featureConnectionTitle: '100% ÂÖçË¥π‰∏îÂÆâÂÖ®',
                    featureConnectionDesc: 'Êó†ÂπøÂëä„ÄÅÊó†ÈúÄÊ≥®ÂÜå„ÄÅÊó†Ê∞¥Âç∞„ÄÇÊâÄÊúâÂ§ÑÁêÜÈÉΩÂú®ÊµèËßàÂô®Êú¨Âú∞ÂÆåÊàêÔºåÊï∞ÊçÆ‰∏ç‰ºö‰∏ä‰º†Âà∞‰ªª‰ΩïÊúçÂä°Âô®„ÄÇ',
                    featureMessagingTitle: 'Ê∂àÊÅØÊî∂Âèë',
                    featureMessagingDesc: 'ÊîØÊåÅÂèëÈÄÅÊñáÊú¨Âíå JSON Ê†ºÂºèÊ∂àÊÅØÔºåÂÆûÊó∂ÊòæÁ§∫ÊúçÂä°Âô®ÂìçÂ∫îÂÜÖÂÆπ',
                    featureHistoryTitle: 'ËøûÊé•ÂéÜÂè≤',
                    featureHistoryDesc: 'Ëá™Âä®‰øùÂ≠òËøûÊé•ËÆ∞ÂΩïÔºåÊñπ‰æøÈáçÂ§çÊµãËØïÁõ∏ÂêåÁöÑ WebSocket Âú∞ÂùÄ',
                    featureFormatTitle: 'Ê∂àÊÅØÊ†ºÂºèÂåñ',
                    featureFormatDesc: 'Ëá™Âä®Ê£ÄÊµãÂπ∂Ê†ºÂºèÂåñ JSON Ê∂àÊÅØÔºåËÆ©Ë∞ÉËØïÊï∞ÊçÆÊõ¥Âä†Ê∏ÖÊô∞ÊòìËØª',
                    connectionSettings: 'üîó ËøûÊé•ËÆæÁΩÆ',
                    statusDisconnected: 'Êú™ËøûÊé•',
                    statusConnecting: 'ËøûÊé•‰∏≠...',
                    statusConnected: 'Â∑≤ËøûÊé•',
                    urlPlaceholder: '127.0.0.1:8080/ws',
                    connect: 'ËøûÊé•',
                    disconnect: 'Êñ≠ÂºÄ',
                    statSent: 'Â∑≤ÂèëÈÄÅ',
                    statReceived: 'Â∑≤Êé•Êî∂',
                    statErrors: 'ÈîôËØØ',
                    statDuration: 'ËøûÊé•Êó∂Èïø',
                    sendMessage: 'üì§ ÂèëÈÄÅÊ∂àÊÅØ',
                    messagePlaceholder: 'ËæìÂÖ•Ë¶ÅÂèëÈÄÅÁöÑÊ∂àÊÅØÂÜÖÂÆπ...',
                    msgTypeText: 'ÊñáÊú¨',
                    formatJson: 'Ê†ºÂºèÂåñ JSON',
                    clear: 'Ê∏ÖÁ©∫',
                    send: 'ÂèëÈÄÅ',
                    quickMessages: 'Âø´Êç∑Ê∂àÊÅØ',
                    messageLog: 'üìã Ê∂àÊÅØÊó•Âøó',
                    clearLog: 'Ê∏ÖÁ©∫',
                    noMessages: 'ÊöÇÊó†Ê∂àÊÅØËÆ∞ÂΩï',
                    noMessagesHint: 'ËøûÊé• WebSocket ÂêéÔºåÊ∂àÊÅØÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå',
                    usageGuide: 'üìñ ‰ΩøÁî®ËØ¥Êòé',
                    usageNote1: 'ÊîØÊåÅ <code>ws://</code>ÔºàÊôÆÈÄöÔºâÂíå <code>wss://</code>ÔºàSSLÂä†ÂØÜÔºâ‰∏§ÁßçÂçèËÆÆ',
                    usageNote2: 'ÂÜÖÁΩëÊµãËØïÔºö<code>ws://192.168.1.100:8080</code> Êàñ <code>ws://localhost:3000</code>',
                    usageNote3: 'Â§ñÁΩëÊµãËØïÔºö<code>wss://example.com/ws</code> Êàñ <code>ws://your-domain.com:8080</code>',
                    usageNote4: 'ÊîØÊåÅÂèëÈÄÅÁ∫ØÊñáÊú¨Âíå JSON Ê†ºÂºèÊ∂àÊÅØÔºåÂèØËá™Âä®Ê†ºÂºèÂåñ JSON',
                    usageNote5: 'ÂÆûÊó∂ÊòæÁ§∫ÂèëÈÄÅ/Êé•Êî∂Ê∂àÊÅØÔºåÂåÖÂê´Êó∂Èó¥Êà≥ÂíåÊ∂àÊÅØÂÜÖÂÆπ',
                    usageNote6: 'ËøûÊé•Áä∂ÊÄÅÂÆûÊó∂ÁõëÊéßÔºåÁªüËÆ°ÂèëÈÄÅ/Êé•Êî∂/ÈîôËØØÊ¨°Êï∞',
                    faqTitle: '‚ùì Â∏∏ËßÅÈóÆÈ¢ò',
                    faq1Question: '‰ªÄ‰πàÊòØ WebSocketÔºü',
                    faq1Answer: 'WebSocket ÊòØ‰∏ÄÁßçÂÖ®ÂèåÂ∑•ÈÄö‰ø°ÂçèËÆÆÔºåÊîØÊåÅÊúçÂä°Âô®‰∏ªÂä®Êé®ÈÄÅÊï∞ÊçÆÂà∞ÂÆ¢Êà∑Á´Ø„ÄÇ‰∏é‰º†Áªü HTTP ËØ∑Ê±Ç-ÂìçÂ∫îÊ®°Âºè‰∏çÂêåÔºåWebSocket Âª∫Á´ãËøûÊé•ÂêéÂèØ‰ª•ÂèåÂêëÂÆûÊó∂ÈÄö‰ø°ÔºåÈÄÇÁî®‰∫éËÅäÂ§©„ÄÅÂÆûÊó∂Êï∞ÊçÆÊé®ÈÄÅ„ÄÅÂú®Á∫øÊ∏∏ÊàèÁ≠âÂú∫ÊôØ„ÄÇ',
                    faq2Question: 'ws Âíå wss Êúâ‰ªÄ‰πàÂå∫Âà´Ôºü',
                    faq2Answer: 'ws ÊòØÊôÆÈÄö WebSocket ÂçèËÆÆÔºåwss ÊòØÂä†ÂØÜÁöÑ WebSocketÔºàÁ±ª‰ºº <code>http</code> Âíå <code>https</code> ÁöÑÂÖ≥Á≥ªÔºâ„ÄÇwss ‰ΩøÁî® TLS/SSL Âä†ÂØÜ‰º†ËæìÊï∞ÊçÆÔºåÊõ¥Âä†ÂÆâÂÖ®ÔºåÁîü‰∫ßÁéØÂ¢ÉÂª∫ËÆÆ‰ΩøÁî® wss ÂçèËÆÆ„ÄÇ',
                    faq3Question: '‰∏∫‰ªÄ‰πà WebSocket ËøûÊé•Â§±Ë¥•Ôºü',
                    faq3Answer: 'Â∏∏ËßÅÂéüÂõ†ÂåÖÊã¨ÔºöÂú∞ÂùÄÈîôËØØ„ÄÅÊúçÂä°Âô®Êú™ÂêØÂä®„ÄÅÈò≤ÁÅ´Â¢ôÈòªÊ≠¢„ÄÅCORS ÈôêÂà∂„ÄÅSSL ËØÅ‰π¶ÈóÆÈ¢òÔºàwss ÂçèËÆÆÔºâ„ÄÅÁ´ØÂè£Ë¢´Âç†Áî®Á≠â„ÄÇÂª∫ËÆÆÊ£ÄÊü•ÊúçÂä°Âô®Áä∂ÊÄÅÂíåÁΩëÁªúËøûÊé•ÔºåÁ°Æ‰øù WebSocket ÊúçÂä°Ê≠£Â∏∏ËøêË°å„ÄÇ',
                    faq4Question: 'ÂèØ‰ª•ÊµãËØïÈúÄË¶ÅËÆ§ËØÅÁöÑ WebSocket ÂêóÔºü',
                    faq4Answer: 'Êú¨Â∑•ÂÖ∑ÊöÇ‰∏çÊîØÊåÅÈúÄË¶ÅËÆ§ËØÅÁöÑ WebSocket ËøûÊé•Ôºå‰ªÖÊîØÊåÅÊó†ËÆ§ËØÅÁöÑ WebSocket ËøûÊé•ÊµãËØï„ÄÇÂ¶ÇÈúÄÊµãËØïÂ∏¶ËÆ§ËØÅÁöÑËøûÊé•ÔºåÂª∫ËÆÆ‰ΩøÁî®‰∏ì‰∏öÁöÑ WebSocket ÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑Â¶Ç Postman Êàñ wscat„ÄÇ',
                    faq5Question: 'Ê∂àÊÅØÊ†ºÂºèÊúâÈôêÂà∂ÂêóÔºü',
                    faq5Answer: 'ÊîØÊåÅÂèëÈÄÅ‰ªªÊÑèÊñáÊú¨Ê∂àÊÅØÔºåJSON Ê†ºÂºè‰ºöËá™Âä®Ê†ºÂºèÂåñÊòæÁ§∫„ÄÇÂ∑•ÂÖ∑‰ºöËá™Âä®Ê£ÄÊµã JSON Ê†ºÂºèÂπ∂ËøõË°åÁæéÂåñÂ±ïÁ§∫ÔºåÊñπ‰æøË∞ÉËØï API Êé•Âè£„ÄÇÊ∂àÊÅØÈïøÂ∫¶Ê≤°ÊúâÁâπÂà´ÈôêÂà∂Ôºå‰ΩÜÂª∫ËÆÆÂçïÊù°Ê∂àÊÅØ‰∏çË∂ÖËøá 64KB„ÄÇ',
                    faqFreeQ: 'Ëøô‰∏™Â∑•ÂÖ∑ÁúüÁöÑÂÖçË¥π‰∏îÊ≤°ÊúâÂπøÂëäÂêóÔºü',
                    faqFreeA: 'ÊòØÁöÑÔºå100% ÂÖçË¥πÔºåÊó†ÂπøÂëä„ÄÅÊó†ÈúÄÊ≥®ÂÜå„ÄÅÊó†Ê∞¥Âç∞„ÄÅÊó†‰ΩøÁî®ÈôêÂà∂„ÄÇÊâÄÊúâÂ§ÑÁêÜÈÉΩÂú®ÊµèËßàÂô®Êú¨Âú∞ÂÆåÊàêÔºåÊÇ®ÁöÑÊï∞ÊçÆ‰∏ç‰ºö‰∏ä‰º†Âà∞‰ªª‰ΩïÊúçÂä°Âô®„ÄÇ',
                    relatedTools: 'üîó Áõ∏ÂÖ≥Â∑•ÂÖ∑Êé®Ëçê',
                    jsonViewer: 'JSON Êü•ÁúãÂô®',
                    jsonViewerDesc: 'JSON Ê†ºÂºèÂåñ‰∏éÂèØËßÜÂåñ',
                    cryptoTools: 'Âä†Ëß£ÂØÜÂ∑•ÂÖ∑ÁÆ±',
                    cryptoToolsDesc: 'Base64/MD5/AES Á≠â',
                    ipLookup: 'IP ÂΩíÂ±ûÂú∞Êü•ËØ¢',
                    ipLookupDesc: 'Êü•ËØ¢ IP Âú∞ÁêÜ‰ΩçÁΩÆ',
                    regexTester: 'Ê≠£ÂàôË°®ËææÂºèÊµãËØï',
                    regexTesterDesc: 'Âú®Á∫øÊ≠£ÂàôÂåπÈÖç‰∏éË∞ÉËØï',
                    footerNote: 'Á∫ØÂâçÁ´ØÂ§ÑÁêÜÔºåÊï∞ÊçÆ‰∏ç‰ºö‰∏ä‰º†Âà∞ÊúçÂä°Âô®',
                    footerBackHome: '‚Üê ËøîÂõû Web Toolbox È¶ñÈ°µ',
                    // Êó•ÂøóÊ∂àÊÅØ
                    logConnecting: 'Ê≠£Âú®ËøûÊé•',
                    logConnected: 'ËøûÊé•ÊàêÂäüÔºÅ',
                    logDisconnecting: 'Ê≠£Âú®Êñ≠ÂºÄËøûÊé•...',
                    logConnectionClosed: 'ËøûÊé•Â∑≤ÂÖ≥Èó≠',
                    logConnectionError: 'ËøûÊé•ÂèëÁîüÈîôËØØ',
                    logSendFailed: 'ÂèëÈÄÅÂ§±Ë¥•Ôºö',
                    logConnectFailed: 'ËøûÊé•Â§±Ë¥•Ôºö',
                    logUserDisconnect: 'Áî®Êà∑‰∏ªÂä®Êñ≠ÂºÄ',
                    logDirectionSent: 'ÂèëÈÄÅ ‚Üí',
                    logDirectionReceived: '‚Üê Êé•Êî∂',
                    logDirectionSystem: 'Á≥ªÁªü',
                    logDirectionError: 'ÈîôËØØ',
                    // Toast Ê∂àÊÅØ
                    toastEnterValidUrl: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑ WebSocket Âú∞ÂùÄ',
                    toastNotConnected: 'WebSocket Êú™ËøûÊé•',
                    toastEnterMessage: 'ËØ∑ËæìÂÖ•Ê∂àÊÅØÂÜÖÂÆπ',
                    toastInvalidJson: 'Êó†ÊïàÁöÑ JSON Ê†ºÂºè',
                    langName: 'üåê ‰∏≠Êñá',
                    trust_users: 'üåç Ë∂ÖËøá 50,000 Áî®Êà∑‰ΩøÁî®',
                    trust_rating: '‚≠ê 4.9/5 Â•ΩËØÑ',
                    trust_privacy: 'üîí 100% ÈöêÁßÅÂÆâÂÖ®',
                    trust_free: 'üö´ Êó†ÂπøÂëä„ÄÅÊó†ÈúÄÊ≥®ÂÜå'
                },
                fr: {
                    tool_name: 'Testeur WebSocket',
                    backHome: '‚Üê Retour √† la bo√Æte √† outils',
                    pageTitle: 'üîå Testeur WebSocket en ligne',
                    pageSubtitle: 'Outil de d√©bogage en ligne bas√© sur HTML5 WebSocket, prend en charge les tests de connexion internes et externes',
                    connectionFormat: 'Format de connexion :',
                    or: 'ou',
                    example: 'Exemple :',
                    featureConnectionTitle: '100% Gratuit et Priv√©',
                    featureConnectionDesc: 'Sans publicit√©, sans inscription, sans filigrane. Tout est trait√© localement dans votre navigateur.',
                    featureMessagingTitle: 'Messagerie',
                    featureMessagingDesc: 'Prend en charge l\'envoi de messages texte et JSON, affichage en temps r√©el des r√©ponses du serveur',
                    featureHistoryTitle: 'Historique de connexion',
                    featureHistoryDesc: 'Enregistre automatiquement les connexions pour faciliter les tests r√©p√©t√©s de la m√™me adresse WebSocket',
                    featureFormatTitle: 'Formatage des messages',
                    featureFormatDesc: 'D√©tecte et formate automatiquement les messages JSON pour des donn√©es de d√©bogage plus claires et lisibles',
                    connectionSettings: 'üîó Param√®tres de connexion',
                    statusDisconnected: 'D√©connect√©',
                    statusConnecting: 'Connexion...',
                    statusConnected: 'Connect√©',
                    urlPlaceholder: '127.0.0.1:8080/ws',
                    connect: 'Connecter',
                    disconnect: 'D√©connecter',
                    statSent: 'Envoy√©s',
                    statReceived: 'Re√ßus',
                    statErrors: 'Erreurs',
                    statDuration: 'Dur√©e',
                    sendMessage: 'üì§ Envoyer un message',
                    messagePlaceholder: 'Entrez le contenu du message √† envoyer...',
                    msgTypeText: 'Texte',
                    formatJson: 'Formater JSON',
                    clear: 'Effacer',
                    send: 'Envoyer',
                    quickMessages: 'Messages rapides',
                    messageLog: 'üìã Journal des messages',
                    clearLog: 'Effacer',
                    noMessages: 'Aucun message pour le moment',
                    noMessagesHint: 'Les messages appara√Ætront ici apr√®s la connexion au WebSocket',
                    usageGuide: 'üìñ Guide d\'utilisation',
                    usageNote1: 'Prend en charge les protocoles <code>ws://</code> (standard) et <code>wss://</code> (chiffr√© SSL)',
                    usageNote2: 'Test interne : <code>ws://192.168.1.100:8080</code> ou <code>ws://localhost:3000</code>',
                    usageNote3: 'Test externe : <code>wss://example.com/ws</code> ou <code>ws://your-domain.com:8080</code>',
                    usageNote4: 'Prend en charge l\'envoi de messages texte brut et JSON, avec formatage JSON automatique',
                    usageNote5: 'Affichage en temps r√©el des messages envoy√©s/re√ßus avec horodatage et contenu',
                    usageNote6: 'Surveillance en temps r√©el de l\'√©tat de connexion, statistiques d\'envoi/r√©ception/erreurs',
                    faqTitle: '‚ùì FAQ',
                    faq1Question: 'Qu\'est-ce que WebSocket ?',
                    faq1Answer: 'WebSocket est un protocole de communication full-duplex qui permet au serveur d\'envoyer des donn√©es au client de mani√®re proactive. Contrairement au mode requ√™te-r√©ponse HTTP traditionnel, WebSocket peut communiquer de mani√®re bidirectionnelle en temps r√©el apr√®s l\'√©tablissement d\'une connexion, adapt√© au chat, √† la diffusion de donn√©es en temps r√©el, aux jeux en ligne, etc.',
                    faq2Question: 'Quelle est la diff√©rence entre ws et wss ?',
                    faq2Answer: 'ws est le protocole WebSocket standard, wss est le WebSocket chiffr√© (similaire √† la relation entre <code>http</code> et <code>https</code>). wss utilise TLS/SSL pour chiffrer la transmission de donn√©es, ce qui est plus s√©curis√©. Il est recommand√© d\'utiliser le protocole wss dans les environnements de production.',
                    faq3Question: 'Pourquoi la connexion WebSocket √©choue-t-elle ?',
                    faq3Answer: 'Les raisons courantes incluent : adresse incorrecte, serveur non d√©marr√©, blocage par pare-feu, restrictions CORS, probl√®mes de certificat SSL (protocole wss), port occup√©, etc. Il est recommand√© de v√©rifier l\'√©tat du serveur et la connexion r√©seau pour s\'assurer que le service WebSocket fonctionne normalement.',
                    faq4Question: 'Puis-je tester un WebSocket n√©cessitant une authentification ?',
                    faq4Answer: 'Cet outil ne prend pas en charge les connexions WebSocket n√©cessitant une authentification. Il ne prend en charge que les tests de connexion WebSocket sans authentification. Pour les connexions authentifi√©es, il est recommand√© d\'utiliser des outils clients WebSocket professionnels comme Postman ou wscat.',
                    faq5Question: 'Y a-t-il des restrictions sur le format des messages ?',
                    faq5Answer: 'Tout message texte est pris en charge, le format JSON sera automatiquement format√© pour l\'affichage. L\'outil d√©tecte automatiquement le format JSON et l\'embellit pour faciliter le d√©bogage de l\'interface API. Il n\'y a pas de limite de longueur de message sp√©cifique, mais il est recommand√© de garder les messages individuels sous 64 Ko.',
                    faqFreeQ: 'Cet outil est-il vraiment gratuit et sans publicit√© ?',
                    faqFreeA: 'Oui, 100% gratuit, sans publicit√©, sans inscription, sans filigrane et sans limite d\'utilisation. Tout le traitement se fait localement dans votre navigateur ‚Äî vos donn√©es ne sont jamais envoy√©es √† un serveur.',
                    relatedTools: 'üîó Outils connexes',
                    jsonViewer: 'Visualiseur JSON',
                    jsonViewerDesc: 'Formatage et visualisation JSON',
                    cryptoTools: 'Bo√Æte √† outils crypto',
                    cryptoToolsDesc: 'Base64/MD5/AES etc.',
                    ipLookup: 'Recherche IP',
                    ipLookupDesc: 'Requ√™te de g√©olocalisation IP',
                    regexTester: 'Testeur Regex',
                    regexTesterDesc: 'Correspondance et d√©bogage regex en ligne',
                    footerNote: 'Traitement purement frontend, les donn√©es ne seront pas t√©l√©charg√©es sur le serveur',
                    footerBackHome: '‚Üê Retour √† l\'accueil Web Toolbox',
                    // Êó•ÂøóÊ∂àÊÅØ
                    logConnecting: 'Connexion √†',
                    logConnected: 'Connect√© avec succ√®s !',
                    logDisconnecting: 'D√©connexion...',
                    logConnectionClosed: 'Connexion ferm√©e',
                    logConnectionError: 'Erreur de connexion',
                    logSendFailed: '√âchec de l\'envoi :',
                    logConnectFailed: '√âchec de la connexion :',
                    logUserDisconnect: 'Utilisateur d√©connect√©',
                    logDirectionSent: 'Envoy√© ‚Üí',
                    logDirectionReceived: '‚Üê Re√ßu',
                    logDirectionSystem: 'Syst√®me',
                    logDirectionError: 'Erreur',
                    // Toast Ê∂àÊÅØ
                    toastEnterValidUrl: 'Veuillez entrer une adresse WebSocket valide',
                    toastNotConnected: 'WebSocket non connect√©',
                    toastEnterMessage: 'Veuillez entrer le contenu du message',
                    toastInvalidJson: 'Format JSON invalide',
                    langName: 'üåê Fran√ßais',
                    trust_users: 'üåç Utilis√© par 50 000+ utilisateurs',
                    trust_rating: '‚≠ê Note 4.9/5',
                    trust_privacy: 'üîí 100% Priv√©',
                    trust_free: 'üö´ Sans pub, sans inscription'
                },
                es: {
                    tool_name: 'Probador WebSocket',
                    backHome: '‚Üê Volver a la caja de herramientas',
                    pageTitle: 'üîå Probador WebSocket en l√≠nea',
                    pageSubtitle: 'Herramienta de depuraci√≥n en l√≠nea basada en HTML5 WebSocket, soporta pruebas de conexi√≥n internas y externas',
                    connectionFormat: 'Formato de conexi√≥n:',
                    or: 'o',
                    example: 'Ejemplo:',
                    featureConnectionTitle: '100% Gratis y Privado',
                    featureConnectionDesc: 'Sin anuncios, sin registro, sin marca de agua. Todo se procesa localmente en tu navegador.',
                    featureMessagingTitle: 'Mensajer√≠a',
                    featureMessagingDesc: 'Soporta env√≠o de mensajes de texto y formato JSON, muestra en tiempo real las respuestas del servidor',
                    featureHistoryTitle: 'Historial de conexi√≥n',
                    featureHistoryDesc: 'Guarda autom√°ticamente los registros de conexi√≥n para pruebas repetidas convenientes de la misma direcci√≥n WebSocket',
                    featureFormatTitle: 'Formateo de mensajes',
                    featureFormatDesc: 'Detecta y formatea autom√°ticamente mensajes JSON para datos de depuraci√≥n m√°s claros y legibles',
                    connectionSettings: 'üîó Configuraci√≥n de conexi√≥n',
                    statusDisconnected: 'Desconectado',
                    statusConnecting: 'Conectando...',
                    statusConnected: 'Conectado',
                    urlPlaceholder: '127.0.0.1:8080/ws',
                    connect: 'Conectar',
                    disconnect: 'Desconectar',
                    statSent: 'Enviados',
                    statReceived: 'Recibidos',
                    statErrors: 'Errores',
                    statDuration: 'Duraci√≥n',
                    sendMessage: 'üì§ Enviar mensaje',
                    messagePlaceholder: 'Ingrese el contenido del mensaje a enviar...',
                    msgTypeText: 'Texto',
                    formatJson: 'Formatear JSON',
                    clear: 'Limpiar',
                    send: 'Enviar',
                    quickMessages: 'Mensajes r√°pidos',
                    messageLog: 'üìã Registro de mensajes',
                    clearLog: 'Limpiar',
                    noMessages: 'Sin mensajes a√∫n',
                    noMessagesHint: 'Los mensajes aparecer√°n aqu√≠ despu√©s de conectar al WebSocket',
                    usageGuide: 'üìñ Gu√≠a de uso',
                    usageNote1: 'Soporta protocolos <code>ws://</code> (regular) y <code>wss://</code> (encriptado SSL)',
                    usageNote2: 'Prueba interna: <code>ws://192.168.1.100:8080</code> o <code>ws://localhost:3000</code>',
                    usageNote3: 'Prueba externa: <code>wss://example.com/ws</code> o <code>ws://your-domain.com:8080</code>',
                    usageNote4: 'Soporta env√≠o de mensajes de texto plano y formato JSON, con formateo JSON autom√°tico',
                    usageNote5: 'Visualizaci√≥n en tiempo real de mensajes enviados/recibidos con marcas de tiempo y contenido',
                    usageNote6: 'Monitoreo de estado de conexi√≥n en tiempo real, estad√≠sticas de enviados/recibidos/errores',
                    faqTitle: '‚ùì Preguntas frecuentes',
                    faq1Question: '¬øQu√© es WebSocket?',
                    faq1Answer: 'WebSocket es un protocolo de comunicaci√≥n full-duplex que permite al servidor enviar datos al cliente de manera proactiva. A diferencia del modo tradicional de solicitud-respuesta HTTP, WebSocket puede comunicarse bidireccionalmente en tiempo real despu√©s de establecer una conexi√≥n, adecuado para chat, transmisi√≥n de datos en tiempo real, juegos en l√≠nea, etc.',
                    faq2Question: '¬øCu√°l es la diferencia entre ws y wss?',
                    faq2Answer: 'ws es el protocolo WebSocket regular, wss es el WebSocket encriptado (similar a la relaci√≥n entre <code>http</code> y <code>https</code>). wss usa TLS/SSL para encriptar la transmisi√≥n de datos, lo que es m√°s seguro. Se recomienda usar el protocolo wss en entornos de producci√≥n.',
                    faq3Question: '¬øPor qu√© falla la conexi√≥n WebSocket?',
                    faq3Answer: 'Las razones comunes incluyen: direcci√≥n incorrecta, servidor no iniciado, bloqueo de firewall, restricciones CORS, problemas de certificado SSL (protocolo wss), puerto ocupado, etc. Se recomienda verificar el estado del servidor y la conexi√≥n de red para asegurar que el servicio WebSocket funcione normalmente.',
                    faq4Question: '¬øPuedo probar WebSocket que requiere autenticaci√≥n?',
                    faq4Answer: 'Esta herramienta no soporta conexiones WebSocket que requieren autenticaci√≥n. Solo soporta pruebas de conexi√≥n WebSocket sin autenticaci√≥n. Para conexiones autenticadas, se recomienda usar herramientas cliente WebSocket profesionales como Postman o wscat.',
                    faq5Question: '¬øHay restricciones en el formato de mensajes?',
                    faq5Answer: 'Se soporta cualquier mensaje de texto, el formato JSON se formatear√° autom√°ticamente para su visualizaci√≥n. La herramienta detecta autom√°ticamente el formato JSON y lo embellece para facilitar la depuraci√≥n de la interfaz API. No hay l√≠mite espec√≠fico de longitud de mensaje, pero se recomienda mantener mensajes individuales por debajo de 64KB.',
                    faqFreeQ: '¬øEsta herramienta es realmente gratuita y sin anuncios?',
                    faqFreeA: 'S√≠, 100% gratuita, sin anuncios, sin registro, sin marca de agua y sin l√≠mites de uso. Todo el procesamiento se realiza localmente en tu navegador ‚Äî tus datos nunca se env√≠an a ning√∫n servidor.',
                    relatedTools: 'üîó Herramientas relacionadas',
                    jsonViewer: 'Visor JSON',
                    jsonViewerDesc: 'Formateo y visualizaci√≥n JSON',
                    cryptoTools: 'Caja de herramientas crypto',
                    cryptoToolsDesc: 'Base64/MD5/AES etc.',
                    ipLookup: 'B√∫squeda de IP',
                    ipLookupDesc: 'Consulta de geolocalizaci√≥n IP',
                    regexTester: 'Probador Regex',
                    regexTesterDesc: 'Coincidencia y depuraci√≥n regex en l√≠nea',
                    footerNote: 'Procesamiento puramente frontend, los datos no se subir√°n al servidor',
                    footerBackHome: '‚Üê Volver a la p√°gina principal de Web Toolbox',
                    // Êó•ÂøóÊ∂àÊÅØ
                    logConnecting: 'Conectando a',
                    logConnected: '¬°Conectado exitosamente!',
                    logDisconnecting: 'Desconectando...',
                    logConnectionClosed: 'Conexi√≥n cerrada',
                    logConnectionError: 'Error de conexi√≥n',
                    logSendFailed: 'Error de env√≠o:',
                    logConnectFailed: 'Error de conexi√≥n:',
                    logUserDisconnect: 'Usuario desconectado',
                    logDirectionSent: 'Enviado ‚Üí',
                    logDirectionReceived: '‚Üê Recibido',
                    logDirectionSystem: 'Sistema',
                    logDirectionError: 'Error',
                    // Toast Ê∂àÊÅØ
                    toastEnterValidUrl: 'Por favor ingrese una direcci√≥n WebSocket v√°lida',
                    toastNotConnected: 'WebSocket no conectado',
                    toastEnterMessage: 'Por favor ingrese el contenido del mensaje',
                    toastInvalidJson: 'Formato JSON inv√°lido',
                    langName: 'üåê Espa√±ol',
                    trust_users: 'üåç Usado por m√°s de 50,000 usuarios',
                    trust_rating: '‚≠ê Calificaci√≥n 4.9/5',
                    trust_privacy: 'üîí 100% Privado',
                    trust_free: 'üö´ Sin anuncios, sin registro'
                }
            },

            t(key) {
                const lang = WebToolbox.getCurrentLang();
                return this.translations[lang]?.[key] || this.translations['en'][key] || key;
            }
        };

        let ws = null;
        let connectedAt = null;
        let timerInterval = null;

        // ÁªüËÆ°Êï∞ÊçÆ
        let stats = {
            sent: 0,
            received: 0,
            errors: 0
        };

        // Êõ¥Êñ∞ÂçèËÆÆÊ†áÁ≠æ
        function updateProtocol() {
            const protocol = document.querySelector('input[name="protocol"]:checked').value;
            document.getElementById('protocolLabel').textContent = protocol;
        }

        // Ëé∑ÂèñÂÆåÊï¥ URL
        function getFullUrl() {
            const protocol = document.querySelector('input[name="protocol"]:checked').value;
            let url = document.getElementById('wsUrl').value.trim();
            // ÁßªÈô§ÂèØËÉΩÂ∑≤ÊúâÁöÑÂçèËÆÆÂâçÁºÄ
            url = url.replace(/^wss?:\/\//, '');
            return protocol + url;
        }

        // ËøûÊé• WebSocket
        function connect() {
            const url = getFullUrl();

            if (!url || url === 'ws://' || url === 'wss://') {
                showToast(i18n.t('toastEnterValidUrl'), true);
                return;
            }

            try {
                updateStatus('connecting');
                addLog('system', `${i18n.t('logConnecting')} ${url}...`);

                ws = new WebSocket(url);

                ws.onopen = function(event) {
                    updateStatus('connected');
                    addLog('system', i18n.t('logConnected'));
                    connectedAt = new Date();
                    startTimer();
                    saveToHistory(url);
                };

                ws.onmessage = function(event) {
                    stats.received++;
                    updateStats();
                    addLog('received', event.data);
                };

                ws.onerror = function(event) {
                    stats.errors++;
                    updateStats();
                    addLog('error', i18n.t('logConnectionError'));
                };

                ws.onclose = function(event) {
                    updateStatus('disconnected');
                    stopTimer();
                    let reason = event.reason || i18n.t('logConnectionClosed');
                    if (event.code) {
                        reason += ` (code: ${event.code})`;
                    }
                    addLog('system', reason);
                };

            } catch (e) {
                updateStatus('disconnected');
                addLog('error', i18n.t('logConnectFailed') + e.message);
                showToast(i18n.t('logConnectFailed') + e.message, true);
            }
        }

        // Êñ≠ÂºÄËøûÊé•
        function disconnect() {
            if (ws) {
                addLog('system', i18n.t('logDisconnecting'));
                try {
                    ws.close(1000, i18n.t('logUserDisconnect'));
                } catch (e) {
                    console.error('Close connection error:', e);
                }
                ws = null;
                updateStatus('disconnected');
                stopTimer();
            }
        }

        // ÂèëÈÄÅÊ∂àÊÅØ
        function sendMessage() {
            if (!ws || ws.readyState !== WebSocket.OPEN) {
                showToast(i18n.t('toastNotConnected'), true);
                return;
            }

            const message = document.getElementById('messageInput').value;
            if (!message.trim()) {
                showToast(i18n.t('toastEnterMessage'), true);
                return;
            }

            try {
                ws.send(message);
                stats.sent++;
                updateStats();
                addLog('sent', message);
            } catch (e) {
                stats.errors++;
                updateStats();
                addLog('error', i18n.t('logSendFailed') + e.message);
            }
        }

        // Êõ¥Êñ∞Áä∂ÊÄÅÊòæÁ§∫
        function updateStatus(status) {
            const dot = document.getElementById('statusDot');
            const text = document.getElementById('statusText');
            const connectBtn = document.getElementById('connectBtn');
            const disconnectBtn = document.getElementById('disconnectBtn');
            const sendBtn = document.getElementById('sendBtn');

            dot.className = 'status-dot ' + status;
            text.className = 'status-text ' + status;

            switch(status) {
                case 'connecting':
                    text.textContent = i18n.t('statusConnecting');
                    connectBtn.disabled = true;
                    disconnectBtn.disabled = true;
                    sendBtn.disabled = true;
                    break;
                case 'connected':
                    text.textContent = i18n.t('statusConnected');
                    connectBtn.disabled = true;
                    disconnectBtn.disabled = false;
                    sendBtn.disabled = false;
                    break;
                case 'disconnected':
                    text.textContent = i18n.t('statusDisconnected');
                    connectBtn.disabled = false;
                    disconnectBtn.disabled = true;
                    sendBtn.disabled = true;
                    break;
            }
        }

        // Ê∑ªÂä†Êó•Âøó
        function addLog(type, content) {
            const log = document.getElementById('messageLog');
            const empty = log.querySelector('.log-empty');
            if (empty) {
                empty.remove();
            }

            const entry = document.createElement('div');
            entry.className = 'log-entry ' + type;

            const time = new Date().toLocaleTimeString();
            let direction = '';
            switch(type) {
                case 'sent': direction = i18n.t('logDirectionSent'); break;
                case 'received': direction = i18n.t('logDirectionReceived'); break;
                case 'system': direction = i18n.t('logDirectionSystem'); break;
                case 'error': direction = i18n.t('logDirectionError'); break;
            }

            // Â∞ùËØïÊ†ºÂºèÂåñ JSON
            let displayContent = content;
            try {
                const parsed = JSON.parse(content);
                displayContent = JSON.stringify(parsed, null, 2);
            } catch(e) {
                // JSON parse failed, use raw content
            }

            entry.innerHTML = `
                <span class="time">${time}</span>
                <span class="direction">[${direction}]</span>
                <span class="content">${escapeHtml(displayContent)}</span>
            `;

            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        // HTML ËΩ¨‰πâ
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Ê∏ÖÁ©∫Êó•Âøó
        function clearLog() {
            const log = document.getElementById('messageLog');
            log.innerHTML = `
                <div class="log-empty">
                    <div class="icon">üì≠</div>
                    <p data-i18n="noMessages">${i18n.t('noMessages')}</p>
                    <p style="font-size: 0.8rem; margin-top: 5px;" data-i18n="noMessagesHint">${i18n.t('noMessagesHint')}</p>
                </div>
            `;
        }

        // Êõ¥Êñ∞ÁªüËÆ°
        function updateStats() {
            document.getElementById('sentCount').textContent = stats.sent;
            document.getElementById('receivedCount').textContent = stats.received;
            document.getElementById('errorCount').textContent = stats.errors;
        }

        // ÂºÄÂßãËÆ°Êó∂Âô®
        function startTimer() {
            timerInterval = setInterval(() => {
                if (connectedAt) {
                    const diff = Math.floor((new Date() - connectedAt) / 1000);
                    const mins = Math.floor(diff / 60).toString().padStart(2, '0');
                    const secs = (diff % 60).toString().padStart(2, '0');
                    document.getElementById('connectedTime').textContent = `${mins}:${secs}`;
                }
            }, 1000);
        }

        // ÂÅúÊ≠¢ËÆ°Êó∂Âô®
        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            connectedAt = null;
        }

        // Ê†ºÂºèÂåñ JSON
        function formatJson() {
            const textarea = document.getElementById('messageInput');
            try {
                const parsed = JSON.parse(textarea.value);
                textarea.value = JSON.stringify(parsed, null, 2);
            } catch(e) {
                showToast(i18n.t('toastInvalidJson'), true);
            }
        }

        // Ê∏ÖÁ©∫Ê∂àÊÅØËæìÂÖ•
        function clearMessage() {
            document.getElementById('messageInput').value = '';
        }

        // ËÆæÁΩÆÂø´Êç∑Ê∂àÊÅØ
        function setQuickMessage(msg) {
            document.getElementById('messageInput').value = msg;
        }

        // ‰øùÂ≠òÂà∞ÂéÜÂè≤ËÆ∞ÂΩï
        function saveToHistory(url) {
            let history = JSON.parse(localStorage.getItem('ws_history') || '[]');
            // ÁßªÈô§ÈáçÂ§çÈ°π
            history = history.filter(item => item !== url);
            // Ê∑ªÂä†Âà∞ÂºÄÂ§¥
            history.unshift(url);
            // Âè™‰øùÁïôÊúÄËøë10Êù°
            history = history.slice(0, 10);
            localStorage.setItem('ws_history', JSON.stringify(history));
        }

        // ÊòæÁ§∫ Toast
        function showToast(message, isError = false) {
            const toast = document.createElement('div');
            toast.className = 'toast' + (isError ? ' error' : '');
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }

        // ÂõûËΩ¶ÂèëÈÄÅ
        document.getElementById('messageInput').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                sendMessage();
            }
        });

        // URL ËæìÂÖ•Ê°ÜÂõûËΩ¶ËøûÊé•
        document.getElementById('wsUrl').addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                connect();
            }
        });

        // È°µÈù¢ÂÖ≥Èó≠Êó∂Êñ≠ÂºÄËøûÊé•
        window.addEventListener('beforeunload', function() {
            if (ws) {
                ws.close();
            }
        });
        window._translations = i18n.translations;
    </script>
    <script src="common/common.js" data-tool-id="websocket-tester" data-tool-name="WebSocket Tester" data-category="developer"></script>
    <script>WebToolbox.init(window._translations);</script>
</body>
</html>
