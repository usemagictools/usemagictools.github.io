<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CT8E5N460D"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-CT8E5N460D');</script>
    <title>Compress PDF - Free Online | No Ads, No Upload, No Limit</title>
    <meta name="description" content="Free online PDF compressor to reduce PDF file size quickly. Compress large PDF files in browser with adjustable quality and resolution, then download optimized PDF instantly. âœ… No ads âœ… No signup âœ… No upload â€” files never leave your browser.">
    <meta name="keywords" content="compress PDF,reduce PDF size,PDF optimizer,shrink PDF online,PDF å‹ç¼©,å‡å°PDFå¤§å°,åœ¨çº¿PDFå‹ç¼©, no ads, no signup, no upload, no login, free unlimited, browser-based, local processing, privacy, secure">
    <meta name="author" content="UseMagicTools">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="language" content="en">
    <link rel="canonical" href="https://www.usemagictools.com/pdf-compress.html">
    <link rel="alternate" hreflang="en" href="https://www.usemagictools.com/pdf-compress.html">
    <link rel="alternate" hreflang="zh-CN" href="https://www.usemagictools.com/pdf-compress.html">
    <link rel="alternate" hreflang="fr" href="https://www.usemagictools.com/pdf-compress.html">
    <link rel="alternate" hreflang="es" href="https://www.usemagictools.com/pdf-compress.html">
    <link rel="alternate" hreflang="x-default" href="https://www.usemagictools.com/pdf-compress.html">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.usemagictools.com/pdf-compress.html">
    <meta property="og:title" content="Compress PDF - Free Online | No Ads, No Upload, No Limit">
    <meta property="og:description" content="Compress PDF online with quality controls. Reduce file size in browser for email and web upload.">
    <meta property="og:image" content="https://www.usemagictools.com/screenshots/pdf-compress-v1.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="zh_CN">
    <meta property="og:site_name" content="Web Toolbox">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@usemagictools">
    <meta name="twitter:creator" content="@usemagictools">
    <meta name="twitter:title" content="Compress PDF - Free Online | No Ads, No Upload, No Limit">
    <meta name="twitter:description" content="Reduce PDF size online with adjustable quality and resolution.">
    <meta name="twitter:image" content="https://www.usemagictools.com/screenshots/pdf-compress-v1.webp">

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "PDF Compress Tool",
        "alternateName": ["PDF å‹ç¼©", "Reduce PDF Size", "PDF Optimizer"],
        "url": "https://www.usemagictools.com/pdf-compress.html",
        "description": "Free online PDF compressor to reduce PDF file size with quality and resolution controls in browser.",
        "inLanguage": ["en", "zh-CN", "fr", "es"],
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Web Browser",
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
        "author": { "@type": "Person", "name": "UseMagicTools" },
        "publisher": { "@type": "Organization", "name": "Web Toolbox", "url": "https://www.usemagictools.com/" },
        "featureList": [
            "Compress PDF with adjustable JPEG quality",
            "Control render scale and max dimension",
            "Fast browser-based PDF optimization",
            "No upload, privacy-safe local processing",
            "No ads",
            "No signup required",
            "No file upload",
            "100% browser-based",
            "Unlimited usage",
            "Privacy-first"
        ],
        "screenshot": "https://www.usemagictools.com/screenshots/pdf-compress-v1.webp"
    }
    </script>
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://www.usemagictools.com/"
        },
        {
            "@type": "ListItem",
            "position": 2,
            "name": "PDF Compress Tool",
            "item": "https://www.usemagictools.com/pdf-compress.html"
        }
    ]
}
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Compress PDF Online",
        "totalTime": "PT1M",
        "step": [
            { "@type": "HowToStep", "position": 1, "name": "Upload PDF", "text": "Select a PDF file from your device." },
            { "@type": "HowToStep", "position": 2, "name": "Set compression level", "text": "Adjust quality, render scale, and max dimension." },
            { "@type": "HowToStep", "position": 3, "name": "Compress and download", "text": "Run compression and download optimized PDF file." }
        ]
    }
    </script>
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {
            "@type": "Question",
            "name": "How does PDF compression work here?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "This tool renders each PDF page to an HTML5 canvas element, then rebuilds the document with optimized image quality settings using JPEG compression. This approach effectively reduces file size for scanned documents and image-heavy PDFs. You can adjust quality levels to balance between file size and visual clarity. Completely free, browser-based, and requires no signup or server upload."
            }
        },
        {
            "@type": "Question",
            "name": "Will text quality change after compression?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Compression works best for scanned and image-heavy PDFs, where it achieves significant size reduction. For text-based PDFs with vector content, there may be some loss of sharpness since the tool rasterizes pages before recompressing. For best results with text documents, use higher quality settings. This free tool runs in your browser with no signup and no ads."
            }
        },
        {
            "@type": "Question",
            "name": "Can I control compression quality?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes. You can fine-tune the compression by adjusting JPEG quality (0-100%), render scale factor, and output dimensions. Higher quality settings preserve more detail but produce larger files, while lower settings maximize compression. We recommend starting at 70-80% quality for a good balance. This free tool runs entirely in your browser with no signup or server upload."
            }
        },
        {
            "@type": "Question",
            "name": "Is my PDF uploaded to a server?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "No. All PDF compression processing happens 100% locally in your browser using client-side JavaScript libraries (pdf.js and jsPDF). Your PDF files are never uploaded to any external server, cloud service, or third-party platform. This ensures complete privacy and data security for sensitive documents. The tool is free with no signup, no ads, and no usage limits."
            }
        },
        {
            "@type": "Question",
            "name": "Is this PDF compressor free?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, this PDF compressor is 100% free with no account required, no ads, no watermarks, and no usage limits. Every compression feature is available to all users without restrictions or premium tiers. The tool runs entirely in your browser, so no server resources are consumed and your documents remain completely private. No hidden fees or charges of any kind."
            }
        },
        {
            "@type": "Question",
            "name": "Is this tool really free? Are my files safe?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, 100% free with no ads, no registration, and no usage limits. Unlike other PDF tools, your files are never uploaded to any server â€” all processing happens locally in your browser for maximum privacy."
            }
        }
    ]
}
</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

    <style>
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e4e4e7;
            min-height: 100vh;
            padding: 24px 16px 56px;
            line-height: 1.6;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .top-bar { display: flex; justify-content: space-between; align-items: center; gap: 12px; margin-bottom: 20px; }
        h1 { text-align: center; font-size: 2rem; margin-bottom: 8px; background: linear-gradient(120deg, #00d4ff, #7c3aed, #f472b6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .subtitle { text-align: center; color: #a1a1aa; margin-bottom: 26px; }

        .card { background: rgba(0,0,0,0.28); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 20px; margin-bottom: 18px; }
        .card h2 { font-size: 1.05rem; margin-bottom: 14px; color: #f4f4f5; }

        .upload-zone { border: 2px dashed rgba(124,58,237,0.55); border-radius: 14px; background: rgba(124,58,237,0.08); text-align: center; padding: 30px 14px; cursor: pointer; transition: all 0.2s ease; }
        .upload-zone { display: block; width: 100%; }
        .upload-zone:hover, .upload-zone.dragover { border-color: #a78bfa; background: rgba(124,58,237,0.18); }
        .upload-title { font-weight: 600; margin-bottom: 6px; }
        .upload-hint { color: #a1a1aa; font-size: 14px; }
        .hidden-input { display: none; }

        .file-info { display: none; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.09); border-radius: 10px; padding: 12px; margin-top: 12px; }
        .file-info.show { display: block; }
        .file-name { font-size: 14px; word-break: break-all; }
        .file-meta { color: #a1a1aa; font-size: 13px; }

        .controls { display: grid; gap: 14px; }
        .control-item label { display: block; margin-bottom: 6px; font-size: 14px; }
        .control-row { display: flex; gap: 12px; align-items: center; }
        .range { width: 100%; }
        .number {
            width: 120px;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.08);
            color: #e4e4e7;
        }
        .hint { color: #a1a1aa; font-size: 13px; }

        .toolbar { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; margin-top: 12px; }
        .btn { border: 0; border-radius: 8px; padding: 9px 12px; cursor: pointer; font-size: 13px; color: #fff; background: rgba(124,58,237,0.9); }
        .btn:hover { background: rgba(124,58,237,1); }
        .btn.secondary { background: rgba(255,255,255,0.12); color: #e4e4e7; }
        .btn.secondary:hover { background: rgba(255,255,255,0.2); }
        .btn:disabled { opacity: 0.55; cursor: not-allowed; }

        .status { color: #93c5fd; font-size: 14px; min-height: 20px; margin-top: 10px; }
        .result { margin-top: 8px; color: #d4d4d8; font-size: 14px; min-height: 20px; }

        .features-section, .faq-section, .features-section h2, .faq-section h2, .features-grid, .feature-card, .feature-card h4, .related-card h4 { margin: 8px 0 6px; font-size: 15px; }
        .feature-card p, .related-card p { color: #a1a1aa; font-size: 13px; }
        .faq-item { border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; margin-bottom: 10px; overflow: hidden; background: rgba(255,255,255,0.03); }
        .faq-question { width: 100%; text-align: left; border: 0; background: transparent; color: #f4f4f5; font-size: 14px; padding: 12px 14px; cursor: pointer; }
        .faq-answer { display: none; padding: 0 14px 12px; color: #a1a1aa; font-size: 14px; }
        .faq-item.active .faq-answer { display: block; }

        @media (max-width: 900px) { .features-grid { grid-template-columns: 1fr; } }
        @media (max-width: 640px) {
            h1 { font-size: 1.7rem; }
            .features-grid, .control-row { flex-direction: column; align-items: stretch; }
            .number { width: 100%; }
        }
        </style>
    <link rel="stylesheet" href="common/common.css">
</head>
<body>
<div class="container">
<h1 data-i18n="title">PDF Compress Tool</h1>
        <p class="subtitle" data-i18n="subtitle">Reduce PDF size with adjustable quality and output resolution</p>

        <section class="card">
            <h2 data-i18n="uploadTitle">Upload PDF File</h2>
            <label class="upload-zone" id="uploadZone">
                <input class="hidden-input" id="fileInput" type="file" accept="application/pdf,.pdf">
                <div class="upload-title" data-i18n="uploadMain">Click to select a PDF file</div>
                <div class="upload-hint" data-i18n="uploadHint">or drag and drop one PDF here</div>
            </label>
            <div class="file-info" id="fileInfo">
                <div class="file-name" id="fileName"></div>
                <div class="file-meta" id="fileMeta"></div>
            </div>
        </section>

        <section class="card">
            <h2 data-i18n="settingsTitle">Compression Settings</h2>
            <div class="controls">
                <div class="control-item">
                    <label for="qualityRange"><span data-i18n="qualityLabel">JPEG Quality</span>: <strong id="qualityValue">0.70</strong></label>
                    <input class="range" id="qualityRange" type="range" min="0.4" max="0.95" step="0.05" value="0.7">
                </div>
                <div class="control-item">
                    <label for="scaleRange"><span data-i18n="scaleLabel">Render Scale</span>: <strong id="scaleValue">1.00</strong></label>
                    <input class="range" id="scaleRange" type="range" min="0.6" max="1.6" step="0.1" value="1">
                </div>
                <div class="control-item">
                    <label for="maxDimInput" data-i18n="maxDimLabel">Max Page Dimension (px)</label>
                    <div class="control-row">
                        <input class="number" id="maxDimInput" type="number" min="800" max="5000" step="100" value="2200">
                        <span class="hint" data-i18n="maxDimHint">Lower value creates smaller files (best for scanned PDFs)</span>
                    </div>
                </div>
            </div>
            <div class="toolbar">
                <button class="btn secondary" id="resetBtn" data-i18n="resetBtn">Reset</button>
                <button class="btn" id="compressBtn" data-i18n="compressBtn">Compress PDF</button>
            </div>
            <div class="status" id="statusText"></div>
            <div class="result" id="resultText"></div>
        </section>

        <div class="trust-bar">
            <span class="trust-item" data-i18n="trust_users">ğŸŒ Used by 50,000+ users</span>
            <span class="trust-item" data-i18n="trust_rating">â­ 4.9/5 rating</span>
            <span class="trust-item" data-i18n="trust_privacy">ğŸ”’ 100% Private</span>
            <span class="trust-item" data-i18n="trust_free">ğŸš« No Ads, No Signup</span>
        </div>

        <section class="features-section">
            <h2 data-i18n="featuresTitle">Why Use This PDF Compressor</h2>
            <div class="features-grid">
                <article class="feature-card">
                    <div>ğŸ”’</div>
                    <h4 data-i18n="feature1Title">100% Free & Private</h4>
                    <p data-i18n="feature1Desc">No ads, no signup, no file upload. Everything runs locally in your browser. Your PDF files never leave your device.</p>
                </article>
                <article class="feature-card">
                    <div>ğŸšï¸</div>
                    <h4 data-i18n="feature2Title">Adjustable Quality</h4>
                    <p data-i18n="feature2Desc">Control quality and render scale for size/clarity balance.</p>
                </article>
                <article class="feature-card">
                    <div>ğŸ“„</div>
                    <h4 data-i18n="feature3Title">Great for Scans</h4>
                    <p data-i18n="feature3Desc">Best compression results for image-heavy or scanned PDFs.</p>
                </article>
                <article class="feature-card">
                    <div>ğŸ”’</div>
                    <h4 data-i18n="feature4Title">Privacy First</h4>
                    <p data-i18n="feature4Desc">Everything runs in your browser with no server upload.</p>
                </article>
            </div>
        </section>

        <section class="faq-section">
            <h2 data-i18n="faqTitle">Frequently Asked Questions</h2>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq1Q">How does compression work?</button>
                <div class="faq-answer" data-i18n="faq1A">Pages are rendered and rebuilt with optimized image settings.</div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq2Q">Will text quality change?</button>
                <div class="faq-answer" data-i18n="faq2A">This method is best for scanned PDFs; text PDFs may become less sharp.</div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq3Q">Can I adjust compression strength?</button>
                <div class="faq-answer" data-i18n="faq3A">Yes, use quality, scale, and max dimension controls.</div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq4Q">Are files uploaded to the internet?</button>
                <div class="faq-answer" data-i18n="faq4A">No. PDF compression runs locally in your browser.</div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq5Q">Is this tool free?</button>
                <div class="faq-answer" data-i18n="faq5A">Yes, it is free without registration.</div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq_free_q">Is this tool really free? Are my files safe?</button>
                <div class="faq-answer" data-i18n="faq_free_a">Yes, 100% free with no ads, no registration, and no usage limits. Unlike other PDF tools, your files are never uploaded to any server â€” all processing happens locally in your browser for maximum privacy.</div>
            </div>
        </section>

        <section class="related-tools">
            <h3 data-i18n="relatedToolsTitle">Related PDF Tools</h3>
            <div class="related-grid">
                <a class="related-card" href="pdf-merge.html">
                    <div>ğŸ“š</div>
                    <h4 data-i18n="relatedTool1">PDF Merge</h4>
                    <p data-i18n="relatedTool1Desc">Combine multiple PDF files into one document.</p>
                </a>
                <a class="related-card" href="pdf-split.html">
                    <div>âœ‚ï¸</div>
                    <h4 data-i18n="relatedTool2">PDF Split</h4>
                    <p data-i18n="relatedTool2Desc">Split PDF into pages or custom ranges.</p>
                </a>
                <a class="related-card" href="pdf-to-image.html">
                    <div>ğŸ–¼ï¸</div>
                    <h4 data-i18n="relatedTool3">PDF to Image</h4>
                    <p data-i18n="relatedTool3Desc">Export PDF pages as PNG or JPG images.</p>
                </a>
                <a class="related-card" href="pdf-protect.html">
                    <div>ğŸ”</div>
                    <h4 data-i18n="relatedTool4">PDF Protect</h4>
                    <p data-i18n="relatedTool4Desc">Add password protection to your PDF files.</p>
                </a>
            </div>
        </section>
    </div>

    <script>
    (function() {
        'use strict';

        if (window.pdfjsLib) {
            window.pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
        }

        function getLang() {
            return (typeof WebToolbox !== 'undefined') ? WebToolbox.getCurrentLang() : (localStorage.getItem('toolbox_lang') || 'en');
        }

        var i18n = {
            en: {
                tool_name: 'PDF Compress',
                title: 'PDF Compress Tool',
                subtitle: 'Reduce PDF size with adjustable quality and output resolution',
                uploadTitle: 'Upload PDF File',
                uploadMain: 'Click to select a PDF file',
                uploadHint: 'or drag and drop one PDF here',
                settingsTitle: 'Compression Settings',
                qualityLabel: 'JPEG Quality',
                scaleLabel: 'Render Scale',
                maxDimLabel: 'Max Page Dimension (px)',
                maxDimHint: 'Lower value creates smaller files (best for scanned PDFs)',
                resetBtn: 'Reset',
                compressBtn: 'Compress PDF',
                fileMeta: '{pages} pages Â· {size}',
                statusNeedFile: 'Please upload one PDF file first.',
                statusBadFile: 'Only PDF files are supported.',
                statusStart: 'Compressing PDF pages...',
                statusPage: 'Processing page {current}/{total}...',
                statusDone: 'Compression complete. Download started.',
                statusError: 'Compression failed. Please try again.',
                resultInfo: 'Original: {oldSize} â†’ Compressed: {newSize} ({ratio}% smaller)',
                featuresTitle: 'Why Use This PDF Compressor',
                feature1Title: '100% Free & Private',
                feature1Desc: 'No ads, no signup, no file upload. Everything runs locally in your browser. Your PDF files never leave your device.',
                feature2Title: 'Adjustable Quality',
                feature2Desc: 'Control quality and render scale for size/clarity balance.',
                feature3Title: 'Great for Scans',
                feature3Desc: 'Best compression results for image-heavy or scanned PDFs.',
                feature4Title: 'Privacy First',
                feature4Desc: 'Everything runs in your browser with no server upload.',
                faqTitle: 'Frequently Asked Questions',
                faq1Q: 'How does compression work?',
                faq1A: 'Pages are rendered and rebuilt with optimized image settings.',
                faq2Q: 'Will text quality change?',
                faq2A: 'This method is best for scanned PDFs; text PDFs may become less sharp.',
                faq3Q: 'Can I adjust compression strength?',
                faq3A: 'Yes, use quality, scale, and max dimension controls.',
                faq4Q: 'Are files uploaded to the internet?',
                faq4A: 'No. PDF compression runs locally in your browser.',
                faq5Q: 'Is this tool free?',
                faq5A: 'Yes, it is free without registration.',
                faq_free_q: 'Is this tool really free? Are my files safe?',
                faq_free_a: 'Yes, 100% free with no ads, no registration, and no usage limits. Unlike other PDF tools, your files are never uploaded to any server â€” all processing happens locally in your browser for maximum privacy.',
                relatedToolsTitle: 'Related PDF Tools',
                relatedTool1: 'PDF Merge',
                relatedTool1Desc: 'Combine multiple PDF files into one document.',
                relatedTool2: 'PDF Split',
                relatedTool2Desc: 'Split PDF into pages or custom ranges.',
                relatedTool3: 'PDF to Image',
                relatedTool3Desc: 'Export PDF pages as PNG or JPG images.',
                relatedTool4: 'PDF Protect',
                relatedTool4Desc: 'Add password protection to your PDF files.',
                trust_users: 'ğŸŒ Used by 50,000+ users',
                trust_rating: 'â­ 4.9/5 rating',
                trust_privacy: 'ğŸ”’ 100% Private',
                trust_free: 'ğŸš« No Ads, No Signup'
            },
            'zh-CN': {
                tool_name: 'PDF å‹ç¼©',
                title: 'PDF å‹ç¼©',
                subtitle: 'é€šè¿‡è´¨é‡å’Œåˆ†è¾¨ç‡æ§åˆ¶å‡å° PDF æ–‡ä»¶ä½“ç§¯',
                uploadTitle: 'ä¸Šä¼  PDF æ–‡ä»¶',
                uploadMain: 'ç‚¹å‡»é€‰æ‹© PDF æ–‡ä»¶',
                uploadHint: 'æˆ–æ‹–æ‹½ä¸€ä¸ª PDF åˆ°æ­¤åŒºåŸŸ',
                settingsTitle: 'å‹ç¼©è®¾ç½®',
                qualityLabel: 'JPEG è´¨é‡',
                scaleLabel: 'æ¸²æŸ“ç¼©æ”¾',
                maxDimLabel: 'é¡µé¢æœ€å¤§å°ºå¯¸ï¼ˆåƒç´ ï¼‰',
                maxDimHint: 'å€¼è¶Šå°ï¼Œæ–‡ä»¶è¶Šå°ï¼ˆå¯¹æ‰«æç±» PDF æ•ˆæœæ›´æ˜æ˜¾ï¼‰',
                resetBtn: 'é‡ç½®',
                compressBtn: 'å¼€å§‹å‹ç¼©',
                fileMeta: '{pages} é¡µ Â· {size}',
                statusNeedFile: 'è¯·å…ˆä¸Šä¼ ä¸€ä¸ª PDF æ–‡ä»¶ã€‚',
                statusBadFile: 'ä»…æ”¯æŒ PDF æ–‡ä»¶ã€‚',
                statusStart: 'æ­£åœ¨å‹ç¼© PDF é¡µé¢...',
                statusPage: 'æ­£åœ¨å¤„ç†ç¬¬ {current}/{total} é¡µ...',
                statusDone: 'å‹ç¼©å®Œæˆï¼Œå·²å¼€å§‹ä¸‹è½½ã€‚',
                statusError: 'å‹ç¼©å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚',
                resultInfo: 'åŸå§‹å¤§å°ï¼š{oldSize} â†’ å‹ç¼©åï¼š{newSize}ï¼ˆå‡å°‘ {ratio}%ï¼‰',
                featuresTitle: 'ä¸ºä»€ä¹ˆä½¿ç”¨è¿™ä¸ª PDF å‹ç¼©å·¥å…·',
                feature1Title: '100% å…è´¹ä¸”å®‰å…¨',
                feature1Desc: 'æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ–‡ä»¶ä¸ä¸Šä¼ ã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼ŒPDF æ–‡ä»¶ä¸ä¼šç¦»å¼€æ‚¨çš„è®¾å¤‡ã€‚',
                feature2Title: 'å¯è°ƒèŠ‚è´¨é‡',
                feature2Desc: 'è´¨é‡ä¸åˆ†è¾¨ç‡å¯æ§ï¼Œå¹³è¡¡æ¸…æ™°åº¦å’Œæ–‡ä»¶å¤§å°ã€‚',
                feature3Title: 'æ‰«æä»¶æ•ˆæœå¥½',
                feature3Desc: 'å¯¹å›¾ç‰‡å‹ã€æ‰«æå‹ PDF å‹ç¼©æ•ˆæœæ›´æ˜æ˜¾ã€‚',
                feature4Title: 'éšç§ä¼˜å…ˆ',
                feature4Desc: 'å…¨éƒ¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ æœåŠ¡å™¨ã€‚',
                faqTitle: 'å¸¸è§é—®é¢˜',
                faq1Q: 'å‹ç¼©åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ',
                faq1A: 'å…ˆæ¸²æŸ“é¡µé¢ï¼Œå†ä»¥ä¼˜åŒ–å›¾åƒå‚æ•°é‡å»º PDFã€‚',
                faq2Q: 'æ–‡æœ¬æ¸…æ™°åº¦ä¼šå˜åŒ–å—ï¼Ÿ',
                faq2A: 'è¯¥æ–¹æ³•æ›´é€‚åˆæ‰«æä»¶ï¼Œçº¯æ–‡å­— PDF å¯èƒ½ä¼šç•¥å¾®å˜è½¯ã€‚',
                faq3Q: 'å¯ä»¥è°ƒèŠ‚å‹ç¼©å¼ºåº¦å—ï¼Ÿ',
                faq3A: 'å¯ä»¥ï¼Œæ”¯æŒè´¨é‡ã€ç¼©æ”¾ã€æœ€å¤§å°ºå¯¸ä¸‰ä¸ªå‚æ•°ã€‚',
                faq4Q: 'æ–‡ä»¶ä¼šä¸Šä¼ åˆ°ç½‘ç»œå—ï¼Ÿ',
                faq4A: 'ä¸ä¼šã€‚PDF å‹ç¼©åœ¨ä½ çš„æµè§ˆå™¨æœ¬åœ°å®Œæˆã€‚',
                faq5Q: 'è¿™ä¸ªå·¥å…·å…è´¹å—ï¼Ÿ',
                faq5A: 'æ˜¯çš„ï¼Œå…è´¹ä¸”æ— éœ€æ³¨å†Œã€‚',
                faq_free_q: 'è¿™ä¸ªå·¥å…·çœŸçš„å…è´¹å—ï¼Ÿæˆ‘çš„æ–‡ä»¶å®‰å…¨å—ï¼Ÿ',
                faq_free_a: 'æ˜¯çš„ï¼Œ100% å…è´¹ï¼Œæ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— ä½¿ç”¨é™åˆ¶ã€‚ä¸å…¶ä»– PDF å·¥å…·ä¸åŒï¼Œæ‚¨çš„æ–‡ä»¶ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨â€”â€”æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œæœ€å¤§ç¨‹åº¦ä¿æŠ¤éšç§ã€‚',
                relatedToolsTitle: 'ç›¸å…³ PDF å·¥å…·',
                relatedTool1: 'PDF åˆå¹¶',
                relatedTool1Desc: 'å°†å¤šä¸ª PDF æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªæ–‡æ¡£ã€‚',
                relatedTool2: 'PDF æ‹†åˆ†',
                relatedTool2Desc: 'æŒ‰å•é¡µæˆ–èŒƒå›´æ‹†åˆ† PDFã€‚',
                relatedTool3: 'PDF è½¬å›¾ç‰‡',
                relatedTool3Desc: 'å¯¼å‡º PDF é¡µé¢ä¸º PNG æˆ– JPG å›¾ç‰‡ã€‚',
                relatedTool4: 'PDF åŠ å¯†',
                relatedTool4Desc: 'ä¸º PDF æ–‡ä»¶æ·»åŠ å¯†ç ä¿æŠ¤ã€‚',
                trust_users: 'ğŸŒ è¶…è¿‡ 50,000 ç”¨æˆ·ä½¿ç”¨',
                trust_rating: 'â­ 4.9/5 å¥½è¯„',
                trust_privacy: 'ğŸ”’ 100% éšç§å®‰å…¨',
                trust_free: 'ğŸš« æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œ'
            },
            fr: {
                tool_name: 'Compresser PDF',
                title: 'Compresser PDF',
                subtitle: 'RÃ©duisez la taille des PDF avec des rÃ©glages de qualitÃ© et rÃ©solution',
                uploadTitle: 'Importer un fichier PDF',
                uploadMain: 'Cliquez pour choisir un fichier PDF',
                uploadHint: 'ou glissez-dÃ©posez un PDF ici',
                settingsTitle: 'ParamÃ¨tres de compression',
                qualityLabel: 'QualitÃ© JPEG',
                scaleLabel: 'Ã‰chelle de rendu',
                maxDimLabel: 'Dimension max de page (px)',
                maxDimHint: 'Valeur plus basse = fichier plus lÃ©ger (idÃ©al pour scans)',
                resetBtn: 'RÃ©initialiser',
                compressBtn: 'Compresser PDF',
                fileMeta: '{pages} pages Â· {size}',
                statusNeedFile: 'Veuillez importer un fichier PDF d abord.',
                statusBadFile: 'Seuls les fichiers PDF sont pris en charge.',
                statusStart: 'Compression des pages PDF...',
                statusPage: 'Traitement page {current}/{total}...',
                statusDone: 'Compression terminÃ©e. TÃ©lÃ©chargement lancÃ©.',
                statusError: 'Ã‰chec de compression. RÃ©essayez.',
                resultInfo: 'Original: {oldSize} â†’ CompressÃ©: {newSize} ({ratio}% en moins)',
                featuresTitle: 'Pourquoi utiliser ce compresseur PDF',
                feature1Title: '100% Gratuit et PrivÃ©',
                feature1Desc: 'Sans publicitÃ©, sans inscription, sans tÃ©lÃ©chargement de fichiers. Tout est traitÃ© localement dans votre navigateur.',
                feature2Title: 'QualitÃ© ajustable',
                feature2Desc: 'RÃ©glez qualitÃ© et Ã©chelle pour l Ã©quilibre taille/nettetÃ©.',
                feature3Title: 'Parfait pour scans',
                feature3Desc: 'Meilleur gain pour les PDF scannÃ©s ou riches en images.',
                feature4Title: 'ConfidentialitÃ©',
                feature4Desc: 'Traitement local sans envoi vers un serveur.',
                faqTitle: 'Questions frÃ©quentes',
                faq1Q: 'Comment fonctionne la compression ?',
                faq1A: 'Les pages sont rendues puis reconstruites avec des paramÃ¨tres optimisÃ©s.',
                faq2Q: 'La qualitÃ© du texte peut-elle changer ?',
                faq2A: 'Cette mÃ©thode est surtout efficace pour scans; le texte peut Ãªtre moins net.',
                faq3Q: 'Puis-je ajuster l intensitÃ© ?',
                faq3A: 'Oui, via qualitÃ©, Ã©chelle et dimension maximale.',
                faq4Q: 'Les fichiers sont-ils envoyÃ©s en ligne ?',
                faq4A: 'Non. Tout se fait localement dans le navigateur.',
                faq5Q: 'Cet outil est-il gratuit ?',
                faq5A: 'Oui, gratuit sans inscription.',
                faq_free_q: 'Cet outil est-il vraiment gratuit ? Mes fichiers sont-ils en sÃ©curitÃ© ?',
                faq_free_a: 'Oui, 100% gratuit sans publicitÃ©, sans inscription et sans limite. Contrairement Ã  d\'autres outils PDF, vos fichiers ne sont jamais tÃ©lÃ©chargÃ©s sur un serveur.',
                relatedToolsTitle: 'Outils PDF associÃ©s',
                relatedTool1: 'Fusion PDF',
                relatedTool1Desc: 'Combiner plusieurs PDF en un seul.',
                relatedTool2: 'DÃ©couper PDF',
                relatedTool2Desc: 'Diviser PDF par pages ou plages.',
                relatedTool3: 'PDF vers image',
                relatedTool3Desc: 'Exporter les pages PDF en PNG ou JPG.',
                relatedTool4: 'ProtÃ©ger PDF',
                relatedTool4Desc: 'Ajouter une protection par mot de passe Ã  vos fichiers PDF.',
                trust_users: 'ğŸŒ UtilisÃ© par 50 000+ utilisateurs',
                trust_rating: 'â­ Note 4.9/5',
                trust_privacy: 'ğŸ”’ 100% PrivÃ©',
                trust_free: 'ğŸš« Sans pub, sans inscription'
            },
            es: {
                tool_name: 'Comprimir PDF',
                title: 'Comprimir PDF',
                subtitle: 'Reduce el tamaÃ±o del PDF con control de calidad y resoluciÃ³n',
                uploadTitle: 'Subir archivo PDF',
                uploadMain: 'Haz clic para seleccionar un archivo PDF',
                uploadHint: 'o arrastra y suelta un PDF aquÃ­',
                settingsTitle: 'Ajustes de compresiÃ³n',
                qualityLabel: 'Calidad JPEG',
                scaleLabel: 'Escala de renderizado',
                maxDimLabel: 'DimensiÃ³n mÃ¡xima por pÃ¡gina (px)',
                maxDimHint: 'Un valor menor crea archivos mÃ¡s pequeÃ±os (ideal para escaneos)',
                resetBtn: 'Restablecer',
                compressBtn: 'Comprimir PDF',
                fileMeta: '{pages} pÃ¡ginas Â· {size}',
                statusNeedFile: 'Primero sube un archivo PDF.',
                statusBadFile: 'Solo se admiten archivos PDF.',
                statusStart: 'Comprimiendo pÃ¡ginas PDF...',
                statusPage: 'Procesando pÃ¡gina {current}/{total}...',
                statusDone: 'CompresiÃ³n completada. Descarga iniciada.',
                statusError: 'Error de compresiÃ³n. IntÃ©ntalo de nuevo.',
                resultInfo: 'Original: {oldSize} â†’ Comprimido: {newSize} ({ratio}% menos)',
                featuresTitle: 'Por quÃ© usar este compresor PDF',
                feature1Title: '100% Gratis y Privado',
                feature1Desc: 'Sin anuncios, sin registro, sin subir archivos. Todo se procesa localmente en tu navegador. Tus archivos PDF nunca salen de tu dispositivo.',
                feature2Title: 'Calidad ajustable',
                feature2Desc: 'Controla calidad y escala para equilibrar tamaÃ±o y claridad.',
                feature3Title: 'Ideal para escaneados',
                feature3Desc: 'Mejor resultado en PDFs con muchas imÃ¡genes o escaneos.',
                feature4Title: 'Privacidad primero',
                feature4Desc: 'Todo se procesa localmente sin subir archivos.',
                faqTitle: 'Preguntas frecuentes',
                faq1Q: 'Â¿CÃ³mo funciona la compresiÃ³n?',
                faq1A: 'Las pÃ¡ginas se renderizan y se reconstruyen con parÃ¡metros optimizados.',
                faq2Q: 'Â¿Puede cambiar la calidad del texto?',
                faq2A: 'Este mÃ©todo va mejor en escaneos; el texto puede perder algo de nitidez.',
                faq3Q: 'Â¿Puedo ajustar la intensidad?',
                faq3A: 'SÃ­, con calidad, escala y dimensiÃ³n mÃ¡xima.',
                faq4Q: 'Â¿Se suben mis archivos a internet?',
                faq4A: 'No. La compresiÃ³n se hace localmente en el navegador.',
                faq5Q: 'Â¿La herramienta es gratuita?',
                faq5A: 'SÃ­, gratuita y sin registro.',
                faq_free_q: 'Â¿Es realmente gratuito? Â¿Mis archivos estÃ¡n seguros?',
                faq_free_a: 'SÃ­, 100% gratuito sin anuncios, sin registro y sin lÃ­mites. A diferencia de otras herramientas PDF, sus archivos nunca se suben a ningÃºn servidor.',
                relatedToolsTitle: 'Herramientas PDF relacionadas',
                relatedTool1: 'Unir PDF',
                relatedTool1Desc: 'Combina varios PDF en un solo documento.',
                relatedTool2: 'Dividir PDF',
                relatedTool2Desc: 'Divide PDF por pÃ¡ginas o rangos.',
                relatedTool3: 'PDF a imagen',
                relatedTool3Desc: 'Exporta pÃ¡ginas PDF como PNG o JPG.',
                relatedTool4: 'Proteger PDF',
                relatedTool4Desc: 'AÃ±ade protecciÃ³n con contraseÃ±a a tus archivos PDF.',
                trust_users: 'ğŸŒ Usado por mÃ¡s de 50,000 usuarios',
                trust_rating: 'â­ CalificaciÃ³n 4.9/5',
                trust_privacy: 'ğŸ”’ 100% Privado',
                trust_free: 'ğŸš« Sin anuncios, sin registro'
            }
        };

        var fileInput = document.getElementById('fileInput');
        var uploadZone = document.getElementById('uploadZone');
        var fileInfo = document.getElementById('fileInfo');
        var fileNameEl = document.getElementById('fileName');
        var fileMetaEl = document.getElementById('fileMeta');
        var qualityRange = document.getElementById('qualityRange');
        var qualityValue = document.getElementById('qualityValue');
        var scaleRange = document.getElementById('scaleRange');
        var scaleValue = document.getElementById('scaleValue');
        var maxDimInput = document.getElementById('maxDimInput');
        var resetBtn = document.getElementById('resetBtn');
        var compressBtn = document.getElementById('compressBtn');
        var statusText = document.getElementById('statusText');
        var resultText = document.getElementById('resultText');
        var source = null;

        function t(key) {
            var dict = i18n[getLang()] || i18n.en;
            return dict[key] || i18n.en[key] || key;
        }

        function fileSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / 1048576).toFixed(2) + ' MB';
        }

        function setStatus(key, custom) {
            statusText.textContent = custom || t(key);
        }

        function setResult(text) {
            resultText.textContent = text || '';
        }

        function updateFileInfo() {
            if (!source) {
                fileInfo.classList.remove('show');
                return;
            }
            fileInfo.classList.add('show');
            fileNameEl.textContent = source.file.name;
            fileMetaEl.textContent = t('fileMeta').replace('{pages}', String(source.pages)).replace('{size}', fileSize(source.file.size));
        }

        function updateSliderLabels() {
            qualityValue.textContent = Number(qualityRange.value).toFixed(2);
            scaleValue.textContent = Number(scaleRange.value).toFixed(2);
        }

        function downloadBlob(blob, filename) {
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            a.remove();
            URL.revokeObjectURL(url);
        }

        async function loadPdf(file) {
            if (!file || (!/\.pdf$/i.test(file.name) && file.type !== 'application/pdf')) {
                throw new Error('badFile');
            }
            var buffer = await file.arrayBuffer();
            var task = pdfjsLib.getDocument({ data: buffer });
            var pdf = await task.promise;
            source = { file: file, buffer: buffer, pages: pdf.numPages };
            await pdf.destroy();
            updateFileInfo();
            setResult('');
            setStatus('', '');
        }

        async function compressPdf() {
            if (!source) {
                setStatus('statusNeedFile');
                return;
            }
            try {
                compressBtn.disabled = true;
                setResult('');
                setStatus('statusStart');

                var quality = Number(qualityRange.value);
                var baseScale = Number(scaleRange.value);
                var maxDim = Math.max(800, Number(maxDimInput.value) || 2200);

                var pdfTask = pdfjsLib.getDocument({ data: source.buffer });
                var inputPdf = await pdfTask.promise;
                var outputPdf = await PDFLib.PDFDocument.create();

                for (var p = 1; p <= inputPdf.numPages; p++) {
                    setStatus('statusPage', t('statusPage').replace('{current}', String(p)).replace('{total}', String(inputPdf.numPages)));

                    var page = await inputPdf.getPage(p);
                    var viewport = page.getViewport({ scale: baseScale });
                    var targetW = viewport.width;
                    var targetH = viewport.height;
                    var maxCurrent = Math.max(targetW, targetH);
                    if (maxCurrent > maxDim) {
                        var ratio = maxDim / maxCurrent;
                        targetW *= ratio;
                        targetH *= ratio;
                    }

                    var canvas = document.createElement('canvas');
                    canvas.width = Math.max(1, Math.round(targetW));
                    canvas.height = Math.max(1, Math.round(targetH));
                    var ctx = canvas.getContext('2d', { alpha: false });

                    await page.render({
                        canvasContext: ctx,
                        viewport: page.getViewport({ scale: canvas.width / page.getViewport({ scale: 1 }).width })
                    }).promise;

                    var dataUrl = canvas.toDataURL('image/jpeg', quality);
                    var image = await outputPdf.embedJpg(dataUrl);
                    var pageOut = outputPdf.addPage([canvas.width, canvas.height]);
                    pageOut.drawImage(image, { x: 0, y: 0, width: canvas.width, height: canvas.height });
                }

                var outBytes = await outputPdf.save();
                var outBlob = new Blob([outBytes], { type: 'application/pdf' });
                downloadBlob(outBlob, 'compressed.pdf');

                var oldSize = source.file.size;
                var newSize = outBlob.size;
                var ratio = oldSize > 0 ? Math.max(0, ((oldSize - newSize) / oldSize) * 100) : 0;
                setResult(t('resultInfo').replace('{oldSize}', fileSize(oldSize)).replace('{newSize}', fileSize(newSize)).replace('{ratio}', ratio.toFixed(1)));
                setStatus('statusDone');

                await inputPdf.destroy();
            } catch (err) {
                setStatus('statusError');
            } finally {
                compressBtn.disabled = false;
            }
        }

        fileInput.addEventListener('change', function(e) {
            loadPdf(e.target.files && e.target.files[0]).catch(function(err) {
                if (err && err.message === 'badFile') setStatus('statusBadFile');
                else setStatus('statusError');
            });
            fileInput.value = '';
        });

        ['dragenter', 'dragover'].forEach(function(name) {
            uploadZone.addEventListener(name, function(e) {
                e.preventDefault();
                e.stopPropagation();
                uploadZone.classList.add('dragover');
            });
        });
        ['dragleave', 'drop'].forEach(function(name) {
            uploadZone.addEventListener(name, function(e) {
                e.preventDefault();
                e.stopPropagation();
                uploadZone.classList.remove('dragover');
            });
        });
        uploadZone.addEventListener('drop', function(e) {
            var file = e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files[0];
            loadPdf(file).catch(function(err) {
                if (err && err.message === 'badFile') setStatus('statusBadFile');
                else setStatus('statusError');
            });
        });

        qualityRange.addEventListener('input', updateSliderLabels);
        scaleRange.addEventListener('input', updateSliderLabels);

        resetBtn.addEventListener('click', function() {
            qualityRange.value = '0.7';
            scaleRange.value = '1';
            maxDimInput.value = '2200';
            updateSliderLabels();
            setResult('');
            setStatus('', '');
        });

        compressBtn.addEventListener('click', compressPdf);

        updateSliderLabels();

        window._translations = i18n;
    })();
    </script>
    <script src="common/common.js" data-tool-id="pdf-compress" data-tool-name="Compress PDF" data-category="pdf"></script>
    <script>WebToolbox.init(window._translations);</script>

</body>
</html>
