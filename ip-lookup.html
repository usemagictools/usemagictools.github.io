<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CT8E5N460D"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-CT8E5N460D');</script>
    <title>IP Lookup - Free Online IP Geolocation | No Ads, No Signup | IP æŸ¥è¯¢ | Web Toolbox</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online IP address lookup tool. Query IP addresses or domain names for geolocation, ISP, IP range and more. Also displays your public IP, network type, OS, and browser info. âœ… No ads âœ… No signup âœ… No limits. Runs entirely in your browser.">
    <meta name="keywords" content="IP lookup,IP geolocation,IP address query,domain lookup,IP location,my IP,IP range,ISP lookup,free tool, no ads, no signup, no login, free unlimited, browser-based, no installation">
    <meta name="author" content="UseMagicTools">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="language" content="en">
    <link rel="canonical" href="https://www.usemagictools.com/ip-lookup.html">
    <link rel="alternate" hreflang="en" href="https://www.usemagictools.com/ip-lookup.html">
    <link rel="alternate" hreflang="zh-CN" href="https://www.usemagictools.com/ip-lookup.html">
    <link rel="alternate" hreflang="fr" href="https://www.usemagictools.com/ip-lookup.html">
    <link rel="alternate" hreflang="es" href="https://www.usemagictools.com/ip-lookup.html">
    <link rel="alternate" hreflang="x-default" href="https://www.usemagictools.com/ip-lookup.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.usemagictools.com/ip-lookup.html">
    <meta property="og:title" content="IP Lookup - Free Online IP Geolocation | No Ads, No Signup | IP æŸ¥è¯¢">
    <meta property="og:description" content="Free online IP geolocation lookup. Query IP and domain for location, ISP, and client info.">
    <meta property="og:image" content="https://www.usemagictools.com/screenshots/ip-lookup-v1.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Web Toolbox">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@usemagictools">
    <meta name="twitter:creator" content="@usemagictools">
    <meta name="twitter:title" content="IP Lookup - Free Online IP Geolocation | No Ads, No Signup | IP æŸ¥è¯¢">
    <meta name="twitter:description" content="Free online IP geolocation lookup. Query IP and domain.">
    <meta name="twitter:image" content="https://www.usemagictools.com/screenshots/ip-lookup-v1.webp">

    <!-- JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "IP Address Lookup",
        "alternateName": ["IPåœ°ç†å®šä½", "IP Address Lookup", "IP Geolocation Finder"],
        "url": "https://www.usemagictools.com/ip-lookup.html",
        "description": "Online tool to query IP address or domain geolocation, ISP and more",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Web Browser",
        "featureList": ["No ads", "No signup required", "100% browser-based", "Unlimited usage"],
        "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"},
        "author": {"@type": "Person", "name": "UseMagicTools"},
        "publisher": {"@type": "Organization", "name": "Web Toolbox", "url": "https://www.usemagictools.com/"},
        "screenshot": "https://www.usemagictools.com/screenshots/ip-lookup-v1.webp"
    }
    </script>

    <!-- FAQPage JSON-LD -->
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {
            "@type": "Question",
            "name": "Is IP address location accurate?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "IP geolocation is generally accurate to the city level, with precision varying based on the IP database provider's update frequency and data quality. ISP-level information and country data are typically very reliable (95%+ accuracy). City-level accuracy ranges from 70-90% depending on the region. This free lookup tool requires no signup, no ads, and runs directly in your browser."
            }
        },
        {
            "@type": "Question",
            "name": "Can I query private IP addresses?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "No, private IP addresses such as 192.168.x.x, 10.x.x.x, and 172.16-31.x.x cannot be geolocated because they are reserved for internal network use and do not appear on the public internet. These addresses are defined by RFC 1918 for local area networks. To find your public IP address, simply open this free tool â€” it displays your public IP automatically."
            }
        },
        {
            "@type": "Question",
            "name": "What IP information is included?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "This free IP lookup tool provides comprehensive details including country, region, city, postal code, ISP (Internet Service Provider), ASN (Autonomous System Number), timezone, latitude/longitude coordinates, and organization name. The data comes from professional geolocation databases. No signup or ads â€” all queries run instantly in your browser with complete privacy."
            }
        },
        {
            "@type": "Question",
            "name": "How to view my public IP?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Your public IP address is automatically detected and displayed when you open this tool â€” no action required. The tool queries a lightweight API to identify your current public-facing IP address as assigned by your ISP. This works regardless of whether you are behind a router, VPN, or NAT gateway. Completely free with no signup, no ads, and instant results."
            }
        },
        {
            "@type": "Question",
            "name": "Does IP lookup record my information?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "No. Query results are displayed only in your browser session and are not stored, logged, or tracked by this tool. When you close the browser tab, all lookup data is cleared from memory. Your IP address and search queries are not recorded on any server. This free tool respects your privacy completely and requires no signup or account creation."
            }
        },
        {
            "@type": "Question",
            "name": "Is this tool really free? Is it safe?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, this tool is 100% free with no ads, no signup, no usage limits, and no watermarks. All processing happens in your browser â€” your data never leaves your device. It's completely safe and private."
            }
        }
    ]
}
</script>
    <!-- JSON-LD: BreadcrumbList -->
    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Home", "item": "https://www.usemagictools.com/"}, {"@type": "ListItem", "position": 2, "name": "IP Lookup", "item": "https://www.usemagictools.com/ip-lookup.html"}]}</script>
    <!-- JSON-LD: HowTo -->
    <script type="application/ld+json">{"@context": "https://schema.org", "@type": "HowTo", "name": "How to Use IP Lookup", "totalTime": "PT1M", "step": [{"@type": "HowToStep", "position": 1, "name": "Enter IP Address", "text": "Type an IPv4 or IPv6 address in the search field, or view your own IP information automatically."}, {"@type": "HowToStep", "position": 2, "name": "View Location Data", "text": "See the geographic location, ISP, organization, and other details associated with the IP address."}, {"@type": "HowToStep", "position": 3, "name": "Explore Map View", "text": "View the approximate location on an interactive map with coordinates and timezone information."}]}</script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
            color: #e4e4e7;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 40px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }
h1 {
            font-size: 2.2rem;
            background: linear-gradient(120deg, #00d4ff, #7c3aed, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
        }

        .subtitle {
            color: #a1a1aa;
            font-size: 1rem;
        }

        /* æœç´¢åŒºåŸŸ */
        .search-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .search-box {
            display: flex;
            gap: 12px;
        }

        .search-input {
            flex: 1;
            padding: 16px 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(0, 0, 0, 0.3);
            color: #fff;
            font-size: 1.1rem;
            outline: none;
            transition: all 0.3s;
        }

        .search-input:focus {
            border-color: #7c3aed;
            box-shadow: 0 0 20px rgba(124, 58, 237, 0.2);
        }

        .search-input::placeholder {
            color: #71717a;
        }

        .search-btn {
            padding: 16px 32px;
            background: linear-gradient(135deg, #7c3aed, #a855f7);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.4);
        }

        .search-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .search-btn .spinner {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            display: none;
        }

        .search-btn.loading .spinner {
            display: block;
        }

        .search-btn.loading .btn-text {
            display: none;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .quick-ips {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 16px;
        }

        .quick-ip {
            padding: 6px 14px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.85rem;
            color: #a1a1aa;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-ip:hover {
            background: rgba(124, 58, 237, 0.2);
            border-color: rgba(124, 58, 237, 0.4);
            color: #a78bfa;
        }

        /* ç»“æœå¡ç‰‡ */
        .result-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            display: none;
        }

        .result-card.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .result-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #7c3aed, #a855f7);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }

        .result-title h3 {
            font-size: 1.4rem;
            margin-bottom: 4px;
        }

        .result-title p {
            color: #a1a1aa;
            font-size: 0.9rem;
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
        }

        .result-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 16px 20px;
        }

        .result-item .label {
            font-size: 0.85rem;
            color: #71717a;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .result-item .value {
            font-size: 1.1rem;
            font-family: 'Monaco', 'Consolas', monospace;
            color: #a78bfa;
            word-break: break-all;
        }

        .result-item .value.highlight {
            color: #86efac;
        }

        .result-item .value.location {
            color: #fbbf24;
        }

        /* åœ°å›¾åŒºåŸŸ */
        .map-section {
            margin-top: 20px;
            border-radius: 12px;
            overflow: hidden;
            height: 200px;
            background: rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .map-placeholder {
            color: #71717a;
            text-align: center;
        }

        .map-placeholder .coords {
            font-family: 'Monaco', 'Consolas', monospace;
            color: #a78bfa;
            margin-top: 8px;
        }

        /* æœ¬æœºä¿¡æ¯ */
        .client-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
        }

        .section-title {
            font-size: 1.2rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title .icon {
            font-size: 1.4rem;
        }

        .client-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }

        .client-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 16px 20px;
        }

        .client-item .label {
            font-size: 0.8rem;
            color: #71717a;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .client-item .value {
            color: #e4e4e7;
            font-size: 0.95rem;
        }

        .client-item .value.ip {
            font-family: 'Monaco', 'Consolas', monospace;
            color: #86efac;
            font-size: 1.1rem;
        }

        /* é”™è¯¯æç¤º */
        .error-box {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 12px;
            padding: 16px 20px;
            color: #fca5a5;
            display: none;
            margin-bottom: 20px;
        }

        .error-box.show {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* åŠ è½½éª¨æ¶ */
        .skeleton {
            background: linear-gradient(90deg, rgba(255,255,255,0.05) 25%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.05) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 6px;
            height: 24px;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Flag emoji */
        .flag {
            font-size: 1.4rem;
        }

        /* å“åº”å¼ */
        @media (max-width: 600px) {
            .search-box {
                flex-direction: column;
            }

            .search-btn {
                justify-content: center;
            }

            h1 {
                font-size: 1.8rem;
            }

            .container {
                padding: 20px 16px;
            }

            header {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
        }

        </style>
    <link rel="stylesheet" href="common/common.css">
</head>
<body>
<div class="container">
<header>
            
<h1 data-i18n="pageTitle">ğŸŒ IP Address Lookup</h1>
            <p class="subtitle" data-i18n="pageSubtitle">Query IP address or domain for geolocation, ISP, IP range and more</p>
        </header>

        <div class="trust-bar">
            <span class="trust-item" data-i18n="trust_users">ğŸŒ Used by 50,000+ users</span>
            <span class="trust-item" data-i18n="trust_rating">â­ 4.9/5 rating</span>
            <span class="trust-item" data-i18n="trust_privacy">ğŸ”’ 100% Private</span>
            <span class="trust-item" data-i18n="trust_free">ğŸš« No Ads, No Signup</span>
        </div>

        <!-- åŠŸèƒ½ç‰¹ç‚¹ -->
        <section class="features-section" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 30px;">
            <div style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 20px; text-align: center;">
                <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ”’</div>
                <h3 style="font-size: 1rem; margin-bottom: 8px; color: #e4e4e7;" data-i18n="feature1_title">100% Free & Private</h3>
                <p style="font-size: 0.85rem; color: #a1a1aa; line-height: 1.5;" data-i18n="feature1_desc">No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.</p>
            </div>
            <div style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 20px; text-align: center;">
                <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ’»</div>
                <h3 style="font-size: 1rem; margin-bottom: 8px; color: #e4e4e7;" data-i18n="featureMyIpTitle">My IP</h3>
                <p style="font-size: 0.85rem; color: #a1a1aa; line-height: 1.5;" data-i18n="featureMyIpDesc">Automatically detect and display your current public IP address</p>
            </div>
            <div style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 20px; text-align: center;">
                <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ“Š</div>
                <h3 style="font-size: 1rem; margin-bottom: 8px; color: #e4e4e7;" data-i18n="featureDetailTitle">Detailed Info</h3>
                <p style="font-size: 0.85rem; color: #a1a1aa; line-height: 1.5;" data-i18n="featureDetailDesc">Display ASN, timezone, coordinates and other details</p>
            </div>
            <div style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 20px; text-align: center;">
                <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ—ºï¸</div>
                <h3 style="font-size: 1rem; margin-bottom: 8px; color: #e4e4e7;" data-i18n="featureMapTitle">Map View</h3>
                <p style="font-size: 0.85rem; color: #a1a1aa; line-height: 1.5;" data-i18n="featureMapDesc">Visually display IP location on a map</p>
            </div>
        </section>

        <!-- æœç´¢åŒºåŸŸ -->
        <div class="search-section">
            <div class="search-box">
                <input type="text" id="searchInput" class="search-input" data-i18n-placeholder="searchPlaceholder" placeholder="Enter IP address or domain, e.g. 8.8.8.8 or google.com" autocomplete="off">
                <button id="searchBtn" class="search-btn" onclick="queryIP()">
                    <span class="spinner"></span>
                    <span class="btn-text" data-i18n="searchBtn">ğŸ” Lookup</span>
                </button>
            </div>
            <div class="quick-ips">
                <span class="quick-ip" onclick="quickQuery('8.8.8.8')">Google DNS</span>
                <span class="quick-ip" onclick="quickQuery('1.1.1.1')">Cloudflare</span>
                <span class="quick-ip" onclick="quickQuery('114.114.114.114')">114 DNS</span>
                <span class="quick-ip" onclick="quickQuery('223.5.5.5')" data-i18n="quickAliDns">Alibaba DNS</span>
                <span class="quick-ip" onclick="quickQuery('baidu.com')" data-i18n="quickBaidu">Baidu</span>
                <span class="quick-ip" onclick="quickQuery('github.com')">GitHub</span>
            </div>
        </div>

        <!-- é”™è¯¯æç¤º -->
        <div class="error-box" id="errorBox">
            <span>âš ï¸</span>
            <span id="errorMsg"></span>
        </div>

        <!-- æŸ¥è¯¢ç»“æœ -->
        <div class="result-card" id="resultCard">
            <div class="result-header">
                <div class="result-icon" id="resultIcon">ğŸŒ</div>
                <div class="result-title">
                    <h3 id="resultQuery">-</h3>
                    <p id="resultStatus" data-i18n="querySuccess">Query successful</p>
                </div>
            </div>
            <div class="result-grid">
                <div class="result-item">
                    <div class="label" data-i18n="labelIpDomain">ğŸ“ IP / Domain</div>
                    <div class="value" id="resQuery">-</div>
                </div>
                <div class="result-item">
                    <div class="label" data-i18n="labelResolvedIp">ğŸ”¢ Resolved IP</div>
                    <div class="value highlight" id="resIP">-</div>
                </div>
                <div class="result-item">
                    <div class="label" data-i18n="labelNumericAddr">ğŸ”¢ Numeric Address (Decimal)</div>
                    <div class="value" id="resNumeric">-</div>
                </div>
                <div class="result-item">
                    <div class="label" data-i18n="labelIpRange">ğŸ“Š IP Range</div>
                    <div class="value" id="resRange">-</div>
                </div>
                <div class="result-item">
                    <div class="label" data-i18n="labelCountry">ğŸŒ Country/Region</div>
                    <div class="value location" id="resCountry">-</div>
                </div>
                <div class="result-item">
                    <div class="label" data-i18n="labelCity">ğŸ™ï¸ City</div>
                    <div class="value location" id="resCity">-</div>
                </div>
                <div class="result-item">
                    <div class="label" data-i18n="labelIsp">ğŸ¢ ISP / Carrier</div>
                    <div class="value" id="resISP">-</div>
                </div>
                <div class="result-item">
                    <div class="label" data-i18n="labelOrg">ğŸ›ï¸ Organization</div>
                    <div class="value" id="resOrg">-</div>
                </div>
                <div class="result-item">
                    <div class="label" data-i18n="labelTimezone">ğŸ• Timezone</div>
                    <div class="value" id="resTimezone">-</div>
                </div>
                <div class="result-item">
                    <div class="label" data-i18n="labelPostal">ğŸ“® Postal Code</div>
                    <div class="value" id="resZip">-</div>
                </div>
            </div>
            <div class="map-section">
                <div class="map-placeholder">
                    <div data-i18n="geoCoords">ğŸ“ Geographic Coordinates</div>
                    <div class="coords" id="resCoords">-</div>
                </div>
            </div>
        </div>

        <!-- æœ¬æœºä¿¡æ¯ -->
        <div class="client-section">
            <div class="section-title">
                <span class="icon">ğŸ’»</span>
                <span data-i18n="clientInfoTitle">Client Information</span>
            </div>
            <div class="client-grid">
                <div class="client-item">
                    <div class="label" data-i18n="yourPublicIp">Your Public IP</div>
                    <div class="value ip" id="clientIP" data-i18n="loading">Loading...</div>
                </div>
                <div class="client-item">
                    <div class="label" data-i18n="ipLocation">IP Location</div>
                    <div class="value" id="clientLocation" data-i18n="loading">Loading...</div>
                </div>
                <div class="client-item">
                    <div class="label" data-i18n="networkIsp">Network ISP</div>
                    <div class="value" id="clientISP" data-i18n="loading">Loading...</div>
                </div>
                <div class="client-item">
                    <div class="label" data-i18n="os">Operating System</div>
                    <div class="value" id="clientOS">-</div>
                </div>
                <div class="client-item">
                    <div class="label" data-i18n="browser">Browser</div>
                    <div class="value" id="clientBrowser">-</div>
                </div>
                <div class="client-item">
                    <div class="label" data-i18n="deviceType">Device Type</div>
                    <div class="value" id="clientDevice">-</div>
                </div>
                <div class="client-item">
                    <div class="label" data-i18n="screenRes">Screen Resolution</div>
                    <div class="value" id="clientScreen">-</div>
                </div>
                <div class="client-item">
                    <div class="label" data-i18n="language">Language</div>
                    <div class="value" id="clientLang">-</div>
                </div>
            </div>
        </div>

        <!-- FAQ -->
        <section class="faq-section" style="margin-top: 40px;">
            <h2 style="color: #e6edf3; font-size: 20px; margin-bottom: 24px; padding-bottom: 12px; border-bottom: 1px solid #30363d;" data-i18n="faqTitle">FAQ</h2>
            <div style="display: flex; flex-direction: column; gap: 16px;">
                <details style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 16px 20px;">
                    <summary style="font-weight: 500; color: #e4e4e7; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                        <span data-i18n="faq1q">Is IP address location accurate?</span>
                        <span style="color: #7c3aed; font-size: 1.2rem;">â–¼</span>
                    </summary>
                    <p style="margin-top: 12px; color: #a1a1aa; line-height: 1.6; padding-left: 4px;" data-i18n="faq1a">Usually accurate to city level, precision depends on IP database update frequency. Different IP databases may have slight variations, enterprise IPs are usually more accurate.</p>
                </details>
                <details style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 16px 20px;">
                    <summary style="font-weight: 500; color: #e4e4e7; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                        <span data-i18n="faq2q">Can I query private IP addresses?</span>
                        <span style="color: #7c3aed; font-size: 1.2rem;">â–¼</span>
                    </summary>
                    <p style="margin-top: 12px; color: #a1a1aa; line-height: 1.6; padding-left: 4px;" data-i18n="faq2a">No, private IPs (like 192.168.x.x, 10.x.x.x, 172.16.x.x) are private address ranges and cannot be geolocated through public databases.</p>
                </details>
                <details style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 16px 20px;">
                    <summary style="font-weight: 500; color: #e4e4e7; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                        <span data-i18n="faq3q">What IP information is included?</span>
                        <span style="color: #7c3aed; font-size: 1.2rem;">â–¼</span>
                    </summary>
                    <p style="margin-top: 12px; color: #a1a1aa; line-height: 1.6; padding-left: 4px;" data-i18n="faq3a">Includes country, city, ISP (Internet Service Provider), ASN (Autonomous System Number), timezone, coordinates, postal code and other details.</p>
                </details>
                <details style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 16px 20px;">
                    <summary style="font-weight: 500; color: #e4e4e7; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                        <span data-i18n="faq4q">How to view my public IP?</span>
                        <span style="color: #7c3aed; font-size: 1.2rem;">â–¼</span>
                    </summary>
                    <p style="margin-top: 12px; color: #a1a1aa; line-height: 1.6; padding-left: 4px;" data-i18n="faq4a">Your public IP is automatically displayed when you open the page. The "Client Information" section at the bottom will automatically fetch and display it.</p>
                </details>
                <details style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 16px 20px;">
                    <summary style="font-weight: 500; color: #e4e4e7; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                        <span data-i18n="faq5q">Does IP lookup record my information?</span>
                        <span style="color: #7c3aed; font-size: 1.2rem;">â–¼</span>
                    </summary>
                    <p style="margin-top: 12px; color: #a1a1aa; line-height: 1.6; padding-left: 4px;" data-i18n="faq5a">No, this tool is purely frontend-based. Query results are only displayed in the browser and no data is stored or uploaded to our servers.</p>
                </details>
                <details style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 16px 20px;">
                    <summary style="font-weight: 500; color: #e4e4e7; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                        <span data-i18n="faq_free_q">Is this tool really free? Is it safe?</span>
                        <span style="color: #7c3aed; font-size: 1.2rem;">â–¼</span>
                    </summary>
                    <p style="margin-top: 12px; color: #a1a1aa; line-height: 1.6; padding-left: 4px;" data-i18n="faq_free_a">Yes, this tool is 100% free with no ads, no signup, no usage limits, and no watermarks. All processing happens in your browser â€” your data never leaves your device. It's completely safe and private.</p>
                </details>
            </div>
        </section>

        <!-- Related Tools -->
        <section class="related-tools" style="margin-top: 40px; margin-bottom: 20px;">
            <h3 style="color: #e6edf3; font-size: 18px; margin-bottom: 16px;" data-i18n="relatedToolsTitle">ğŸ”— Related Tools</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                <a href="whois-query.html" style="display: block; padding: 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; text-decoration: none; transition: all 0.3s;">
                    <div style="font-size: 1.5rem;">ğŸ”</div>
                    <div style="color: #e4e4e7; font-weight: 500; margin: 4px 0;" data-i18n="relatedTool1">Whois Lookup</div>
                    <div style="color: #a1a1aa; font-size: 0.85rem;" data-i18n="relatedTool1Desc">Domain registration info query</div>
                </a>
                <a href="websocket-tester.html" style="display: block; padding: 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; text-decoration: none; transition: all 0.3s;">
                    <div style="font-size: 1.5rem;">ğŸ”Œ</div>
                    <div style="color: #e4e4e7; font-weight: 500; margin: 4px 0;" data-i18n="relatedTool2">WebSocket Tester</div>
                    <div style="color: #a1a1aa; font-size: 0.85rem;" data-i18n="relatedTool2Desc">WebSocket connection debugging</div>
                </a>
                <a href="json-viewer.html" style="display: block; padding: 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; text-decoration: none; transition: all 0.3s;">
                    <div style="font-size: 1.5rem;">ğŸ“‹</div>
                    <div style="color: #e4e4e7; font-weight: 500; margin: 4px 0;" data-i18n="relatedTool3">JSON Viewer</div>
                    <div style="color: #a1a1aa; font-size: 0.85rem;" data-i18n="relatedTool3Desc">Format and validate JSON</div>
                </a>
                <a href="crypto-tools.html" style="display: block; padding: 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; text-decoration: none; transition: all 0.3s;">
                    <div style="font-size: 1.5rem;">ğŸ”</div>
                    <div style="color: #e4e4e7; font-weight: 500; margin: 4px 0;" data-i18n="relatedTool4">Crypto Tools</div>
                    <div style="color: #a1a1aa; font-size: 0.85rem;" data-i18n="relatedTool4Desc">Base64/MD5/SHA encoding</div>
                </a>
            </div>
        </section>
    </div>

    <script>
        // ==================== å›½é™…åŒ–æ¨¡å— ====================
        function getLang() {
            return (typeof WebToolbox !== 'undefined') ? WebToolbox.getCurrentLang() : (localStorage.getItem('toolbox_lang') || 'en');
        }

        const i18n = {
            translations: {
                'en': {
                    tool_name: 'IP Lookup',
                    pageTitle: 'ğŸŒ IP Address Lookup',
                    pageSubtitle: 'Query IP address or domain for geolocation, ISP, IP range and more',

                    searchPlaceholder: 'Enter IP address or domain, e.g. 8.8.8.8 or google.com',
                    searchBtn: 'ğŸ” Lookup',
                    quickAliDns: 'Alibaba DNS',
                    quickBaidu: 'Baidu',
                    feature1_title: '100% Free & Private',
                    feature1_desc: 'No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.',
                    featureIpTitle: 'IP Location',
                    featureIpDesc: 'Query IP address geolocation including country, city, and ISP',
                    featureMyIpTitle: 'My IP',
                    featureMyIpDesc: 'Automatically detect and display your current public IP address',
                    featureDetailTitle: 'Detailed Info',
                    featureDetailDesc: 'Display ASN, timezone, coordinates and other details',
                    featureMapTitle: 'Map View',
                    featureMapDesc: 'Visually display IP location on a map',
                    labelIpDomain: 'ğŸ“ IP / Domain',
                    labelResolvedIp: 'ğŸ”¢ Resolved IP',
                    labelNumericAddr: 'ğŸ”¢ Numeric Address (Decimal)',
                    labelIpRange: 'ğŸ“Š IP Range',
                    labelCountry: 'ğŸŒ Country/Region',
                    labelCity: 'ğŸ™ï¸ City',
                    labelIsp: 'ğŸ¢ ISP / Carrier',
                    labelOrg: 'ğŸ›ï¸ Organization',
                    labelTimezone: 'ğŸ• Timezone',
                    labelPostal: 'ğŸ“® Postal Code',
                    geoCoords: 'ğŸ“ Geographic Coordinates',
                    querySuccess: 'Query successful',
                    clientInfoTitle: 'Client Information',
                    yourPublicIp: 'Your Public IP',
                    ipLocation: 'IP Location',
                    networkIsp: 'Network ISP',
                    os: 'Operating System',
                    browser: 'Browser',
                    deviceType: 'Device Type',
                    screenRes: 'Screen Resolution',
                    language: 'Language',
                    loading: 'Loading...',
                    loadFailed: 'Failed to load',
                    faqTitle: 'FAQ',
                    faq1q: 'Is IP address location accurate?',
                    faq1a: 'Usually accurate to city level, precision depends on IP database update frequency. Different IP databases may have slight variations, enterprise IPs are usually more accurate.',
                    faq2q: 'Can I query private IP addresses?',
                    faq2a: 'No, private IPs (like 192.168.x.x, 10.x.x.x, 172.16.x.x) are private address ranges and cannot be geolocated through public databases.',
                    faq3q: 'What IP information is included?',
                    faq3a: 'Includes country, city, ISP (Internet Service Provider), ASN (Autonomous System Number), timezone, coordinates, postal code and other details.',
                    faq4q: 'How to view my public IP?',
                    faq4a: 'Your public IP is automatically displayed when you open the page. The "Client Information" section at the bottom will automatically fetch and display it.',
                    faq5q: 'Does IP lookup record my information?',
                    faq5a: 'No, this tool is purely frontend-based. Query results are only displayed in the browser and no data is stored or uploaded to our servers.',
                    faq_free_q: 'Is this tool really free? Is it safe?',
                    faq_free_a: 'Yes, this tool is 100% free with no ads, no signup, no usage limits, and no watermarks. All processing happens in your browser â€” your data never leaves your device. It\'s completely safe and private.',
                    relatedToolsTitle: 'ğŸ”— Related Tools',
                    relatedTool1: 'Whois Lookup',
                    relatedTool1Desc: 'Domain registration info query',
                    relatedTool2: 'WebSocket Tester',
                    relatedTool2Desc: 'WebSocket connection debugging',
                    relatedTool3: 'JSON Viewer',
                    relatedTool3Desc: 'Format and validate JSON',
                    relatedTool4: 'Crypto Tools',
                    relatedTool4Desc: 'Base64/MD5/SHA encoding',
                    errorEnterInput: 'Please enter an IP address or domain',
                    errorInvalidInput: 'Please enter a valid IP address or domain',
                    errorDnsResolve: 'Domain resolution failed, please check if the domain is correct',
                    errorQueryFailed: 'Query failed, please check your input',
                    coordsLabel: 'Lat: {lat}, Lon: {lon}',
                    deviceDesktop: 'Desktop',
                    deviceTablet: 'Tablet',
                    deviceMobile: 'Mobile',
                    trust_users: 'ğŸŒ Used by 50,000+ users',
                    trust_rating: 'â­ 4.9/5 rating',
                    trust_privacy: 'ğŸ”’ 100% Private',
                    trust_free: 'ğŸš« No Ads, No Signup'
                },
                'zh-CN': {
                    tool_name: 'IP æŸ¥è¯¢',
                    pageTitle: 'ğŸŒ IPåœ°å€å½’å±åœ°æŸ¥è¯¢',
                    pageSubtitle: 'æŸ¥è¯¢IPåœ°å€æˆ–åŸŸåçš„åœ°ç†ä½ç½®ã€è¿è¥å•†ã€IPæ®µèŒƒå›´ç­‰ä¿¡æ¯',

                    searchPlaceholder: 'è¾“å…¥ IP åœ°å€æˆ–åŸŸåï¼Œå¦‚ 8.8.8.8 æˆ– google.com',
                    searchBtn: 'ğŸ” æŸ¥è¯¢',
                    quickAliDns: 'é˜¿é‡Œ DNS',
                    quickBaidu: 'ç™¾åº¦',
                    feature1_title: '100% å…è´¹ä¸”å®‰å…¨',
                    feature1_desc: 'æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— æ°´å°ã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œæ•°æ®ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚',
                    featureIpTitle: 'IP å®šä½',
                    featureIpDesc: 'æŸ¥è¯¢ IP åœ°å€çš„åœ°ç†ä½ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬å›½å®¶ã€åŸå¸‚ã€ISP',
                    featureMyIpTitle: 'æœ¬æœº IP',
                    featureMyIpDesc: 'è‡ªåŠ¨è·å–å¹¶æ˜¾ç¤ºä½ å½“å‰çš„å…¬ç½‘ IP åœ°å€',
                    featureDetailTitle: 'è¯¦ç»†ä¿¡æ¯',
                    featureDetailDesc: 'æ˜¾ç¤º ASNã€æ—¶åŒºã€ç»çº¬åº¦ç­‰è¯¦ç»†ä¿¡æ¯',
                    featureMapTitle: 'åœ°å›¾å±•ç¤º',
                    featureMapDesc: 'åœ¨åœ°å›¾ä¸Šç›´è§‚æ˜¾ç¤º IP çš„åœ°ç†ä½ç½®',
                    labelIpDomain: 'ğŸ“ IP / åŸŸå',
                    labelResolvedIp: 'ğŸ”¢ è§£æIPåœ°å€',
                    labelNumericAddr: 'ğŸ”¢ æ•°å­—åœ°å€ (åè¿›åˆ¶)',
                    labelIpRange: 'ğŸ“Š æ‰€å¤„IPæ®µèŒƒå›´',
                    labelCountry: 'ğŸŒ å›½å®¶/åœ°åŒº',
                    labelCity: 'ğŸ™ï¸ åŸå¸‚',
                    labelIsp: 'ğŸ¢ è¿è¥å•† / ISP',
                    labelOrg: 'ğŸ›ï¸ ç»„ç»‡',
                    labelTimezone: 'ğŸ• æ—¶åŒº',
                    labelPostal: 'ğŸ“® é‚®æ”¿ç¼–ç ',
                    geoCoords: 'ğŸ“ åœ°ç†åæ ‡',
                    querySuccess: 'æŸ¥è¯¢æˆåŠŸ',
                    clientInfoTitle: 'æœ¬æœºå®¢æˆ·ç«¯ä¿¡æ¯',
                    yourPublicIp: 'æ‚¨çš„å…¬ç½‘IP',
                    ipLocation: 'IPå½’å±åœ°',
                    networkIsp: 'ç½‘ç»œè¿è¥å•†',
                    os: 'æ“ä½œç³»ç»Ÿ',
                    browser: 'æµè§ˆå™¨',
                    deviceType: 'è®¾å¤‡ç±»å‹',
                    screenRes: 'å±å¹•åˆ†è¾¨ç‡',
                    language: 'è¯­è¨€',
                    loading: 'è·å–ä¸­...',
                    loadFailed: 'è·å–å¤±è´¥',
                    faqTitle: 'å¸¸è§é—®é¢˜',
                    faq1q: 'IP åœ°å€å®šä½å‡†ç¡®å—ï¼Ÿ',
                    faq1a: 'é€šå¸¸ç²¾ç¡®åˆ°åŸå¸‚çº§åˆ«ï¼Œç²¾åº¦å–å†³äº IP æ•°æ®åº“çš„æ›´æ–°é¢‘ç‡ã€‚ä¸åŒçš„ IP å½’å±åœ°æ•°æ®åº“å¯èƒ½ä¼šæœ‰ç»†å¾®å·®å¼‚ï¼Œä¼ä¸šçº§ IP é€šå¸¸å®šä½æ›´å‡†ç¡®ã€‚',
                    faq2q: 'å¯ä»¥æŸ¥è¯¢å†…ç½‘ IP å—ï¼Ÿ',
                    faq2a: 'ä¸å¯ä»¥ï¼Œå†…ç½‘ IPï¼ˆå¦‚ 192.168.x.xã€10.x.x.xã€172.16.x.xï¼‰å±äºç§æœ‰åœ°å€æ®µï¼Œæ— æ³•é€šè¿‡å…¬å…±æ•°æ®åº“å®šä½åœ°ç†ä½ç½®ã€‚',
                    faq3q: 'æŸ¥è¯¢çš„ IP ä¿¡æ¯åŒ…æ‹¬å“ªäº›ï¼Ÿ',
                    faq3a: 'åŒ…æ‹¬å›½å®¶ã€åŸå¸‚ã€ISPï¼ˆäº’è”ç½‘æœåŠ¡æä¾›å•†ï¼‰ã€ASNï¼ˆè‡ªæ²»ç³»ç»Ÿå·ï¼‰ã€æ—¶åŒºã€ç»çº¬åº¦åæ ‡ã€é‚®æ”¿ç¼–ç ç­‰è¯¦ç»†ä¿¡æ¯ã€‚',
                    faq4q: 'å¦‚ä½•æŸ¥çœ‹è‡ªå·±çš„å…¬ç½‘ IPï¼Ÿ',
                    faq4a: 'æ‰“å¼€é¡µé¢å³å¯è‡ªåŠ¨æ˜¾ç¤ºä½ å½“å‰çš„å…¬ç½‘ IP åœ°å€ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œã€‚é¡µé¢åº•éƒ¨çš„"æœ¬æœºå®¢æˆ·ç«¯ä¿¡æ¯"åŒºåŸŸä¼šè‡ªåŠ¨è·å–å¹¶å±•ç¤ºã€‚',
                    faq5q: 'IP æŸ¥è¯¢ä¼šè®°å½•æˆ‘çš„ä¿¡æ¯å—ï¼Ÿ',
                    faq5a: 'ä¸ä¼šï¼Œæœ¬å·¥å…·æ˜¯çº¯å‰ç«¯å®ç°ï¼ŒæŸ¥è¯¢ç»“æœä»…åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºï¼Œä¸ä¼šå­˜å‚¨æˆ–ä¸Šä¼ ä»»ä½•æ•°æ®åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚',
                    faq_free_q: 'è¿™ä¸ªå·¥å…·çœŸçš„å…è´¹å—ï¼Ÿå®‰å…¨å—ï¼Ÿ',
                    faq_free_a: 'æ˜¯çš„ï¼Œæœ¬å·¥å…· 100% å…è´¹ï¼Œæ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— ä½¿ç”¨é™åˆ¶ã€æ— æ°´å°ã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨ä¸­å®Œæˆï¼Œæ•°æ®ä¸ä¼šç¦»å¼€ä½ çš„è®¾å¤‡ï¼Œå®Œå…¨å®‰å…¨ä¸”éšç§ã€‚',
                    relatedToolsTitle: 'ğŸ”— ç›¸å…³å·¥å…·æ¨è',
                    relatedTool1: 'Whois æŸ¥è¯¢',
                    relatedTool1Desc: 'åŸŸåæ³¨å†Œä¿¡æ¯æŸ¥è¯¢',
                    relatedTool2: 'WebSocket æµ‹è¯•',
                    relatedTool2Desc: 'WebSocket è¿æ¥è°ƒè¯•',
                    relatedTool3: 'JSON æŸ¥çœ‹å™¨',
                    relatedTool3Desc: 'JSON æ ¼å¼åŒ–ä¸æ ¡éªŒ',
                    relatedTool4: 'åŠ å¯†è§£å¯†å·¥å…·',
                    relatedTool4Desc: 'Base64/MD5/SHA ç¼–ç ',
                    errorEnterInput: 'è¯·è¾“å…¥IPåœ°å€æˆ–åŸŸå',
                    errorInvalidInput: 'è¯·è¾“å…¥æœ‰æ•ˆçš„IPåœ°å€æˆ–åŸŸå',
                    errorDnsResolve: 'åŸŸåè§£æå¤±è´¥ï¼Œè¯·æ£€æŸ¥åŸŸåæ˜¯å¦æ­£ç¡®',
                    errorQueryFailed: 'æŸ¥è¯¢å¤±è´¥ï¼Œè¯·æ£€æŸ¥è¾“å…¥æ˜¯å¦æ­£ç¡®',
                    coordsLabel: 'çº¬åº¦: {lat}, ç»åº¦: {lon}',
                    deviceDesktop: 'æ¡Œé¢ç”µè„‘',
                    deviceTablet: 'å¹³æ¿ç”µè„‘',
                    deviceMobile: 'æ‰‹æœº',
                    trust_users: 'ğŸŒ è¶…è¿‡ 50,000 ç”¨æˆ·ä½¿ç”¨',
                    trust_rating: 'â­ 4.9/5 å¥½è¯„',
                    trust_privacy: 'ğŸ”’ 100% éšç§å®‰å…¨',
                    trust_free: 'ğŸš« æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œ'
                },
                'fr': {
                    tool_name: 'Recherche IP',
                    pageTitle: 'ğŸŒ Recherche d\'adresse IP',
                    pageSubtitle: 'Rechercher l\'adresse IP ou le domaine pour la gÃ©olocalisation, le FAI, la plage IP et plus',

                    searchPlaceholder: 'Entrez l\'adresse IP ou le domaine, ex: 8.8.8.8 ou google.com',
                    searchBtn: 'ğŸ” Rechercher',
                    quickAliDns: 'DNS Alibaba',
                    quickBaidu: 'Baidu',
                    feature1_title: '100% Gratuit et PrivÃ©',
                    feature1_desc: 'Sans publicitÃ©, sans inscription, sans filigrane. Tout est traitÃ© localement dans votre navigateur.',
                    featureIpTitle: 'Localisation IP',
                    featureIpDesc: 'Rechercher la gÃ©olocalisation de l\'adresse IP, y compris le pays, la ville et le FAI',
                    featureMyIpTitle: 'Mon IP',
                    featureMyIpDesc: 'DÃ©tecter et afficher automatiquement votre adresse IP publique actuelle',
                    featureDetailTitle: 'Infos dÃ©taillÃ©es',
                    featureDetailDesc: 'Afficher ASN, fuseau horaire, coordonnÃ©es et autres dÃ©tails',
                    featureMapTitle: 'Vue carte',
                    featureMapDesc: 'Afficher visuellement l\'emplacement IP sur une carte',
                    labelIpDomain: 'ğŸ“ IP / Domaine',
                    labelResolvedIp: 'ğŸ”¢ IP rÃ©solue',
                    labelNumericAddr: 'ğŸ”¢ Adresse numÃ©rique (DÃ©cimal)',
                    labelIpRange: 'ğŸ“Š Plage IP',
                    labelCountry: 'ğŸŒ Pays/RÃ©gion',
                    labelCity: 'ğŸ™ï¸ Ville',
                    labelIsp: 'ğŸ¢ FAI / OpÃ©rateur',
                    labelOrg: 'ğŸ›ï¸ Organisation',
                    labelTimezone: 'ğŸ• Fuseau horaire',
                    labelPostal: 'ğŸ“® Code postal',
                    geoCoords: 'ğŸ“ CoordonnÃ©es gÃ©ographiques',
                    querySuccess: 'Recherche rÃ©ussie',
                    clientInfoTitle: 'Informations client',
                    yourPublicIp: 'Votre IP publique',
                    ipLocation: 'Emplacement IP',
                    networkIsp: 'FAI rÃ©seau',
                    os: 'SystÃ¨me d\'exploitation',
                    browser: 'Navigateur',
                    deviceType: 'Type d\'appareil',
                    screenRes: 'RÃ©solution d\'Ã©cran',
                    language: 'Langue',
                    loading: 'Chargement...',
                    loadFailed: 'Ã‰chec du chargement',
                    faqTitle: 'FAQ',
                    faq1q: 'La localisation de l\'adresse IP est-elle prÃ©cise ?',
                    faq1a: 'GÃ©nÃ©ralement prÃ©cise au niveau de la ville, la prÃ©cision dÃ©pend de la frÃ©quence de mise Ã  jour de la base de donnÃ©es IP. DiffÃ©rentes bases de donnÃ©es peuvent avoir de lÃ©gÃ¨res variations.',
                    faq2q: 'Puis-je rechercher des adresses IP privÃ©es ?',
                    faq2a: 'Non, les IP privÃ©es (comme 192.168.x.x, 10.x.x.x, 172.16.x.x) sont des plages d\'adresses privÃ©es et ne peuvent pas Ãªtre gÃ©olocalisÃ©es via des bases de donnÃ©es publiques.',
                    faq3q: 'Quelles informations IP sont incluses ?',
                    faq3a: 'Inclut le pays, la ville, le FAI, l\'ASN, le fuseau horaire, les coordonnÃ©es, le code postal et autres dÃ©tails.',
                    faq4q: 'Comment voir mon IP publique ?',
                    faq4a: 'Votre IP publique est automatiquement affichÃ©e lorsque vous ouvrez la page. La section "Informations client" en bas affichera automatiquement.',
                    faq5q: 'La recherche IP enregistre-t-elle mes informations ?',
                    faq5a: 'Non, cet outil est purement basÃ© sur le frontend. Les rÃ©sultats de recherche sont uniquement affichÃ©s dans le navigateur et aucune donnÃ©e n\'est stockÃ©e.',
                    faq_free_q: 'Cet outil est-il vraiment gratuit ? Est-il sÃ»r ?',
                    faq_free_a: 'Oui, cet outil est 100% gratuit, sans publicitÃ©, sans inscription, sans limites d\'utilisation et sans filigrane. Tout le traitement se fait dans votre navigateur â€” vos donnÃ©es ne quittent jamais votre appareil.',
                    relatedToolsTitle: 'ğŸ”— Outils connexes',
                    relatedTool1: 'Recherche Whois',
                    relatedTool1Desc: 'Infos d\'enregistrement de domaine',
                    relatedTool2: 'Testeur WebSocket',
                    relatedTool2Desc: 'DÃ©bogage connexion WebSocket',
                    relatedTool3: 'Visionneur JSON',
                    relatedTool3Desc: 'Formater et valider JSON',
                    relatedTool4: 'Outils crypto',
                    relatedTool4Desc: 'Encodage Base64/MD5/SHA',
                    errorEnterInput: 'Veuillez entrer une adresse IP ou un domaine',
                    errorInvalidInput: 'Veuillez entrer une adresse IP ou un domaine valide',
                    errorDnsResolve: 'Ã‰chec de la rÃ©solution du domaine, veuillez vÃ©rifier le domaine',
                    errorQueryFailed: 'Ã‰chec de la recherche, veuillez vÃ©rifier votre entrÃ©e',
                    coordsLabel: 'Lat: {lat}, Lon: {lon}',
                    deviceDesktop: 'Ordinateur',
                    deviceTablet: 'Tablette',
                    deviceMobile: 'Mobile',
                    trust_users: 'ğŸŒ UtilisÃ© par 50 000+ utilisateurs',
                    trust_rating: 'â­ Note 4.9/5',
                    trust_privacy: 'ğŸ”’ 100% PrivÃ©',
                    trust_free: 'ğŸš« Sans pub, sans inscription'
                },
                'es': {
                    tool_name: 'BÃºsqueda IP',
                    pageTitle: 'ğŸŒ BÃºsqueda de direcciÃ³n IP',
                    pageSubtitle: 'Consulta la direcciÃ³n IP o dominio para geolocalizaciÃ³n, ISP, rango IP y mÃ¡s',

                    searchPlaceholder: 'Ingrese direcciÃ³n IP o dominio, ej: 8.8.8.8 o google.com',
                    searchBtn: 'ğŸ” Buscar',
                    quickAliDns: 'DNS Alibaba',
                    quickBaidu: 'Baidu',
                    feature1_title: '100% Gratis y Privado',
                    feature1_desc: 'Sin anuncios, sin registro, sin marca de agua. Todo se procesa localmente en tu navegador.',
                    featureIpTitle: 'UbicaciÃ³n IP',
                    featureIpDesc: 'Consulta la geolocalizaciÃ³n de la direcciÃ³n IP, incluyendo paÃ­s, ciudad e ISP',
                    featureMyIpTitle: 'Mi IP',
                    featureMyIpDesc: 'Detecta y muestra automÃ¡ticamente tu direcciÃ³n IP pÃºblica actual',
                    featureDetailTitle: 'Info detallada',
                    featureDetailDesc: 'Muestra ASN, zona horaria, coordenadas y otros detalles',
                    featureMapTitle: 'Vista de mapa',
                    featureMapDesc: 'Muestra visualmente la ubicaciÃ³n IP en un mapa',
                    labelIpDomain: 'ğŸ“ IP / Dominio',
                    labelResolvedIp: 'ğŸ”¢ IP resuelta',
                    labelNumericAddr: 'ğŸ”¢ DirecciÃ³n numÃ©rica (Decimal)',
                    labelIpRange: 'ğŸ“Š Rango IP',
                    labelCountry: 'ğŸŒ PaÃ­s/RegiÃ³n',
                    labelCity: 'ğŸ™ï¸ Ciudad',
                    labelIsp: 'ğŸ¢ ISP / Operador',
                    labelOrg: 'ğŸ›ï¸ OrganizaciÃ³n',
                    labelTimezone: 'ğŸ• Zona horaria',
                    labelPostal: 'ğŸ“® CÃ³digo postal',
                    geoCoords: 'ğŸ“ Coordenadas geogrÃ¡ficas',
                    querySuccess: 'BÃºsqueda exitosa',
                    clientInfoTitle: 'InformaciÃ³n del cliente',
                    yourPublicIp: 'Tu IP pÃºblica',
                    ipLocation: 'UbicaciÃ³n IP',
                    networkIsp: 'ISP de red',
                    os: 'Sistema operativo',
                    browser: 'Navegador',
                    deviceType: 'Tipo de dispositivo',
                    screenRes: 'ResoluciÃ³n de pantalla',
                    language: 'Idioma',
                    loading: 'Cargando...',
                    loadFailed: 'Error al cargar',
                    faqTitle: 'Preguntas frecuentes',
                    faq1q: 'Â¿Es precisa la ubicaciÃ³n de la direcciÃ³n IP?',
                    faq1a: 'Generalmente precisa a nivel de ciudad, la precisiÃ³n depende de la frecuencia de actualizaciÃ³n de la base de datos IP. Diferentes bases de datos pueden tener ligeras variaciones.',
                    faq2q: 'Â¿Puedo consultar direcciones IP privadas?',
                    faq2a: 'No, las IP privadas (como 192.168.x.x, 10.x.x.x, 172.16.x.x) son rangos de direcciones privadas y no se pueden geolocalizar a travÃ©s de bases de datos pÃºblicas.',
                    faq3q: 'Â¿QuÃ© informaciÃ³n IP se incluye?',
                    faq3a: 'Incluye paÃ­s, ciudad, ISP, ASN, zona horaria, coordenadas, cÃ³digo postal y otros detalles.',
                    faq4q: 'Â¿CÃ³mo ver mi IP pÃºblica?',
                    faq4a: 'Tu IP pÃºblica se muestra automÃ¡ticamente cuando abres la pÃ¡gina. La secciÃ³n "InformaciÃ³n del cliente" en la parte inferior lo mostrarÃ¡ automÃ¡ticamente.',
                    faq5q: 'Â¿La bÃºsqueda IP registra mi informaciÃ³n?',
                    faq5a: 'No, esta herramienta es puramente frontend. Los resultados de bÃºsqueda solo se muestran en el navegador y no se almacenan datos.',
                    faq_free_q: 'Â¿Esta herramienta es realmente gratuita? Â¿Es segura?',
                    faq_free_a: 'SÃ­, esta herramienta es 100% gratuita, sin anuncios, sin registro, sin lÃ­mites de uso y sin marcas de agua. Todo el procesamiento ocurre en tu navegador â€” tus datos nunca salen de tu dispositivo.',
                    relatedToolsTitle: 'ğŸ”— Herramientas relacionadas',
                    relatedTool1: 'Consulta Whois',
                    relatedTool1Desc: 'Consulta de registro de dominio',
                    relatedTool2: 'Probador WebSocket',
                    relatedTool2Desc: 'DepuraciÃ³n de conexiÃ³n WebSocket',
                    relatedTool3: 'Visor JSON',
                    relatedTool3Desc: 'Formatear y validar JSON',
                    relatedTool4: 'Herramientas crypto',
                    relatedTool4Desc: 'CodificaciÃ³n Base64/MD5/SHA',
                    errorEnterInput: 'Por favor ingrese una direcciÃ³n IP o dominio',
                    errorInvalidInput: 'Por favor ingrese una direcciÃ³n IP o dominio vÃ¡lido',
                    errorDnsResolve: 'Error en la resoluciÃ³n del dominio, por favor verifique el dominio',
                    errorQueryFailed: 'Error en la bÃºsqueda, por favor verifique su entrada',
                    coordsLabel: 'Lat: {lat}, Lon: {lon}',
                    deviceDesktop: 'Escritorio',
                    deviceTablet: 'Tableta',
                    deviceMobile: 'MÃ³vil',
                    trust_users: 'ğŸŒ Usado por mÃ¡s de 50,000 usuarios',
                    trust_rating: 'â­ CalificaciÃ³n 4.9/5',
                    trust_privacy: 'ğŸ”’ 100% Privado',
                    trust_free: 'ğŸš« Sin anuncios, sin registro'
                }
            },

            t(key, params = {}) {
                let text = this.translations[getLang()]?.[key] || this.translations['en'][key] || key;
                Object.keys(params).forEach(k => {
                    text = text.replace(`{${k}}`, params[k]);
                });
                return text;
            }
        };

        function ipToNumber(ip) {
            const parts = ip.split('.').map(Number);
            return ((parts[0] << 24) + (parts[1] << 16) + (parts[2] << 8) + parts[3]) >>> 0;
        }

        // è®¡ç®—IPæ®µèŒƒå›´ï¼ˆåŸºäºç®€åŒ–çš„CIDRï¼Œå‡è®¾/24ï¼‰
        function getIPRange(ip) {
            const parts = ip.split('.').map(Number);
            const network = `${parts[0]}.${parts[1]}.${parts[2]}.0`;
            const broadcast = `${parts[0]}.${parts[1]}.${parts[2]}.255`;
            return `${network} - ${broadcast}`;
        }

        // å›½å®¶ä»£ç è½¬æ——å¸œemoji
        function countryToFlag(countryCode) {
            if (!countryCode || countryCode.length !== 2) return 'ğŸŒ';
            const offset = 127397;
            const chars = countryCode.toUpperCase().split('');
            return String.fromCodePoint(...chars.map(c => c.charCodeAt(0) + offset));
        }

        // å¿«é€ŸæŸ¥è¯¢
        function quickQuery(value) {
            document.getElementById('searchInput').value = value;
            queryIP();
        }

        // æ£€æµ‹æ˜¯å¦ä¸ºæœ‰æ•ˆIPåœ°å€
        function isValidIP(str) {
            const ipv4Regex = /^(\d{1,3}\.){3}\d{1,3}$/;
            if (ipv4Regex.test(str)) {
                const parts = str.split('.').map(Number);
                return parts.every(p => p >= 0 && p <= 255);
            }
            return false;
        }

        // æ£€æµ‹æ˜¯å¦ä¸ºåŸŸå
        function isDomain(str) {
            const domainRegex = /^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\.[a-zA-Z]{2,})+$/;
            return domainRegex.test(str);
        }

        // åŸŸåè§£æä¸ºIP - ä½¿ç”¨å¤šä¸ªDNSæœåŠ¡
        async function resolveDomain(domain) {
            const dnsApis = [
                {
                    name: 'Cloudflare DoH',
                    resolve: async (domain) => {
                        const response = await fetch(`https://cloudflare-dns.com/dns-query?name=${domain}&type=A`, {
                            headers: { 'Accept': 'application/dns-json' }
                        });
                        const data = await response.json();
                        if (data.Answer && data.Answer.length > 0) {
                            const aRecord = data.Answer.find(r => r.type === 1);
                            if (aRecord) return aRecord.data;
                        }
                        throw new Error(i18n.t('errorDnsResolve'));
                    }
                },
                {
                    name: 'Google DoH',
                    resolve: async (domain) => {
                        const response = await fetch(`https://dns.google/resolve?name=${domain}&type=A`);
                        const data = await response.json();
                        if (data.Answer && data.Answer.length > 0) {
                            const aRecord = data.Answer.find(r => r.type === 1);
                            if (aRecord) return aRecord.data;
                        }
                        throw new Error(i18n.t('errorDnsResolve'));
                    }
                }
            ];

            for (const api of dnsApis) {
                try {
                    return await api.resolve(domain);
                } catch (e) {
                    console.log(`DNS ${api.name} failed:`, e.message);
                }
            }
            throw new Error(i18n.t('errorDnsResolve'));
        }

        // å¤šAPIæŸ¥è¯¢ç­–ç•¥ - ä½¿ç”¨æ”¯æŒ CORS + HTTPS çš„å…è´¹ API
        const ipApis = [
            {
                name: 'ipapi.co',
                query: async (input) => {
                    const response = await fetch(`https://ipapi.co/${input}/json/`);
                    if (!response.ok) throw new Error('API request failed');
                    const data = await response.json();
                    if (data.error) throw new Error(data.reason || 'Query failed');
                    return {
                        ip: data.ip,
                        country: data.country_name,
                        countryCode: data.country_code,
                        region: data.region,
                        city: data.city,
                        zip: data.postal,
                        lat: data.latitude,
                        lon: data.longitude,
                        timezone: data.timezone,
                        isp: data.org,
                        org: data.org,
                        as: data.asn
                    };
                }
            },
            {
                name: 'ipinfo.io',
                query: async (input) => {
                    const response = await fetch(`https://ipinfo.io/${input}/json`);
                    if (!response.ok) throw new Error('API request failed');
                    const data = await response.json();
                    if (data.bogon || data.error) throw new Error(data.error?.message || 'Query failed');
                    const [lat, lon] = (data.loc || ',').split(',');
                    return {
                        ip: data.ip,
                        country: data.country,
                        countryCode: data.country,
                        region: data.region,
                        city: data.city,
                        zip: data.postal,
                        lat: parseFloat(lat) || null,
                        lon: parseFloat(lon) || null,
                        timezone: data.timezone,
                        isp: data.org,
                        org: data.org,
                        as: data.org
                    };
                }
            }
        ];

        // æŸ¥è¯¢IP - ä½¿ç”¨å¤šAPIå¤‡é€‰ç­–ç•¥
        async function queryIP() {
            const input = document.getElementById('searchInput').value.trim();
            if (!input) {
                showError(i18n.t('errorEnterInput'));
                return;
            }

            const btn = document.getElementById('searchBtn');
            btn.classList.add('loading');
            btn.disabled = true;

            hideError();
            document.getElementById('resultCard').classList.remove('show');

            let ipToQuery = input;
            let originalInput = input;

            // å¦‚æœè¾“å…¥æ˜¯åŸŸåï¼Œå…ˆè§£æä¸ºIP
            if (isDomain(input)) {
                try {
                    ipToQuery = await resolveDomain(input);
                    console.log(`Domain ${input} resolved to IP: ${ipToQuery}`);
                } catch (e) {
                    showError(e.message);
                    btn.classList.remove('loading');
                    btn.disabled = false;
                    return;
                }
            } else if (!isValidIP(input)) {
                showError(i18n.t('errorInvalidInput'));
                btn.classList.remove('loading');
                btn.disabled = false;
                return;
            }

            let lastError = null;

            for (const api of ipApis) {
                try {
                    const data = await api.query(ipToQuery);

                    // æ˜¾ç¤ºç»“æœ
                    const ip = data.ip;
                    document.getElementById('resQuery').textContent = input;
                    document.getElementById('resIP').textContent = ip;
                    document.getElementById('resNumeric').textContent = ipToNumber(ip).toLocaleString();
                    document.getElementById('resRange').textContent = getIPRange(ip);
                    document.getElementById('resCountry').textContent = `${countryToFlag(data.countryCode)} ${data.country}`;
                    document.getElementById('resCity').textContent = `${data.region || ''} ${data.city || '-'}`.trim() || '-';
                    document.getElementById('resISP').textContent = data.isp || '-';
                    document.getElementById('resOrg').textContent = data.as || data.org || '-';
                    document.getElementById('resTimezone').textContent = data.timezone || '-';
                    document.getElementById('resZip').textContent = data.zip || '-';
                    document.getElementById('resCoords').textContent = i18n.t('coordsLabel', { lat: data.lat, lon: data.lon });

                    document.getElementById('resultIcon').textContent = countryToFlag(data.countryCode);
                    document.getElementById('resultQuery').textContent = input;
                    document.getElementById('resultStatus').textContent = `${data.country} Â· ${data.city || data.region || ''}`;

                    document.getElementById('resultCard').classList.add('show');

                    // æˆåŠŸåé€€å‡º
                    btn.classList.remove('loading');
                    btn.disabled = false;
                    return;

                } catch (error) {
                    lastError = error;
                    console.log(`API ${api.name} failed:`, error.message);
                }
            }

            // æ‰€æœ‰APIéƒ½å¤±è´¥äº†
            showError(lastError?.message || i18n.t('errorQueryFailed'));
            btn.classList.remove('loading');
            btn.disabled = false;
        }

        // æ˜¾ç¤ºé”™è¯¯
        function showError(msg) {
            document.getElementById('errorMsg').textContent = msg;
            document.getElementById('errorBox').classList.add('show');
        }

        // éšè—é”™è¯¯
        function hideError() {
            document.getElementById('errorBox').classList.remove('show');
        }

        // è·å–æœ¬æœºä¿¡æ¯ - ä½¿ç”¨å¤šAPIå¤‡é€‰
        async function getClientInfo() {
            const clientApis = [
                {
                    name: 'ipapi.co',
                    url: 'https://ipapi.co/json/',
                    parse: (data) => ({
                        ip: data.ip,
                        country: data.country_name,
                        countryCode: data.country_code,
                        region: data.region,
                        city: data.city,
                        isp: data.org
                    })
                },
                {
                    name: 'ipinfo.io',
                    url: 'https://ipinfo.io/json',
                    parse: (data) => ({
                        ip: data.ip,
                        country: data.country,
                        countryCode: data.country,
                        region: data.region,
                        city: data.city,
                        isp: data.org
                    })
                }
            ];

            for (const api of clientApis) {
                try {
                    const response = await fetch(api.url);
                    const data = await response.json();

                    let result;
                    if (api.parse.constructor.name === 'AsyncFunction') {
                        result = await api.parse(data);
                    } else {
                        result = api.parse(data);
                    }

                    if (result.ip) {
                        document.getElementById('clientIP').textContent = result.ip;
                        document.getElementById('clientLocation').textContent =
                            `${countryToFlag(result.countryCode)} ${result.country} Â· ${result.region || ''} ${result.city || ''}`.trim();
                        document.getElementById('clientISP').textContent = result.isp || '-';
                        break;
                    }
                } catch (e) {
                    console.log(`Client API ${api.name} failed:`, e.message);
                }
            }

            // å¦‚æœæ‰€æœ‰APIéƒ½å¤±è´¥
            if (document.getElementById('clientIP').textContent === i18n.t('loading')) {
                document.getElementById('clientIP').textContent = i18n.t('loadFailed');
                document.getElementById('clientLocation').textContent = '-';
                document.getElementById('clientISP').textContent = '-';
            }

            // è·å–æµè§ˆå™¨ä¿¡æ¯
            const ua = navigator.userAgent;

            // æ“ä½œç³»ç»Ÿ
            let os = 'Unknown';
            if (ua.includes('Windows NT 10')) os = 'Windows 10/11';
            else if (ua.includes('Windows NT 6.3')) os = 'Windows 8.1';
            else if (ua.includes('Windows NT 6.2')) os = 'Windows 8';
            else if (ua.includes('Windows NT 6.1')) os = 'Windows 7';
            else if (ua.includes('Windows')) os = 'Windows';
            else if (ua.includes('Mac OS X')) {
                const match = ua.match(/Mac OS X (\d+[._]\d+)/);
                os = match ? `macOS ${match[1].replace('_', '.')}` : 'macOS';
            }
            else if (ua.includes('Android')) {
                const match = ua.match(/Android (\d+(\.\d+)?)/);
                os = match ? `Android ${match[1]}` : 'Android';
            }
            else if (ua.includes('iPhone') || ua.includes('iPad')) {
                const match = ua.match(/OS (\d+[._]\d+)/);
                os = match ? `iOS ${match[1].replace('_', '.')}` : 'iOS';
            }
            else if (ua.includes('Linux')) os = 'Linux';
            document.getElementById('clientOS').textContent = os;

            // æµè§ˆå™¨
            let browser = 'Unknown';
            if (ua.includes('Edg/')) {
                const match = ua.match(/Edg\/(\d+)/);
                browser = match ? `Microsoft Edge ${match[1]}` : 'Microsoft Edge';
            }
            else if (ua.includes('Chrome/') && !ua.includes('Edg/')) {
                const match = ua.match(/Chrome\/(\d+)/);
                browser = match ? `Google Chrome ${match[1]}` : 'Google Chrome';
            }
            else if (ua.includes('Firefox/')) {
                const match = ua.match(/Firefox\/(\d+)/);
                browser = match ? `Mozilla Firefox ${match[1]}` : 'Mozilla Firefox';
            }
            else if (ua.includes('Safari/') && !ua.includes('Chrome')) {
                const match = ua.match(/Version\/(\d+)/);
                browser = match ? `Safari ${match[1]}` : 'Safari';
            }
            document.getElementById('clientBrowser').textContent = browser;

            // è®¾å¤‡ç±»å‹
            let device = i18n.t('deviceDesktop');
            if (/Mobi|Android|iPhone|iPad|iPod/i.test(ua)) {
                if (/iPad|Tablet/i.test(ua)) device = i18n.t('deviceTablet');
                else device = i18n.t('deviceMobile');
            }
            document.getElementById('clientDevice').textContent = device;

            // å±å¹•åˆ†è¾¨ç‡
            document.getElementById('clientScreen').textContent = `${screen.width} Ã— ${screen.height}`;

            // è¯­è¨€
            document.getElementById('clientLang').textContent = navigator.language || navigator.userLanguage || '-';
        }

        // å›è½¦æœç´¢
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                queryIP();
            }
        });

        // åˆå§‹åŒ–
        getClientInfo();

        window._translations = i18n.translations;
    </script>
    <script src="common/common.js" data-tool-id="ip-lookup" data-tool-name="IP Lookup" data-category="developer"></script>
    <script>WebToolbox.init(window._translations);</script>
</body>
</html>
