<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CT8E5N460D"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-CT8E5N460D');</script>

    <title>Keyboard Tester Online - Test All Keys Free, No Ads | N-Key Rollover</title>
    <meta name="description" content="Free online keyboard tester - test every key, detect ghosting, check N-key rollover. Shows key code, event code, keyCode. No ads, no signup, no upload. 100% browser-based keyboard testing tool.">
    <meta name="keywords" content="keyboard tester, keyboard test online, key tester, keyboard checker, N-key rollover test, ghost key detection, keyboard diagnostic, keycode tester, event.code, event.key, no ads, no signup, free unlimited, browser-based">
    <meta name="author" content="UseMagicTools">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow, max-image-preview:large, max-snippet:-1">
    <meta name="bingbot" content="index, follow">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="General">
    <meta name="distribution" content="global">
    <meta name="language" content="en">
    <link rel="canonical" href="https://www.usemagictools.com/keyboard-tester.html">
    <link rel="alternate" hreflang="en" href="https://www.usemagictools.com/keyboard-tester.html">
    <link rel="alternate" hreflang="zh-CN" href="https://www.usemagictools.com/keyboard-tester.html">
    <link rel="alternate" hreflang="fr" href="https://www.usemagictools.com/keyboard-tester.html">
    <link rel="alternate" hreflang="es" href="https://www.usemagictools.com/keyboard-tester.html">
    <link rel="alternate" hreflang="x-default" href="https://www.usemagictools.com/keyboard-tester.html">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.usemagictools.com/keyboard-tester.html">
    <meta property="og:title" content="Keyboard Tester Online - Test All Keys Free, No Ads | N-Key Rollover">
    <meta property="og:description" content="Free online keyboard tester with virtual keyboard visualization. Test every key, check N-key rollover, detect ghost keys. Shows key/code/keyCode info. No ads, no signup.">
    <meta property="og:image" content="https://www.usemagictools.com/screenshots/keyboard-tester-v1.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="zh_CN">
    <meta property="og:site_name" content="Web Toolbox">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@usemagictools">
    <meta name="twitter:creator" content="@usemagictools">
    <meta name="twitter:title" content="Keyboard Tester Online - Test All Keys Free | N-Key Rollover">
    <meta name="twitter:description" content="Free online keyboard tester with virtual keyboard visualization. Test every key, check N-key rollover, detect ghost keys.">
    <meta name="twitter:image" content="https://www.usemagictools.com/screenshots/keyboard-tester-v1.webp">

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Keyboard Tester",
        "url": "https://www.usemagictools.com/keyboard-tester.html",
        "description": "Free online keyboard tester with virtual keyboard visualization, N-key rollover testing, ghost key detection, and developer key event info.",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Web Browser",
        "featureList": [
            "No ads", "No signup required", "100% browser-based", "Unlimited usage",
            "Virtual keyboard visualization", "N-key rollover test", "Ghost key detection",
            "Multiple layouts (Full/TKL/60%)", "Key event info (key/code/keyCode)",
            "Key press history", "Real-time statistics", "Local processing only"
        ],
        "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"},
        "author": {"@type": "Person", "name": "UseMagicTools"},
        "alternateName": ["键盘检测器", "键盘测试工具", "Testeur de Clavier", "Probador de Teclado"],
        "publisher": {"@type": "Organization", "name": "Web Toolbox", "url": "https://www.usemagictools.com/"},
        "screenshot": "https://www.usemagictools.com/screenshots/keyboard-tester-v1.webp",
        "inLanguage": ["en", "zh-CN", "fr", "es"]
    }
    </script>
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://www.usemagictools.com/"
        },
        {
            "@type": "ListItem",
            "position": 2,
            "name": "Keyboard Tester",
            "item": "https://www.usemagictools.com/keyboard-tester.html"
        }
    ]
}
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Test Your Keyboard Online",
        "step": [
            {"@type": "HowToStep", "position": 1, "name": "Open the Tester", "text": "Open the Keyboard Tester in your browser and select your keyboard layout (Full, TKL, or 60%)."},
            {"@type": "HowToStep", "position": 2, "name": "Press Keys", "text": "Press any key on your keyboard. The virtual keyboard will highlight the key and display detailed event information."},
            {"@type": "HowToStep", "position": 3, "name": "Review Results", "text": "Check the statistics panel for tested key count, N-key rollover results, and review your key press history."}
        ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What is a keyboard tester and why do I need one?",
                "acceptedAnswer": {"@type": "Answer", "text": "A keyboard tester is a tool that detects and visualizes every key press on your keyboard. It helps you identify broken or stuck keys, verify that all keys register correctly, test N-key rollover capability, and diagnose ghost key issues. It's essential for testing new keyboards, troubleshooting input problems, and verifying keyboard functionality after repairs."}
            },
            {
                "@type": "Question",
                "name": "What is N-key rollover and how do I test it?",
                "acceptedAnswer": {"@type": "Answer", "text": "N-key rollover (NKRO) means your keyboard can correctly register N keys pressed simultaneously. Most cheap membrane keyboards support only 2-6 key rollover, while gaming and mechanical keyboards often support full NKRO. To test it, press multiple keys at the same time and check the 'Currently Held' and 'Max Simultaneous' counters in the statistics panel."}
            },
            {
                "@type": "Question",
                "name": "What is a ghost key and how does this tool detect it?",
                "acceptedAnswer": {"@type": "Answer", "text": "A ghost key is a phantom key press that your keyboard reports even though you didn't press that key. This typically happens when pressing 3+ keys simultaneously on keyboards with limited key matrix designs. This tool shows all currently registered keys in real-time, so you can easily spot any unexpected key activations that you didn't intentionally press."}
            },
            {
                "@type": "Question",
                "name": "What do key, code, and keyCode mean?",
                "acceptedAnswer": {"@type": "Answer", "text": "These are JavaScript keyboard event properties useful for developers. 'key' represents the character value of the key (e.g., 'a', 'Enter'). 'code' represents the physical key on the keyboard regardless of layout (e.g., 'KeyA', 'Enter'). 'keyCode' is a legacy numeric code (e.g., 65 for 'A'). The 'location' property indicates whether it's a standard key (0), left modifier (1), right modifier (2), or numpad key (3)."}
            },
            {
                "@type": "Question",
                "name": "Is this keyboard tester free and private?",
                "acceptedAnswer": {"@type": "Answer", "text": "Yes, this keyboard tester is 100% free with no ads, no signup required, and no usage limits. It runs entirely in your browser using JavaScript — no key data is ever sent to any server. Your keystrokes are processed locally and never recorded or stored. It works offline once loaded and respects your complete privacy."}
            }
        ]
    }
    </script>

    <link rel="stylesheet" href="common/common.css">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); min-height: 100vh; color: #e4e4e7; line-height: 1.6; margin: 0; }
        .container { max-width: 1200px; margin: 0 auto; padding: 40px; }

        .tool-header { text-align: center; margin-bottom: 28px; }
        .tool-header h1 { font-size: 2rem; margin-bottom: 8px; }
        .tool-header h1 span { background: linear-gradient(135deg, #00d4ff, #7b61ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .tool-header p { color: var(--text-secondary, #8b95a5); font-size: 1rem; max-width: 600px; margin: 0 auto; }

        /* Control Bar */
        .control-bar { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px; margin-bottom: 20px; }
        .layout-tabs { display: flex; gap: 4px; background: rgba(255,255,255,0.05); border-radius: 10px; padding: 4px; }
        .layout-tab { padding: 8px 18px; border: none; border-radius: 8px; background: transparent; color: #8b95a5; cursor: pointer; font-size: 0.9rem; font-weight: 500; transition: all 0.2s; }
        .layout-tab:hover { color: #c0c8d4; background: rgba(255,255,255,0.05); }
        .layout-tab.active { background: rgba(0, 212, 255, 0.15); color: #00d4ff; box-shadow: 0 0 12px rgba(0,212,255,0.1); }
        .reset-btn { padding: 8px 20px; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; background: transparent; color: #8b95a5; cursor: pointer; font-size: 0.85rem; transition: all 0.2s; }
        .reset-btn:hover { border-color: #ff6b6b; color: #ff6b6b; background: rgba(255,107,107,0.08); }

        /* Key Info Panel */
        .key-info-panel { display: flex; align-items: center; gap: 20px; padding: 16px 24px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; margin-bottom: 20px; min-height: 80px; transition: all 0.3s; }
        .key-info-panel.active { border-color: rgba(0,212,255,0.2); background: rgba(0,212,255,0.03); }
        .key-preview { min-width: 64px; height: 64px; display: flex; align-items: center; justify-content: center; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; font-size: 1.5rem; font-weight: 700; color: #fff; transition: all 0.2s; flex-shrink: 0; padding: 0 12px; }
        .key-preview.active { background: rgba(0,212,255,0.15); border-color: rgba(0,212,255,0.4); box-shadow: 0 0 20px rgba(0,212,255,0.15); }
        .key-info-details { display: flex; gap: 24px; flex-wrap: wrap; flex: 1; }
        .key-info-item { display: flex; flex-direction: column; gap: 2px; }
        .key-info-item .info-label { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.08em; color: #5a6577; }
        .key-info-item .info-value { font-size: 0.95rem; color: #c0c8d4; font-family: 'SF Mono', 'Consolas', 'Monaco', monospace; }
        .key-info-placeholder { color: #4a5568; font-size: 0.9rem; margin: auto; text-align: center; }

        /* Keyboard Wrapper */
        .keyboard-outer { overflow-x: auto; padding-bottom: 8px; margin-bottom: 20px; }
        .keyboard-wrapper { display: inline-flex; flex-direction: column; gap: 10px; padding: 20px 24px 20px 20px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); border-radius: 16px; min-width: fit-content; box-sizing: border-box; }
        .fn-row { display: flex; gap: 16px; margin-bottom: 6px; }
        .fn-main, .fn-nav { display: flex; gap: 3px; align-items: center; }
        .fn-nav { margin-left: auto; }
        .kb-body { display: flex; gap: 16px; flex-shrink: 0; }
        .main-section, .nav-section { display: flex; flex-direction: column; gap: 3px; flex-shrink: 0; }
        .numpad-section { display: grid; grid-template-columns: repeat(4, var(--key-size)); grid-template-rows: repeat(5, var(--key-size)); gap: 3px; align-items: stretch; flex-shrink: 0; }
        .numpad-section .key { height: auto; width: auto; min-width: 0; overflow: hidden; }
        .kb-row { display: flex; gap: 3px; height: var(--key-size); }
        .fn-gap { width: 18px; flex-shrink: 0; }
        .fn-gap-sm { width: 8px; flex-shrink: 0; }

        /* Keys */
        :root { --key-size: 44px; --key-gap: 3px; }
        .key { box-sizing: border-box; height: var(--key-size); display: flex; align-items: center; justify-content: center; background: #2a2d35; border: 1px solid #3d4150; border-bottom: 3px solid #2a2e38; border-radius: 6px; color: #8b95a5; font-size: 0.72rem; font-weight: 500; cursor: default; user-select: none; transition: background 0.15s, border-color 0.15s, transform 0.1s, box-shadow 0.15s, color 0.15s; text-align: center; line-height: 1.1; padding: 0 4px; white-space: nowrap; overflow: hidden; flex-shrink: 0; position: relative; z-index: 0; }
        .key:not(.spacer) { min-width: var(--key-size); }
        .key.spacer { background: transparent; border: none; pointer-events: none; }
        .key.pressed { background: rgba(0, 212, 255, 0.2); border-color: rgba(0, 212, 255, 0.5); border-bottom-color: rgba(0, 212, 255, 0.3); color: #00d4ff; transform: translateY(2px); box-shadow: 0 0 18px rgba(0, 212, 255, 0.25), inset 0 0 8px rgba(0, 212, 255, 0.1); z-index: 2; }
        .key.tested { background: rgba(40, 160, 104, 0.15); border-color: rgba(40, 160, 104, 0.35); border-bottom-color: rgba(40, 160, 104, 0.2); color: #5ec492; }
        .key.tested.pressed { background: rgba(0, 212, 255, 0.2); border-color: rgba(0, 212, 255, 0.5); border-bottom-color: rgba(0, 212, 255, 0.3); color: #00d4ff; box-shadow: 0 0 18px rgba(0, 212, 255, 0.25), inset 0 0 8px rgba(0, 212, 255, 0.1); z-index: 2; }

        /* Stats Bar */
        .stats-bar { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 16px; }
        .stat-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); border-radius: 10px; padding: 14px 16px; text-align: center; }
        .stat-label { font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.06em; color: #5a6577; margin-bottom: 6px; }
        .stat-value { font-size: 1.6rem; font-weight: 700; color: #e0e4ea; }
        .stat-value .stat-total { font-size: 0.9rem; color: #5a6577; font-weight: 400; }
        .progress-bar-wrap { height: 4px; background: rgba(255,255,255,0.06); border-radius: 2px; margin-top: 8px; overflow: hidden; }
        .progress-bar-fill { height: 100%; background: linear-gradient(90deg, #00d4ff, #7b61ff); border-radius: 2px; transition: width 0.4s ease; width: 0%; }

        /* Key History */
        .key-history { margin-bottom: 24px; }
        .key-history h3 { font-size: 0.85rem; color: #5a6577; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 10px; }
        .history-list { display: flex; gap: 4px; overflow-x: auto; padding-bottom: 4px; min-height: 36px; align-items: center; }
        .history-key { min-width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08); border-radius: 6px; font-size: 0.65rem; color: #8b95a5; flex-shrink: 0; padding: 0 6px; animation: historyIn 0.2s ease; }
        @keyframes historyIn { from { opacity: 0; transform: scale(0.8) translateY(4px); } to { opacity: 1; transform: scale(1) translateY(0); } }
        .history-empty { color: #3d4150; font-size: 0.8rem; }

        /* Entrance Animation */
        .keyboard-wrapper { animation: kbFadeIn 0.6s ease; }
        @keyframes kbFadeIn { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }
        .stat-card { animation: statFadeIn 0.5s ease backwards; }
        .stat-card:nth-child(1) { animation-delay: 0.1s; }
        .stat-card:nth-child(2) { animation-delay: 0.2s; }
        .stat-card:nth-child(3) { animation-delay: 0.3s; }
        .stat-card:nth-child(4) { animation-delay: 0.4s; }
        @keyframes statFadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

        /* Features Section */
        .features-section { margin: 40px 0; }
        .features-section h2 { color: #fff; font-size: 1.3rem; font-weight: 700; margin-bottom: 20px; text-align: center; }
        .features-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
        .feature-card { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 24px 20px; text-align: center; transition: all 0.3s ease; }
        .feature-card:hover { background: rgba(255,255,255,0.08); transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.15); }
        .feature-icon { font-size: 2rem; margin-bottom: 12px; }
        .feature-card h3 { color: #fff; font-size: 1rem; font-weight: 600; margin-bottom: 8px; }
        .feature-card p { color: #a1a1aa; font-size: 0.85rem; line-height: 1.6; }

        /* FAQ Section */
        .faq-section { margin: 40px 0; }
        .faq-section h2 { color: #fff; font-size: 1.3rem; font-weight: 700; margin-bottom: 20px; padding-bottom: 12px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .faq-list { display: flex; flex-direction: column; gap: 12px; }
        .faq-item { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; overflow: hidden; transition: all 0.3s ease; }
        .faq-item:hover { border-color: rgba(124,58,237,0.3); }
        .faq-question { width: 100%; padding: 16px 20px; background: none; border: none; color: #e4e4e7; font-size: 0.95rem; font-weight: 500; text-align: left; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: background 0.2s; font-family: inherit; }
        .faq-question:hover { background: rgba(255,255,255,0.05); }
        .faq-question::after { content: '+'; font-size: 1.2rem; color: #7c3aed; transition: transform 0.3s; flex-shrink: 0; margin-left: 12px; }
        .faq-item.active .faq-question::after { transform: rotate(45deg); }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.4s ease; }
        .faq-item.active .faq-answer { max-height: 500px; }
        .faq-answer p { padding: 0 20px 16px; color: #a1a1aa; font-size: 0.9rem; line-height: 1.7; }

        /* Responsive */
        @media (max-width: 1100px) {
            .keyboard-wrapper { transform-origin: top left; }
        }
        @media (max-width: 768px) {
            .stats-bar { grid-template-columns: repeat(2, 1fr); }
            .key-info-panel { flex-direction: column; align-items: stretch; }
            .key-info-details { justify-content: space-between; }
            .control-bar { justify-content: center; }
            .features-grid { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 480px) {
            .tool-header h1 { font-size: 1.5rem; }
            .layout-tab { padding: 6px 12px; font-size: 0.8rem; }
            .features-grid { grid-template-columns: 1fr; }
        }

        /* ========== Light Theme ========== */
        body[data-theme="light"] { background: #fafafa !important; color: #09090b; }

        /* Header & Title */
        [data-theme="light"] .tool-header h1 span { background: linear-gradient(135deg, #7c3aed, #6366f1); -webkit-background-clip: text; background-clip: text; }
        [data-theme="light"] .tool-header p { color: #71717a; }

        /* Control Bar */
        [data-theme="light"] .layout-tabs { background: rgba(0,0,0,0.04); }
        [data-theme="light"] .layout-tab { color: #71717a; }
        [data-theme="light"] .layout-tab:hover { color: #3f3f46; background: rgba(0,0,0,0.04); }
        [data-theme="light"] .layout-tab.active { background: rgba(124,58,237,0.1); color: #7c3aed; box-shadow: none; }
        [data-theme="light"] .reset-btn { border-color: #e4e4e7; color: #71717a; }
        [data-theme="light"] .reset-btn:hover { border-color: #ef4444; color: #ef4444; background: rgba(239,68,68,0.05); }

        /* Key Info Panel */
        [data-theme="light"] .key-info-panel { background: #ffffff; border-color: #e4e4e7; }
        [data-theme="light"] .key-info-panel.active { border-color: rgba(124,58,237,0.3); background: #ffffff; }
        [data-theme="light"] .key-preview { background: #f4f4f5; border-color: #e4e4e7; color: #09090b; }
        [data-theme="light"] .key-preview.active { background: rgba(124,58,237,0.08); border-color: rgba(124,58,237,0.4); box-shadow: 0 0 16px rgba(124,58,237,0.1); }
        [data-theme="light"] .key-info-item .info-label { color: #a1a1aa; }
        [data-theme="light"] .key-info-item .info-value { color: #3f3f46; }
        [data-theme="light"] .key-info-placeholder { color: #a1a1aa; }

        /* Keyboard */
        [data-theme="light"] .keyboard-wrapper { background: #ffffff; border-color: #e4e4e7; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }
        [data-theme="light"] .key { background: #f4f4f5; border-color: #d4d4d8; border-bottom-color: #c0c5cd; color: #3f3f46; }
        [data-theme="light"] .key.pressed { background: rgba(124,58,237,0.12); border-color: rgba(124,58,237,0.5); border-bottom-color: rgba(124,58,237,0.3); color: #7c3aed; box-shadow: 0 0 12px rgba(124,58,237,0.15), inset 0 0 6px rgba(124,58,237,0.05); z-index: 2; }
        [data-theme="light"] .key.tested { background: rgba(34,197,94,0.08); border-color: rgba(34,197,94,0.3); border-bottom-color: rgba(34,197,94,0.2); color: #16a34a; }
        [data-theme="light"] .key.tested.pressed { background: rgba(124,58,237,0.12); border-color: rgba(124,58,237,0.5); border-bottom-color: rgba(124,58,237,0.3); color: #7c3aed; box-shadow: 0 0 12px rgba(124,58,237,0.15), inset 0 0 6px rgba(124,58,237,0.05); z-index: 2; }

        /* Stats */
        [data-theme="light"] .stat-card { background: #ffffff; border-color: #e4e4e7; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }
        [data-theme="light"] .stat-label { color: #a1a1aa; }
        [data-theme="light"] .stat-value { color: #09090b; }
        [data-theme="light"] .stat-value .stat-total { color: #a1a1aa; }
        [data-theme="light"] .progress-bar-wrap { background: #e4e4e7; }
        [data-theme="light"] .progress-bar-fill { background: linear-gradient(90deg, #7c3aed, #6366f1); }

        /* History */
        [data-theme="light"] .key-history h3 { color: #a1a1aa; }
        [data-theme="light"] .history-key { background: #ffffff; border-color: #e4e4e7; color: #3f3f46; }
        [data-theme="light"] .history-empty { color: #d4d4d8; }

        /* Features */
        [data-theme="light"] .features-section .feature-card { background: #ffffff; border: 1px solid #e4e4e7; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }
        [data-theme="light"] .features-section .feature-card:hover { border-color: #d4d4d8; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        [data-theme="light"] .features-section .feature-card h3 { color: #09090b; }
        [data-theme="light"] .features-section .feature-card p { color: #71717a; }

        /* FAQ */
        [data-theme="light"] .faq-section h2 { color: #09090b; }
        [data-theme="light"] .faq-item { background: #ffffff; border-color: #e4e4e7; }
        [data-theme="light"] .faq-question { color: #09090b; }
        [data-theme="light"] .faq-question:hover { color: #7c3aed; }
        [data-theme="light"] .faq-answer p { color: #71717a; }
    </style>
</head>
<body>

<div class="container">
    <div class="tool-header">
        <h1><span data-i18n="tool_title">Keyboard Tester</span></h1>
        <p data-i18n="tool_desc">Press any key to test. Visualize every keystroke, check N-key rollover, and inspect key event details.</p>
    </div>

    <div class="control-bar">
        <div class="layout-tabs">
            <button class="layout-tab active" data-layout="full" data-i18n="layout_full">Full (104)</button>
            <button class="layout-tab" data-layout="tkl" data-i18n="layout_tkl">TKL (87)</button>
            <button class="layout-tab" data-layout="compact" data-i18n="layout_60">60% (61)</button>
        </div>
        <button class="reset-btn" id="resetBtn" data-i18n="reset_btn">Reset</button>
    </div>

    <div class="key-info-panel" id="keyInfoPanel">
        <div class="key-preview" id="keyPreview">?</div>
        <div class="key-info-details" id="keyInfoDetails" style="display:none;">
            <div class="key-info-item">
                <span class="info-label">event.key</span>
                <span class="info-value" id="infoKey">-</span>
            </div>
            <div class="key-info-item">
                <span class="info-label">event.code</span>
                <span class="info-value" id="infoCode">-</span>
            </div>
            <div class="key-info-item">
                <span class="info-label">keyCode</span>
                <span class="info-value" id="infoKeyCode">-</span>
            </div>
            <div class="key-info-item">
                <span class="info-label" data-i18n="info_location">Location</span>
                <span class="info-value" id="infoLocation">-</span>
            </div>
        </div>
        <div class="key-info-placeholder" id="keyInfoPlaceholder" data-i18n="info_placeholder">Press any key on your keyboard to begin testing</div>
    </div>

    <div class="keyboard-outer">
        <div class="keyboard-wrapper" id="keyboard"></div>
    </div>

    <div class="stats-bar">
        <div class="stat-card">
            <div class="stat-label" data-i18n="stat_tested">Keys Tested</div>
            <div class="stat-value"><span id="testedCount">0</span><span class="stat-total">/<span id="testedTotal">104</span></span></div>
            <div class="progress-bar-wrap"><div class="progress-bar-fill" id="progressBar"></div></div>
        </div>
        <div class="stat-card">
            <div class="stat-label" data-i18n="stat_presses">Total Presses</div>
            <div class="stat-value" id="totalPresses">0</div>
        </div>
        <div class="stat-card">
            <div class="stat-label" data-i18n="stat_held">Currently Held</div>
            <div class="stat-value" id="currentHeld">0</div>
        </div>
        <div class="stat-card">
            <div class="stat-label" data-i18n="stat_max">Max Simultaneous</div>
            <div class="stat-value" id="maxSimultaneous">0</div>
        </div>
    </div>

    <div class="key-history">
        <h3 data-i18n="history_title">Key History</h3>
        <div class="history-list" id="historyList">
            <span class="history-empty" data-i18n="history_empty">No keys pressed yet</span>
        </div>
    </div>

    <!-- Trust Bar -->
    <div class="trust-bar">
        <div class="trust-item" data-i18n="trust_users">Trusted by developers worldwide</div>
        <div class="trust-item" data-i18n="trust_rating">Instant key detection</div>
        <div class="trust-item" data-i18n="trust_privacy">100% local processing</div>
        <div class="trust-item" data-i18n="trust_free">Free forever, no limits</div>
    </div>

    <!-- Features Section -->
    <section class="features-section">
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">&#x1F512;</div>
                <h3 data-i18n="feature1_title">100% Free & Private</h3>
                <p data-i18n="feature1_desc">No ads, no signup, no data collection. All key detection runs entirely in your browser. Your keystrokes are never sent to any server.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">&#x2328;</div>
                <h3 data-i18n="feature2_title">Visual Keyboard Map</h3>
                <p data-i18n="feature2_desc">See every key press highlighted in real-time on an interactive virtual keyboard. Supports Full, TKL, and 60% layouts.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">&#x1F50D;</div>
                <h3 data-i18n="feature3_title">N-Key Rollover Test</h3>
                <p data-i18n="feature3_desc">Test how many keys your keyboard can register simultaneously. Detect ghost keys and verify your keyboard's anti-ghosting capabilities.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">&#x1F4BB;</div>
                <h3 data-i18n="feature4_title">Developer Key Info</h3>
                <p data-i18n="feature4_desc">View event.key, event.code, keyCode, and location for every key press. Essential for web developers building keyboard interactions.</p>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <h2 data-i18n="faq_title">Frequently Asked Questions</h2>
        <div class="faq-list">
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq1_q">What is a keyboard tester and why do I need one?</button>
                <div class="faq-answer"><p data-i18n="faq1_a">A keyboard tester is an online tool that detects and visualizes every key press on your keyboard in real-time. It helps you identify broken, stuck, or malfunctioning keys by showing which keys register when pressed. This is essential when testing a new keyboard before purchase, troubleshooting input problems, verifying keyboard functionality after repairs or cleaning, and checking that all keys respond correctly for gaming or professional work.</p></div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq2_q">What is N-key rollover and how do I test it?</button>
                <div class="faq-answer"><p data-i18n="faq2_a">N-key rollover (NKRO) refers to a keyboard's ability to correctly register multiple keys pressed simultaneously. The "N" represents the maximum number of concurrent key presses supported. Most budget membrane keyboards handle 2-6 simultaneous keys, while quality mechanical keyboards often support full NKRO. To test yours, press multiple keys at the same time and watch the "Currently Held" and "Max Simultaneous" counters in the statistics panel. If some keys fail to register while others are held down, your keyboard has limited rollover.</p></div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq3_q">What is a ghost key and how can I detect it?</button>
                <div class="faq-answer"><p data-i18n="faq3_a">A ghost key is a phantom key press that your keyboard reports even though you didn't press that key. This occurs due to the electrical matrix design of most keyboards — when certain combinations of 3 or more keys are pressed simultaneously, the keyboard may incorrectly detect a key at the intersection of the matrix lines. Our tool shows all currently registered keys in real-time on the virtual keyboard, so you can easily spot any unexpected key activations. If a key lights up that you didn't press, that's a ghost key.</p></div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq4_q">What do key, code, and keyCode mean in the info panel?</button>
                <div class="faq-answer"><p data-i18n="faq4_a">These are JavaScript keyboard event properties that web developers use to handle keyboard interactions. "event.key" gives you the character value of the key (like "a" or "Enter"), which changes based on your keyboard layout and modifier keys. "event.code" identifies the physical key on the keyboard regardless of layout (like "KeyA"), making it ideal for games and hotkeys. "keyCode" is the legacy numeric code (like 65 for A) that's deprecated but still widely used. The "location" property distinguishes between left/right modifier keys and numpad keys.</p></div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq_free_q">Is this keyboard tester completely free and private?</button>
                <div class="faq-answer"><p data-i18n="faq_free_a">Yes, this keyboard tester is 100% free with no ads, no signup required, and absolutely no usage limits. It's built with pure JavaScript and runs entirely in your browser — no keystroke data is ever sent to any server. Your key presses are processed locally in real-time and are never recorded, stored, or shared with anyone. The tool even works offline once the page is loaded. We believe privacy-sensitive tools like keyboard testers should never compromise your data, which is why we built it as a completely client-side application.</p></div>
            </div>
        </div>
    </section>

    <!-- Related Tools -->
    <section class="related-tools">
        <h3 data-i18n="related_title">Related Tools</h3>
        <div class="related-grid">
            <a href="regex-tester.html" class="related-card">
                <div>&#x1F50D;</div>
                <h4 data-i18n="related1_name">Regex Tester</h4>
                <p data-i18n="related1_desc">Test and debug regular expressions with real-time matching</p>
            </a>
            <a href="json-viewer.html" class="related-card">
                <div>&#x1F4CB;</div>
                <h4 data-i18n="related2_name">JSON Viewer</h4>
                <p data-i18n="related2_desc">Format, validate, and explore JSON data with syntax highlighting</p>
            </a>
            <a href="base64-tool.html" class="related-card">
                <div>&#x1F511;</div>
                <h4 data-i18n="related3_name">Base64 Tool</h4>
                <p data-i18n="related3_desc">Encode and decode Base64 strings instantly</p>
            </a>
            <a href="code-formatter.html" class="related-card">
                <div>&#x1F4DD;</div>
                <h4 data-i18n="related4_name">Code Formatter</h4>
                <p data-i18n="related4_desc">Format and beautify code in multiple programming languages</p>
            </a>
        </div>
    </section>
</div>

<script>
(function() {
    'use strict';

    /* ========== Keyboard Data ========== */
    var isMac = /Mac|iPod|iPhone|iPad/.test(navigator.platform);
    var metaLabel = isMac ? '⌘' : 'Win';
    var altLabel = isMac ? '⌥ Opt' : 'Alt';

    // k = code, l = label, w = width multiplier (default 1)
    // g = gap/spacer width, h = row span (for numpad grid)
    var fnMain = [
        {k:'Escape',l:'Esc'}, {g:1},
        {k:'F1',l:'F1'},{k:'F2',l:'F2'},{k:'F3',l:'F3'},{k:'F4',l:'F4'}, {g:0.5},
        {k:'F5',l:'F5'},{k:'F6',l:'F6'},{k:'F7',l:'F7'},{k:'F8',l:'F8'}, {g:0.5},
        {k:'F9',l:'F9'},{k:'F10',l:'F10'},{k:'F11',l:'F11'},{k:'F12',l:'F12'}
    ];
    var fnNav = [
        {k:'PrintScreen',l:'PrtSc'},{k:'ScrollLock',l:'ScrLk'},{k:'Pause',l:'Pause'}
    ];

    var mainRows = [
        [{k:'Backquote',l:'`'},{k:'Digit1',l:'1'},{k:'Digit2',l:'2'},{k:'Digit3',l:'3'},{k:'Digit4',l:'4'},{k:'Digit5',l:'5'},{k:'Digit6',l:'6'},{k:'Digit7',l:'7'},{k:'Digit8',l:'8'},{k:'Digit9',l:'9'},{k:'Digit0',l:'0'},{k:'Minus',l:'-'},{k:'Equal',l:'='},{k:'Backspace',l:'⌫ Back',w:2}],
        [{k:'Tab',l:'Tab',w:1.5},{k:'KeyQ',l:'Q'},{k:'KeyW',l:'W'},{k:'KeyE',l:'E'},{k:'KeyR',l:'R'},{k:'KeyT',l:'T'},{k:'KeyY',l:'Y'},{k:'KeyU',l:'U'},{k:'KeyI',l:'I'},{k:'KeyO',l:'O'},{k:'KeyP',l:'P'},{k:'BracketLeft',l:'['},{k:'BracketRight',l:']'},{k:'Backslash',l:'\\',w:1.5}],
        [{k:'CapsLock',l:'Caps',w:1.75},{k:'KeyA',l:'A'},{k:'KeyS',l:'S'},{k:'KeyD',l:'D'},{k:'KeyF',l:'F'},{k:'KeyG',l:'G'},{k:'KeyH',l:'H'},{k:'KeyJ',l:'J'},{k:'KeyK',l:'K'},{k:'KeyL',l:'L'},{k:'Semicolon',l:';'},{k:'Quote',l:"'"},{k:'Enter',l:'Enter',w:2.25}],
        [{k:'ShiftLeft',l:'Shift',w:2.25},{k:'KeyZ',l:'Z'},{k:'KeyX',l:'X'},{k:'KeyC',l:'C'},{k:'KeyV',l:'V'},{k:'KeyB',l:'B'},{k:'KeyN',l:'N'},{k:'KeyM',l:'M'},{k:'Comma',l:','},{k:'Period',l:'.'},{k:'Slash',l:'/'},{k:'ShiftRight',l:'Shift',w:2.75}],
        [{k:'ControlLeft',l:'Ctrl',w:1.25},{k:'MetaLeft',l:metaLabel,w:1.25},{k:'AltLeft',l:altLabel,w:1.25},{k:'Space',l:'Space',w:6.25},{k:'AltRight',l:altLabel,w:1.25},{k:'MetaRight',l:metaLabel,w:1.25},{k:'ContextMenu',l:'Menu',w:1.25},{k:'ControlRight',l:'Ctrl',w:1.25}]
    ];

    var navRows = [
        [{k:'Insert',l:'Ins'},{k:'Home',l:'Home'},{k:'PageUp',l:'PgUp'}],
        [{k:'Delete',l:'Del'},{k:'End',l:'End'},{k:'PageDown',l:'PgDn'}],
        [],
        [{g:1},{k:'ArrowUp',l:'↑'},{g:1}],
        [{k:'ArrowLeft',l:'←'},{k:'ArrowDown',l:'↓'},{k:'ArrowRight',l:'→'}]
    ];

    var numpadKeys = [
        {k:'NumLock',l:'Num',c:1,r:1},{k:'NumpadDivide',l:'/',c:2,r:1},{k:'NumpadMultiply',l:'*',c:3,r:1},{k:'NumpadSubtract',l:'-',c:4,r:1},
        {k:'Numpad7',l:'7',c:1,r:2},{k:'Numpad8',l:'8',c:2,r:2},{k:'Numpad9',l:'9',c:3,r:2},{k:'NumpadAdd',l:'+',c:4,r:2,rs:2},
        {k:'Numpad4',l:'4',c:1,r:3},{k:'Numpad5',l:'5',c:2,r:3},{k:'Numpad6',l:'6',c:3,r:3},
        {k:'Numpad1',l:'1',c:1,r:4},{k:'Numpad2',l:'2',c:2,r:4},{k:'Numpad3',l:'3',c:3,r:4},{k:'NumpadEnter',l:'↵',c:4,r:4,rs:2},
        {k:'Numpad0',l:'0',c:1,r:5,cs:2},{k:'NumpadDecimal',l:'.',c:3,r:5}
    ];

    /* ========== State ========== */
    var testedKeys = {};
    var heldKeys = {};
    var totalPresses = 0;
    var maxSimultaneous = 0;
    var currentLayout = 'full';
    var history = [];
    var keyElements = {};
    var MAX_HISTORY = 40;

    /* ========== DOM Helpers ========== */
    var KS = 44, KG = 3;
    function keyW(w) { return (w || 1) * KS + ((w || 1) - 1) * KG; }

    function makeKey(data) {
        var el = document.createElement('div');
        el.className = 'key';
        el.textContent = data.l;
        el.setAttribute('data-code', data.k);
        el.style.width = keyW(data.w) + 'px';
        keyElements[data.k] = el;
        return el;
    }

    function makeSpacer(w) {
        var el = document.createElement('div');
        el.className = 'key spacer';
        el.style.width = keyW(w) + 'px';
        return el;
    }

    function makeRow(keys) {
        var row = document.createElement('div');
        row.className = 'kb-row';
        for (var i = 0; i < keys.length; i++) {
            var d = keys[i];
            if (d.g !== undefined) row.appendChild(makeSpacer(d.g));
            else row.appendChild(makeKey(d));
        }
        return row;
    }

    function makeGap(cls) {
        var el = document.createElement('div');
        el.className = cls || 'fn-gap';
        return el;
    }

    /* ========== Render Keyboard ========== */
    function renderKeyboard() {
        var wrap = document.getElementById('keyboard');
        wrap.innerHTML = '';
        keyElements = {};

        var showFn = currentLayout !== 'compact';
        var showNav = currentLayout !== 'compact';
        var showNumpad = currentLayout === 'full';

        // Function row
        if (showFn) {
            var fnRowEl = document.createElement('div');
            fnRowEl.className = 'fn-row';
            var fnMainEl = document.createElement('div');
            fnMainEl.className = 'fn-main';
            for (var i = 0; i < fnMain.length; i++) {
                var d = fnMain[i];
                if (d.g !== undefined) fnMainEl.appendChild(makeGap(d.g >= 0.75 ? 'fn-gap' : 'fn-gap-sm'));
                else fnMainEl.appendChild(makeKey(d));
            }
            fnRowEl.appendChild(fnMainEl);

            if (showNav) {
                var fnNavEl = document.createElement('div');
                fnNavEl.className = 'fn-nav';
                for (var j = 0; j < fnNav.length; j++) {
                    fnNavEl.appendChild(makeKey(fnNav[j]));
                    if (j < fnNav.length - 1) {
                        var gap = document.createElement('div');
                        gap.style.width = KG + 'px';
                        fnNavEl.appendChild(gap);
                    }
                }
                fnRowEl.appendChild(fnNavEl);
            }
            wrap.appendChild(fnRowEl);
        }

        // Body
        var body = document.createElement('div');
        body.className = 'kb-body';

        // Main section
        var mainSec = document.createElement('div');
        mainSec.className = 'main-section';
        for (var r = 0; r < mainRows.length; r++) {
            mainSec.appendChild(makeRow(mainRows[r]));
        }
        body.appendChild(mainSec);

        // Nav section
        if (showNav) {
            var navSec = document.createElement('div');
            navSec.className = 'nav-section';
            for (var n = 0; n < navRows.length; n++) {
                if (navRows[n].length === 0) {
                    var empty = document.createElement('div');
                    empty.className = 'kb-row';
                    empty.style.height = KS + 'px';
                    navSec.appendChild(empty);
                } else {
                    navSec.appendChild(makeRow(navRows[n]));
                }
            }
            body.appendChild(navSec);
        }

        // Numpad
        if (showNumpad) {
            var numSec = document.createElement('div');
            numSec.className = 'numpad-section';
            numSec.style.setProperty('--key-size', KS + 'px');
            for (var p = 0; p < numpadKeys.length; p++) {
                var nk = numpadKeys[p];
                var nel = document.createElement('div');
                nel.className = 'key';
                nel.textContent = nk.l;
                nel.setAttribute('data-code', nk.k);
                nel.style.gridColumn = nk.cs ? nk.c + ' / span ' + nk.cs : nk.c;
                nel.style.gridRow = nk.rs ? nk.r + ' / span ' + nk.rs : nk.r;
                keyElements[nk.k] = nel;
                numSec.appendChild(nel);
            }
            body.appendChild(numSec);
        }

        wrap.appendChild(body);
        restoreTestedState();
        updateStats();
    }

    function restoreTestedState() {
        for (var code in testedKeys) {
            if (keyElements[code]) keyElements[code].classList.add('tested');
        }
        for (var code2 in heldKeys) {
            if (keyElements[code2]) keyElements[code2].classList.add('pressed');
        }
    }

    /* ========== Key Count for Layout ========== */
    function getLayoutKeyCount() {
        var count = 0;
        for (var code in keyElements) {
            if (keyElements.hasOwnProperty(code)) count++;
        }
        return count;
    }

    function getTestedInLayout() {
        var count = 0;
        for (var code in testedKeys) {
            if (keyElements[code]) count++;
        }
        return count;
    }

    /* ========== Stats ========== */
    function updateStats() {
        var total = getLayoutKeyCount();
        var tested = getTestedInLayout();
        document.getElementById('testedCount').textContent = tested;
        document.getElementById('testedTotal').textContent = total;
        document.getElementById('totalPresses').textContent = totalPresses;
        var heldCount = Object.keys(heldKeys).length;
        document.getElementById('currentHeld').textContent = heldCount;
        document.getElementById('maxSimultaneous').textContent = maxSimultaneous;
        var pct = total > 0 ? (tested / total * 100) : 0;
        document.getElementById('progressBar').style.width = pct + '%';
    }

    /* ========== History ========== */
    function addToHistory(label) {
        history.unshift(label);
        if (history.length > MAX_HISTORY) history.pop();
        renderHistory();
    }

    function renderHistory() {
        var list = document.getElementById('historyList');
        list.innerHTML = '';
        if (history.length === 0) {
            var empty = document.createElement('span');
            empty.className = 'history-empty';
            empty.setAttribute('data-i18n', 'history_empty');
            empty.textContent = t('history_empty');
            list.appendChild(empty);
            return;
        }
        for (var i = 0; i < history.length; i++) {
            var chip = document.createElement('div');
            chip.className = 'history-key';
            chip.textContent = history[i];
            list.appendChild(chip);
        }
    }

    /* ========== Key Info ========== */
    var locationNames = {0: 'Standard', 1: 'Left', 2: 'Right', 3: 'Numpad'};

    function updateKeyInfo(e) {
        var panel = document.getElementById('keyInfoPanel');
        var preview = document.getElementById('keyPreview');
        var details = document.getElementById('keyInfoDetails');
        var placeholder = document.getElementById('keyInfoPlaceholder');

        panel.classList.add('active');
        preview.classList.add('active');
        var previewText = e.key === ' ' ? '␣' : (e.key.length === 1 ? e.key.toUpperCase() : e.key);
        preview.textContent = previewText;
        details.style.display = 'flex';
        if (placeholder) placeholder.style.display = 'none';

        document.getElementById('infoKey').textContent = e.key;
        document.getElementById('infoCode').textContent = e.code;
        document.getElementById('infoKeyCode').textContent = e.keyCode;
        document.getElementById('infoLocation').textContent = locationNames[e.location] || e.location;
    }

    /* ========== Event Handlers ========== */
    function onKeyDown(e) {
        e.preventDefault();
        var code = e.code;
        if (!code) return;

        // Update key info
        updateKeyInfo(e);

        // Mark as held
        if (!heldKeys[code]) {
            heldKeys[code] = true;
            totalPresses++;

            // Get display label for history
            var label = e.key === ' ' ? '␣' : (e.key.length === 1 ? e.key.toUpperCase() : e.code.replace(/^(Key|Digit|Numpad|Arrow)/, ''));
            addToHistory(label);
        }

        // Update max simultaneous
        var heldCount = Object.keys(heldKeys).length;
        if (heldCount > maxSimultaneous) maxSimultaneous = heldCount;

        // Mark as tested
        testedKeys[code] = true;

        // Update visual
        if (keyElements[code]) {
            keyElements[code].classList.add('pressed', 'tested');
        }

        updateStats();
    }

    function onKeyUp(e) {
        e.preventDefault();
        var code = e.code;
        if (!code) return;

        delete heldKeys[code];
        if (keyElements[code]) {
            keyElements[code].classList.remove('pressed');
        }

        var preview = document.getElementById('keyPreview');
        preview.classList.remove('active');

        updateStats();
    }

    /* ========== Reset ========== */
    function resetAll() {
        testedKeys = {};
        heldKeys = {};
        totalPresses = 0;
        maxSimultaneous = 0;
        history = [];

        for (var code in keyElements) {
            keyElements[code].classList.remove('pressed', 'tested');
        }

        var panel = document.getElementById('keyInfoPanel');
        var preview = document.getElementById('keyPreview');
        var details = document.getElementById('keyInfoDetails');
        var placeholder = document.getElementById('keyInfoPlaceholder');
        panel.classList.remove('active');
        preview.classList.remove('active');
        preview.textContent = '?';
        details.style.display = 'none';
        if (placeholder) {
            placeholder.style.display = '';
            placeholder.textContent = t('info_placeholder');
        }

        renderHistory();
        updateStats();
    }

    /* ========== Layout Switching ========== */
    function switchLayout(layout) {
        currentLayout = layout;
        document.querySelectorAll('.layout-tab').forEach(function(tab) {
            tab.classList.toggle('active', tab.getAttribute('data-layout') === layout);
        });
        renderKeyboard();
    }

    /* ========== Translations ========== */
    var translations = {
        en: {
            tool_name: 'Keyboard Tester',
            tool_title: 'Keyboard Tester',
            tool_desc: 'Press any key to test. Visualize every keystroke, check N-key rollover, and inspect key event details.',
            layout_full: 'Full (104)',
            layout_tkl: 'TKL (87)',
            layout_60: '60% (61)',
            reset_btn: 'Reset',
            info_location: 'Location',
            info_placeholder: 'Press any key on your keyboard to begin testing',
            stat_tested: 'Keys Tested',
            stat_presses: 'Total Presses',
            stat_held: 'Currently Held',
            stat_max: 'Max Simultaneous',
            history_title: 'Key History',
            history_empty: 'No keys pressed yet',
            trust_users: 'Trusted by developers worldwide',
            trust_rating: 'Instant key detection',
            trust_privacy: '100% local processing',
            trust_free: 'Free forever, no limits',
            feature1_title: '100% Free & Private',
            feature1_desc: 'No ads, no signup, no data collection. All key detection runs entirely in your browser. Your keystrokes are never sent to any server.',
            feature2_title: 'Visual Keyboard Map',
            feature2_desc: 'See every key press highlighted in real-time on an interactive virtual keyboard. Supports Full, TKL, and 60% layouts.',
            feature3_title: 'N-Key Rollover Test',
            feature3_desc: 'Test how many keys your keyboard can register simultaneously. Detect ghost keys and verify your keyboard\'s anti-ghosting capabilities.',
            feature4_title: 'Developer Key Info',
            feature4_desc: 'View event.key, event.code, keyCode, and location for every key press. Essential for web developers building keyboard interactions.',
            faq_title: 'Frequently Asked Questions',
            faq1_q: 'What is a keyboard tester and why do I need one?',
            faq1_a: 'A keyboard tester is an online tool that detects and visualizes every key press on your keyboard in real-time. It helps you identify broken, stuck, or malfunctioning keys by showing which keys register when pressed. This is essential when testing a new keyboard before purchase, troubleshooting input problems, verifying keyboard functionality after repairs or cleaning, and checking that all keys respond correctly for gaming or professional work.',
            faq2_q: 'What is N-key rollover and how do I test it?',
            faq2_a: 'N-key rollover (NKRO) refers to a keyboard\'s ability to correctly register multiple keys pressed simultaneously. The "N" represents the maximum number of concurrent key presses supported. Most budget membrane keyboards handle 2-6 simultaneous keys, while quality mechanical keyboards often support full NKRO. To test yours, press multiple keys at the same time and watch the "Currently Held" and "Max Simultaneous" counters in the statistics panel. If some keys fail to register while others are held down, your keyboard has limited rollover.',
            faq3_q: 'What is a ghost key and how can I detect it?',
            faq3_a: 'A ghost key is a phantom key press that your keyboard reports even though you didn\'t press that key. This occurs due to the electrical matrix design of most keyboards — when certain combinations of 3 or more keys are pressed simultaneously, the keyboard may incorrectly detect a key at the intersection of the matrix lines. Our tool shows all currently registered keys in real-time on the virtual keyboard, so you can easily spot any unexpected key activations. If a key lights up that you didn\'t press, that\'s a ghost key.',
            faq4_q: 'What do key, code, and keyCode mean in the info panel?',
            faq4_a: 'These are JavaScript keyboard event properties that web developers use to handle keyboard interactions. "event.key" gives you the character value of the key (like "a" or "Enter"), which changes based on your keyboard layout and modifier keys. "event.code" identifies the physical key on the keyboard regardless of layout (like "KeyA"), making it ideal for games and hotkeys. "keyCode" is the legacy numeric code (like 65 for A) that\'s deprecated but still widely used. The "location" property distinguishes between left/right modifier keys and numpad keys.',
            faq_free_q: 'Is this keyboard tester completely free and private?',
            faq_free_a: 'Yes, this keyboard tester is 100% free with no ads, no signup required, and absolutely no usage limits. It\'s built with pure JavaScript and runs entirely in your browser — no keystroke data is ever sent to any server. Your key presses are processed locally in real-time and are never recorded, stored, or shared with anyone. The tool even works offline once the page is loaded. We believe privacy-sensitive tools like keyboard testers should never compromise your data, which is why we built it as a completely client-side application.',
            related_title: 'Related Tools',
            related1_name: 'Regex Tester',
            related1_desc: 'Test and debug regular expressions with real-time matching',
            related2_name: 'JSON Viewer',
            related2_desc: 'Format, validate, and explore JSON data with syntax highlighting',
            related3_name: 'Base64 Tool',
            related3_desc: 'Encode and decode Base64 strings instantly',
            related4_name: 'Code Formatter',
            related4_desc: 'Format and beautify code in multiple programming languages'
        },
        'zh-CN': {
            tool_name: '键盘检测器',
            tool_title: '键盘检测器',
            tool_desc: '按下任意按键开始测试。实时可视化每次按键，检测N键无冲，查看按键事件详情。',
            layout_full: '全键盘 (104)',
            layout_tkl: '87键 (TKL)',
            layout_60: '60% (61)',
            reset_btn: '重置',
            info_location: '位置',
            info_placeholder: '按下键盘上的任意按键开始测试',
            stat_tested: '已测试按键',
            stat_presses: '总按键次数',
            stat_held: '当前按住',
            stat_max: '最大同时按键',
            history_title: '按键历史',
            history_empty: '尚未按下任何按键',
            trust_users: '全球开发者信赖',
            trust_rating: '即时按键检测',
            trust_privacy: '100% 本地处理',
            trust_free: '永久免费，无限制',
            feature1_title: '100% 免费且隐私安全',
            feature1_desc: '无广告、无需注册、不收集数据。所有按键检测完全在浏览器中运行，您的按键信息永远不会发送到任何服务器。',
            feature2_title: '可视化键盘映射',
            feature2_desc: '在交互式虚拟键盘上实时查看每次按键高亮。支持全键盘、87键(TKL)和60%布局。',
            feature3_title: 'N键无冲测试',
            feature3_desc: '测试您的键盘能同时注册多少个按键。检测鬼键并验证键盘的防冲突能力。',
            feature4_title: '开发者按键信息',
            feature4_desc: '查看每次按键的 event.key、event.code、keyCode 和 location。Web 开发者构建键盘交互的必备工具。',
            faq_title: '常见问题',
            faq1_q: '什么是键盘检测器？为什么需要它？',
            faq1_a: '键盘检测器是一款在线工具，可实时检测和可视化键盘上的每次按键操作。它通过显示哪些按键在按下时已注册来帮助您识别损坏、卡住或故障的按键。在购买新键盘前测试、排查输入问题、维修或清洁后验证键盘功能、以及检查所有按键是否对游戏或专业工作正常响应时，它都至关重要。',
            faq2_q: '什么是N键无冲？如何测试？',
            faq2_a: 'N键无冲（NKRO）是指键盘正确注册同时按下的多个按键的能力。"N"代表支持的最大并发按键数。大多数廉价薄膜键盘支持2-6个同时按键，而优质机械键盘通常支持全键无冲。要测试您的键盘，请同时按下多个按键，观察统计面板中的"当前按住"和"最大同时按键"计数器。如果在按住其他按键时某些按键无法注册，说明您的键盘无冲能力有限。',
            faq3_q: '什么是鬼键？如何检测？',
            faq3_a: '鬼键是您没有按下但键盘却报告的虚假按键。这是由于大多数键盘的电路矩阵设计造成的——当同时按下3个或更多特定组合的按键时，键盘可能会在矩阵线交叉处错误检测到一个按键。我们的工具在虚拟键盘上实时显示所有当前注册的按键，因此您可以轻松发现任何意外的按键激活。如果有一个您没按的按键亮了起来，那就是鬼键。',
            faq4_q: '信息面板中的 key、code 和 keyCode 是什么意思？',
            faq4_a: '这些是 Web 开发者用来处理键盘交互的 JavaScript 键盘事件属性。"event.key" 提供按键的字符值（如 "a" 或 "Enter"），它会根据键盘布局和修饰键变化。"event.code" 标识键盘上的物理按键，与布局无关（如 "KeyA"），非常适合游戏和快捷键。"keyCode" 是遗留的数字代码（如 A 为 65），虽已弃用但仍广泛使用。"location" 属性用于区分左右修饰键和小键盘按键。',
            faq_free_q: '这个键盘检测器完全免费且保护隐私吗？',
            faq_free_a: '是的，这款键盘检测器100%免费，无广告、无需注册、完全没有使用限制。它使用纯JavaScript构建，完全在浏览器中运行——没有任何按键数据会发送到服务器。您的按键操作在本地实时处理，永远不会被记录、存储或与任何人共享。页面加载后甚至可以离线使用。我们认为像键盘检测器这样的隐私敏感工具绝不应该泄露您的数据，因此我们将其构建为完全的客户端应用。',
            related_title: '相关工具',
            related1_name: '正则表达式测试',
            related1_desc: '实时匹配测试和调试正则表达式',
            related2_name: 'JSON 查看器',
            related2_desc: '格式化、验证和浏览 JSON 数据',
            related3_name: 'Base64 工具',
            related3_desc: '即时编码和解码 Base64 字符串',
            related4_name: '代码格式化',
            related4_desc: '格式化和美化多种编程语言代码'
        },
        fr: {
            tool_name: 'Testeur de Clavier',
            tool_title: 'Testeur de Clavier',
            tool_desc: 'Appuyez sur n\'importe quelle touche pour tester. Visualisez chaque frappe, vérifiez le N-key rollover et inspectez les détails des événements.',
            layout_full: 'Complet (104)',
            layout_tkl: 'TKL (87)',
            layout_60: '60% (61)',
            reset_btn: 'Réinitialiser',
            info_location: 'Emplacement',
            info_placeholder: 'Appuyez sur une touche de votre clavier pour commencer le test',
            stat_tested: 'Touches testées',
            stat_presses: 'Total des frappes',
            stat_held: 'Maintenues',
            stat_max: 'Max simultanées',
            history_title: 'Historique des touches',
            history_empty: 'Aucune touche pressée',
            trust_users: 'Approuvé par les développeurs',
            trust_rating: 'Détection instantanée',
            trust_privacy: 'Traitement 100% local',
            trust_free: 'Gratuit pour toujours',
            feature1_title: '100% Gratuit & Privé',
            feature1_desc: 'Sans publicité, sans inscription, sans collecte de données. Toute la détection fonctionne dans votre navigateur. Vos frappes ne sont jamais envoyées à un serveur.',
            feature2_title: 'Clavier Visuel Interactif',
            feature2_desc: 'Voyez chaque touche mise en évidence en temps réel sur un clavier virtuel interactif. Supporte les dispositions Complet, TKL et 60%.',
            feature3_title: 'Test N-Key Rollover',
            feature3_desc: 'Testez combien de touches votre clavier peut enregistrer simultanément. Détectez les touches fantômes et vérifiez les capacités anti-ghosting.',
            feature4_title: 'Infos Développeur',
            feature4_desc: 'Consultez event.key, event.code, keyCode et location pour chaque touche. Essentiel pour les développeurs web.',
            faq_title: 'Questions Fréquentes',
            faq1_q: 'Qu\'est-ce qu\'un testeur de clavier et pourquoi en ai-je besoin ?',
            faq1_a: 'Un testeur de clavier est un outil en ligne qui détecte et visualise chaque pression de touche en temps réel. Il vous aide à identifier les touches cassées, bloquées ou défectueuses. C\'est essentiel pour tester un nouveau clavier, résoudre des problèmes de saisie, vérifier le fonctionnement après une réparation ou un nettoyage, et s\'assurer que toutes les touches répondent correctement.',
            faq2_q: 'Qu\'est-ce que le N-key rollover et comment le tester ?',
            faq2_a: 'Le N-key rollover (NKRO) désigne la capacité d\'un clavier à enregistrer correctement plusieurs touches pressées simultanément. Le "N" représente le nombre maximum de pressions simultanées supportées. La plupart des claviers à membrane gèrent 2 à 6 touches simultanées, tandis que les claviers mécaniques supportent souvent le NKRO complet. Pour tester le vôtre, appuyez sur plusieurs touches en même temps et observez les compteurs dans le panneau de statistiques.',
            faq3_q: 'Qu\'est-ce qu\'une touche fantôme et comment la détecter ?',
            faq3_a: 'Une touche fantôme est une pression fantôme signalée par votre clavier alors que vous n\'avez pas appuyé sur cette touche. Cela se produit en raison de la conception matricielle électrique — lorsque certaines combinaisons de 3 touches ou plus sont pressées simultanément, le clavier peut détecter incorrectement une touche à l\'intersection. Notre outil affiche toutes les touches enregistrées en temps réel, vous permettant de repérer facilement les activations inattendues.',
            faq4_q: 'Que signifient key, code et keyCode dans le panneau d\'info ?',
            faq4_a: 'Ce sont des propriétés des événements clavier JavaScript. "event.key" donne la valeur du caractère (comme "a" ou "Enter"), variable selon la disposition. "event.code" identifie la touche physique indépendamment de la disposition (comme "KeyA"). "keyCode" est le code numérique historique (comme 65 pour A). La propriété "location" distingue les touches de modification gauche/droite et le pavé numérique.',
            faq_free_q: 'Ce testeur de clavier est-il gratuit et respectueux de la vie privée ?',
            faq_free_a: 'Oui, ce testeur est 100% gratuit, sans publicité, sans inscription et sans aucune limite. Il fonctionne entièrement dans votre navigateur en JavaScript pur — aucune donnée de frappe n\'est envoyée à un serveur. Vos pressions sont traitées localement en temps réel et ne sont jamais enregistrées ou partagées. L\'outil fonctionne même hors ligne une fois chargé.',
            related_title: 'Outils Connexes',
            related1_name: 'Testeur Regex',
            related1_desc: 'Tester et déboguer les expressions régulières',
            related2_name: 'Visionneuse JSON',
            related2_desc: 'Formater et explorer les données JSON',
            related3_name: 'Outil Base64',
            related3_desc: 'Encoder et décoder les chaînes Base64',
            related4_name: 'Formateur de Code',
            related4_desc: 'Formater et embellir le code dans plusieurs langages'
        },
        es: {
            tool_name: 'Probador de Teclado',
            tool_title: 'Probador de Teclado',
            tool_desc: 'Presiona cualquier tecla para probar. Visualiza cada pulsación, verifica el N-key rollover e inspecciona los detalles del evento.',
            layout_full: 'Completo (104)',
            layout_tkl: 'TKL (87)',
            layout_60: '60% (61)',
            reset_btn: 'Reiniciar',
            info_location: 'Ubicación',
            info_placeholder: 'Presiona cualquier tecla en tu teclado para comenzar la prueba',
            stat_tested: 'Teclas probadas',
            stat_presses: 'Total de pulsaciones',
            stat_held: 'Mantenidas',
            stat_max: 'Máx. simultáneas',
            history_title: 'Historial de teclas',
            history_empty: 'Sin teclas presionadas aún',
            trust_users: 'Confiado por desarrolladores',
            trust_rating: 'Detección instantánea',
            trust_privacy: 'Procesamiento 100% local',
            trust_free: 'Gratis para siempre',
            feature1_title: '100% Gratis y Privado',
            feature1_desc: 'Sin anuncios, sin registro, sin recolección de datos. Toda la detección funciona en tu navegador. Tus pulsaciones nunca se envían a ningún servidor.',
            feature2_title: 'Mapa Visual del Teclado',
            feature2_desc: 'Observa cada pulsación resaltada en tiempo real en un teclado virtual interactivo. Soporta diseños Completo, TKL y 60%.',
            feature3_title: 'Prueba N-Key Rollover',
            feature3_desc: 'Prueba cuántas teclas puede registrar tu teclado simultáneamente. Detecta teclas fantasma y verifica las capacidades anti-ghosting.',
            feature4_title: 'Info para Desarrolladores',
            feature4_desc: 'Ve event.key, event.code, keyCode y location de cada pulsación. Esencial para desarrolladores web que construyen interacciones de teclado.',
            faq_title: 'Preguntas Frecuentes',
            faq1_q: '¿Qué es un probador de teclado y por qué lo necesito?',
            faq1_a: 'Un probador de teclado es una herramienta en línea que detecta y visualiza cada pulsación en tiempo real. Te ayuda a identificar teclas rotas, atascadas o defectuosas. Es esencial para probar teclados nuevos, solucionar problemas de entrada, verificar el funcionamiento después de reparaciones y comprobar que todas las teclas responden correctamente para juegos o trabajo profesional.',
            faq2_q: '¿Qué es el N-key rollover y cómo lo pruebo?',
            faq2_a: 'El N-key rollover (NKRO) se refiere a la capacidad del teclado para registrar correctamente múltiples teclas presionadas simultáneamente. La "N" representa el número máximo de pulsaciones simultáneas soportadas. La mayoría de los teclados de membrana manejan 2-6 teclas simultáneas, mientras que los teclados mecánicos de calidad suelen soportar NKRO completo. Para probar el tuyo, presiona varias teclas al mismo tiempo y observa los contadores en el panel de estadísticas.',
            faq3_q: '¿Qué es una tecla fantasma y cómo puedo detectarla?',
            faq3_a: 'Una tecla fantasma es una pulsación fantasma que tu teclado reporta aunque no hayas presionado esa tecla. Esto ocurre debido al diseño de la matriz eléctrica — cuando ciertas combinaciones de 3 o más teclas se presionan simultáneamente, el teclado puede detectar incorrectamente una tecla en la intersección. Nuestra herramienta muestra todas las teclas registradas en tiempo real, permitiéndote detectar fácilmente activaciones inesperadas.',
            faq4_q: '¿Qué significan key, code y keyCode en el panel de info?',
            faq4_a: 'Son propiedades de eventos de teclado de JavaScript. "event.key" da el valor del carácter (como "a" o "Enter"), que cambia según la disposición. "event.code" identifica la tecla física independientemente de la disposición (como "KeyA"). "keyCode" es el código numérico heredado (como 65 para A). La propiedad "location" distingue entre teclas modificadoras izquierda/derecha y teclas del teclado numérico.',
            faq_free_q: '¿Es este probador de teclado completamente gratis y privado?',
            faq_free_a: 'Sí, este probador es 100% gratis, sin anuncios, sin registro y sin límites de uso. Está construido con JavaScript puro y funciona completamente en tu navegador — ningún dato de pulsación se envía a ningún servidor. Tus pulsaciones se procesan localmente en tiempo real y nunca se graban o comparten. La herramienta incluso funciona sin conexión una vez cargada.',
            related_title: 'Herramientas Relacionadas',
            related1_name: 'Probador Regex',
            related1_desc: 'Probar y depurar expresiones regulares',
            related2_name: 'Visor JSON',
            related2_desc: 'Formatear y explorar datos JSON',
            related3_name: 'Herramienta Base64',
            related3_desc: 'Codificar y decodificar cadenas Base64',
            related4_name: 'Formateador de Código',
            related4_desc: 'Formatear y embellecer código en varios lenguajes'
        }
    };

    function t(key) {
        var lang = (typeof WebToolbox !== 'undefined' && WebToolbox.getCurrentLang) ? WebToolbox.getCurrentLang() : 'en';
        return (translations[lang] && translations[lang][key]) || (translations.en && translations.en[key]) || key;
    }

    window._translations = translations;

    /* ========== Init ========== */
    document.addEventListener('DOMContentLoaded', function() {
        renderKeyboard();

        document.addEventListener('keydown', onKeyDown);
        document.addEventListener('keyup', onKeyUp);

        // Prevent Tab from leaving the page
        window.addEventListener('blur', function() {
            // Release all held keys when window loses focus
            for (var code in heldKeys) {
                if (keyElements[code]) keyElements[code].classList.remove('pressed');
            }
            heldKeys = {};
            document.getElementById('keyPreview').classList.remove('active');
            updateStats();
        });

        // Layout tabs
        document.querySelectorAll('.layout-tab').forEach(function(tab) {
            tab.addEventListener('click', function() {
                switchLayout(this.getAttribute('data-layout'));
            });
        });

        // Reset
        document.getElementById('resetBtn').addEventListener('click', resetAll);
    });
})();
</script>
<script src="common/common.js" data-tool-id="keyboard-tester" data-tool-name="Keyboard Tester" data-category="developer" data-show-theme-toggle="true"></script>
<script>WebToolbox.init(window._translations);</script>
</body>
</html>
